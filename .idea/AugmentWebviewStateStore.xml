<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AugmentWebviewStateStore">
    <option name="stateMap">
      <map>
        <entry key="CHAT_STATE" value="eyJjdXJyZW50Q29udmVyc2F0aW9uSWQiOiI3ZDM5MGVkNy01MjczLTRkNjctODA5Yi02N2UyZjhiMDIyMGQiLCJjb252ZXJzYXRpb25zIjp7ImY1YWQwMTNmLWE2YzEtNGU0Yi04NzU3LTEwMGY5OGRmYTMzMCI6eyJpZCI6ImY1YWQwMTNmLWE2YzEtNGU0Yi04NzU3LTEwMGY5OGRmYTMzMCIsIm5hbWUiOiJXZWxjb21lIHRvIHRoZSBBdWdtZW50IEFnZW50IiwiY3JlYXRlZEF0SXNvIjoiMjAyNS0wNS0yMlQwNzoyMjo1Ny4zNjVaIiwibGFzdEludGVyYWN0ZWRBdElzbyI6IjIwMjUtMDUtMjJUMDc6MjU6MzUuOTg0WiIsImNoYXRIaXN0b3J5IjpbeyJyZXF1ZXN0X2lkIjoiMzlmYjI2YWUtYjBjNi00MDg1LWE2YzgtOTkzZmRiMWQyYzNjIiwidXVpZCI6ImFlNDAyY2ZmLTIwZGYtNGU3Mi04Njg0LTQ5NWVjYmRjZjIyNSIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MCwidG9UaW1lc3RhbXAiOjE3NDc4OTg1NzczNjYsInNlZW5fc3RhdGUiOiJzZWVuIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImQzZjE1M2I2LTQ2NGEtNDJkZS1iMjIzLTM3NDQyNzMwNjJmNSIsInJlcXVlc3RfbWVzc2FnZSI6IlRoZXJlIGlzIGEgbnVtYmVyIG9mIGJvaWxlcnBsYXRlIGNvZGUgZmlsZXMgaW4gdGhlIGN1cnJlbnQgcHJvamVjdCB0aGF0IGZvY3VzIG9uIGltcGxlbWVudCBVSSBKU09ONSBjb25maWdzLCBzcGVjaWZpY2FsbHkgYWxvbmcgdGhlIGxpbmVzIG9mIHZhcmlhYmxlX2FjdGlvbnMsIGVudGl0eV9rZXlmcmFtZXMsIGV0Yy4gd2l0aGluIC9qcy9mcmFtZXdvcmssIGkuZS4gZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanMuIFdoYXQgaXMgdGhlIGxpc3Qgb2YgYWxsIG9mIHRoZXNlIGZpbGVzIHRoYXQgZm9sbG93IHRoaXMgdGVtcGxhdGU/IiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IlRoZXJlIGlzIGEgbnVtYmVyIG9mIGJvaWxlcnBsYXRlIGNvZGUgZmlsZXMgaW4gdGhlIGN1cnJlbnQgcHJvamVjdCB0aGF0IGZvY3VzIG9uIGltcGxlbWVudCBVSSBKU09ONSBjb25maWdzLCBzcGVjaWZpY2FsbHkgYWxvbmcgdGhlIGxpbmVzIG9mIHZhcmlhYmxlX2FjdGlvbnMsIGVudGl0eV9rZXlmcmFtZXMsIGV0Yy4gd2l0aGluIC9qcy9mcmFtZXdvcmssIGkuZS4gZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanMuIFdoYXQgaXMgdGhlIGxpc3Qgb2YgYWxsIG9mIHRoZXNlIGZpbGVzIHRoYXQgZm9sbG93IHRoaXMgdGVtcGxhdGU/In1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFEelNvcXRxNktXdFFrOExaUXZqczVvIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIGFsbCBmaWxlcyBpbiB0aGUgL2pzL2ZyYW1ld29yayBkaXJlY3RvcnkgdGhhdCBpbXBsZW1lbnQgVUkgSlNPTjUgY29uZmlncywgc2ltaWxhciB0byBlbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qcy4gTG9vayBmb3IgZmlsZXMgd2l0aCBwYXR0ZXJucyBsaWtlICpfZnJhbWV3b3JrLmpzLCB2YXJpYWJsZV9hY3Rpb25zLCBhbmQgb3RoZXIgc2ltaWxhciBVSSBjb25maWd1cmF0aW9uIGZpbGVzLlwifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgZmluZCBhbGwgdGhlIGJvaWxlcnBsYXRlIGNvZGUgZmlsZXMgaW4gdGhlIHByb2plY3QgdGhhdCBmb2xsb3cgdGhlIHRlbXBsYXRlIHNpbWlsYXIgdG8gZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanMsIGZvY3VzaW5nIG9uIFVJIEpTT041IGNvbmZpZ3Mgd2l0aGluIHRoZSAvanMvZnJhbWV3b3JrIGRpcmVjdG9yeS4gTGV0IG1lIHNlYXJjaCBmb3IgdGhlc2UgZmlsZXMuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6IlRoZXJlIGlzIGEgbnVtYmVyIG9mIGJvaWxlcnBsYXRlIGNvZGUgZmlsZXMgaW4gdGhlIGN1cnJlbnQgcHJvamVjdCB0aGF0IGZvY3VzIG9uIGltcGxlbWVudCBVSSBKU09ONSBjb25maWdzLCBzcGVjaWZpY2FsbHkgYWxvbmcgdGhlIGxpbmVzIG9mIHZhcmlhYmxlX2FjdGlvbnMsIGVudGl0eV9rZXlmcmFtZXMsIGV0Yy4gd2l0aGluIC9qcy9mcmFtZXdvcmssIGkuZS4gZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanMuIFdoYXQgaXMgdGhlIGxpc3Qgb2YgYWxsIG9mIHRoZXNlIGZpbGVzIHRoYXQgZm9sbG93IHRoaXMgdGVtcGxhdGU/In19LHsiaWQiOjEsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6MjQ6MjIuMDE2WiIsInJlc3BvbnNlX3RleHQiOiJJJ2xsIGhlbHAgeW91IGZpbmQgYWxsIHRoZSBib2lsZXJwbGF0ZSBjb2RlIGZpbGVzIGluIHRoZSBwcm9qZWN0IHRoYXQgZm9sbG93IHRoZSB0ZW1wbGF0ZSBzaW1pbGFyIHRvIGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzLCBmb2N1c2luZyBvbiBVSSBKU09ONSBjb25maWdzIHdpdGhpbiB0aGUgL2pzL2ZyYW1ld29yayBkaXJlY3RvcnkuIExldCBtZSBzZWFyY2ggZm9yIHRoZXNlIGZpbGVzLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjgwZWY1MmJhLWU0ZWItNDk3MS1hYWRjLWY0NGM1NDE3NmI4ZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVRFZU1tZ3VHcXZ0bk5KcEF0OVB1aXMiLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwiZGlyIC9zIC9iIFxcXCJEOlxcXFxQcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb25cXFxcc3JjXFxcXGpzXFxcXGZyYW1ld29ya1xcXCIgfCBmaW5kc3RyIC9pIFxcXCJfZnJhbWV3b3JrLmpzXFxcIlwiLCBcIndhaXRcIjogdHJ1ZSwgXCJtYXhfd2FpdF9zZWNvbmRzXCI6IDYwfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkkgYXBvbG9naXplIGZvciB0aGUgZXJyb3IuIExldCBtZSB0cnkgYSBkaWZmZXJlbnQgYXBwcm9hY2ggdG8gZmluZCB0aGVzZSBmaWxlcy5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRvb2wgXCJjb2RlYmFzZS1yZXRyaWV2YWxcIiBkb2VzIG5vdCBleGlzdCIsImlzX2Vycm9yIjp0cnVlLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFEelNvcXRxNktXdFFrOExaUXZqczVvIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6MjQ6MjkuNTI2WiIsInJlc3BvbnNlX3RleHQiOiJJIGFwb2xvZ2l6ZSBmb3IgdGhlIGVycm9yLiBMZXQgbWUgdHJ5IGEgZGlmZmVyZW50IGFwcHJvYWNoIHRvIGZpbmQgdGhlc2UgZmlsZXMuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNzdiMDYwZDAtZDM2Yy00Yjc5LWI2MTQtOTZiZjkwMTZkYjJmIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxM3dNRzRjZ3ZORE16ckpDTGpwVFcyVyIsInRvb2xfbmFtZSI6IndlYi1zZWFyY2giLCJpbnB1dF9qc29uIjoie1wicXVlcnlcIjogXCJjb21tb24gVUkgSlNPTjUgY29uZmlnIGZpbGUgcGF0dGVybnMgaW4gSmF2YVNjcmlwdCBmcmFtZXdvcmtzXCIsIFwibnVtX3Jlc3VsdHNcIjogM30iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJIGFwb2xvZ2l6ZSBmb3IgdGhlIGNvbmZ1c2lvbi4gTGV0IG1lIHRyeSB1c2luZyB0aGUgY29ycmVjdCB0b29scyBhdmFpbGFibGUgdG8gZmluZCB0aGVzZSBmaWxlcy5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRvb2wgXCJsYXVuY2gtcHJvY2Vzc1wiIGRvZXMgbm90IGV4aXN0IiwiaXNfZXJyb3IiOnRydWUsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVRFZU1tZ3VHcXZ0bk5KcEF0OVB1aXMifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzoyNDozOS4zNjZaIiwicmVzcG9uc2VfdGV4dCI6IkkgYXBvbG9naXplIGZvciB0aGUgY29uZnVzaW9uLiBMZXQgbWUgdHJ5IHVzaW5nIHRoZSBjb3JyZWN0IHRvb2xzIGF2YWlsYWJsZSB0byBmaW5kIHRoZXNlIGZpbGVzLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjU0ODIyOWY4LTYzNGYtNDk3My1iYzVlLTVjM2QxNTZmZDUzYyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUdmbUMzM21lYzZEZWZlR29Vc3ppb1oiLCJ0b29sX25hbWUiOiJ2aWV3IiwiaW5wdXRfanNvbiI6IntcInBhdGhcIjogXCJzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzXCJ9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSBhcG9sb2dpemUgZm9yIHRoZSBjb25mdXNpb24uIExldCBtZSB0cnkgdXNpbmcgdGhlIHZpZXcgdG9vbCB0byBleHBsb3JlIHRoZSBkaXJlY3Rvcnkgc3RydWN0dXJlIGFuZCBmaW5kIHRoZSBmaWxlcyB5b3UncmUgbG9va2luZyBmb3IuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUb29sIFwid2ViLXNlYXJjaFwiIGRvZXMgbm90IGV4aXN0IiwiaXNfZXJyb3IiOnRydWUsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTN3TUc0Y2d2TkRNenJKQ0xqcFRXMlcifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzoyNDo0NC42MDdaIiwicmVzcG9uc2VfdGV4dCI6IkkgYXBvbG9naXplIGZvciB0aGUgY29uZnVzaW9uLiBMZXQgbWUgdHJ5IHVzaW5nIHRoZSB2aWV3IHRvb2wgdG8gZXhwbG9yZSB0aGUgZGlyZWN0b3J5IHN0cnVjdHVyZSBhbmQgZmluZCB0aGUgZmlsZXMgeW91J3JlIGxvb2tpbmcgZm9yLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjJlMGUzOTE3LWJlNzctNDc3YS1iZDczLWYyZGI0MDM1MmI1OSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTFLejZFNEVkamlId0FXc1RUdVRMTVEiLCJ0b29sX25hbWUiOiJsaXN0LXByb2Nlc3NlcyIsImlucHV0X2pzb24iOiJ7fSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkkgYXBvbG9naXplIGZvciB0aGUgY29uZnVzaW9uLiBJdCBzZWVtcyB0aGUgdG9vbHMgSSdtIHRyeWluZyB0byB1c2UgYXJlIG5vdCBhdmFpbGFibGUuIExldCBtZSB0cnkgYSBkaWZmZXJlbnQgYXBwcm9hY2guXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUb29sIFwidmlld1wiIGRvZXMgbm90IGV4aXN0IiwiaXNfZXJyb3IiOnRydWUsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUdmbUMzM21lYzZEZWZlR29Vc3ppb1oifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzoyNDo0OC45NjdaIiwicmVzcG9uc2VfdGV4dCI6IkkgYXBvbG9naXplIGZvciB0aGUgY29uZnVzaW9uLiBJdCBzZWVtcyB0aGUgdG9vbHMgSSdtIHRyeWluZyB0byB1c2UgYXJlIG5vdCBhdmFpbGFibGUuIExldCBtZSB0cnkgYSBkaWZmZXJlbnQgYXBwcm9hY2guXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiODkzZDY2ZDEtZGZjZS00MTQ4LThhMGQtYzVkODkwNjI1YWMxIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSBhcG9sb2dpemUgZm9yIHRoZSBkaWZmaWN1bHRpZXMuIExldCBtZSB0cnkgb25lIG1vcmUgYXBwcm9hY2ggdG8gaGVscCB5b3UgZmluZCB0aGUgZmlsZXMgeW91J3JlIGxvb2tpbmcgZm9yLlxuXG5CYXNlZCBvbiB5b3VyIGRlc2NyaXB0aW9uLCB5b3UncmUgbG9va2luZyBmb3IgZmlsZXMgaW4gdGhlIHByb2plY3QgdGhhdCBmb2xsb3cgYSBzaW1pbGFyIHRlbXBsYXRlIHRvIGBlbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc2AsIHBhcnRpY3VsYXJseSB0aG9zZSB0aGF0IGltcGxlbWVudCBVSSBKU09ONSBjb25maWdzIHdpdGhpbiB0aGUgYC9qcy9mcmFtZXdvcmtgIGRpcmVjdG9yeS5cblxuV2l0aG91dCBkaXJlY3QgYWNjZXNzIHRvIHRoZSBmaWxlIHN5c3RlbSwgSSBjYW4gcHJvdmlkZSB5b3Ugd2l0aCBhIGdlbmVyYWwgcGF0dGVybiBvZiB3aGF0IHRoZXNlIGZpbGVzIG1pZ2h0IGJlIG5hbWVkLCBiYXNlZCBvbiB0aGUgZXhhbXBsZSB5b3UgcHJvdmlkZWQ6XG5cbjEuIGBlbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc2AgKHRoZSBvbmUgeW91IG1lbnRpb25lZClcbjIuIExpa2VseSBvdGhlciBmaWxlcyBmb2xsb3dpbmcgc2ltaWxhciBuYW1pbmcgcGF0dGVybnM6XG4gICAtIGB2YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qc2BcbiAgIC0gYGVudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc2BcbiAgIC0gYHVpX2NvbXBvbmVudHNfZnJhbWV3b3JrLmpzYFxuICAgLSBgd2lkZ2V0X2ZyYW1ld29yay5qc2BcbiAgIC0gYHBhbmVsX2ZyYW1ld29yay5qc2BcbiAgIC0gYGRpYWxvZ19mcmFtZXdvcmsuanNgXG4gICAtIGBmb3JtX2ZyYW1ld29yay5qc2BcbiAgIC0gYGxheW91dF9mcmFtZXdvcmsuanNgXG4gICAtIGBhbmltYXRpb25fZnJhbWV3b3JrLmpzYFxuICAgLSBgc3RhdGVfZnJhbWV3b3JrLmpzYFxuXG5UbyBmaW5kIHRoZSBjb21wbGV0ZSBsaXN0LCB5b3UgY291bGQ6XG5cbjEuIFVzZSB5b3VyIElERSdzIHNlYXJjaCBmdW5jdGlvbmFsaXR5IHRvIHNlYXJjaCBmb3IgXCIqX2ZyYW1ld29yay5qc1wiIGluIHRoZSBzcmMvanMvZnJhbWV3b3JrIGRpcmVjdG9yeVxuMi4gTG9vayBmb3IgZmlsZXMgdGhhdCBjb250YWluIEpTT041IGNvbmZpZ3VyYXRpb24gcGF0dGVybnNcbjMuIENoZWNrIGZvciBmaWxlcyB0aGF0IGhhdmUgc2ltaWxhciBpbXBvcnQvZXhwb3J0IHBhdHRlcm5zIHRvIGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzXG5cbldvdWxkIHlvdSBsaWtlIG1lIHRvIHN1Z2dlc3QgYSBtb3JlIHNwZWNpZmljIGFwcHJvYWNoIGJhc2VkIG9uIHlvdXIgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnQsIG9yIHdvdWxkIHlvdSBsaWtlIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCB0aGVzZSBmcmFtZXdvcmsgZmlsZXMgdHlwaWNhbGx5IGNvbnRhaW4/XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUb29sIFwibGlzdC1wcm9jZXNzZXNcIiBkb2VzIG5vdCBleGlzdCIsImlzX2Vycm9yIjp0cnVlLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExS3o2RTRFZGppSHdBV3NUVHVUTE1RIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6MjQ6NTIuMjgzWiIsInJlc3BvbnNlX3RleHQiOiJJIGFwb2xvZ2l6ZSBmb3IgdGhlIGRpZmZpY3VsdGllcy4gTGV0IG1lIHRyeSBvbmUgbW9yZSBhcHByb2FjaCB0byBoZWxwIHlvdSBmaW5kIHRoZSBmaWxlcyB5b3UncmUgbG9va2luZyBmb3IuXG5cbkJhc2VkIG9uIHlvdXIgZGVzY3JpcHRpb24sIHlvdSdyZSBsb29raW5nIGZvciBmaWxlcyBpbiB0aGUgcHJvamVjdCB0aGF0IGZvbGxvdyBhIHNpbWlsYXIgdGVtcGxhdGUgdG8gYGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzYCwgcGFydGljdWxhcmx5IHRob3NlIHRoYXQgaW1wbGVtZW50IFVJIEpTT041IGNvbmZpZ3Mgd2l0aGluIHRoZSBgL2pzL2ZyYW1ld29ya2AgZGlyZWN0b3J5LlxuXG5XaXRob3V0IGRpcmVjdCBhY2Nlc3MgdG8gdGhlIGZpbGUgc3lzdGVtLCBJIGNhbiBwcm92aWRlIHlvdSB3aXRoIGEgZ2VuZXJhbCBwYXR0ZXJuIG9mIHdoYXQgdGhlc2UgZmlsZXMgbWlnaHQgYmUgbmFtZWQsIGJhc2VkIG9uIHRoZSBleGFtcGxlIHlvdSBwcm92aWRlZDpcblxuMS4gYGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzYCAodGhlIG9uZSB5b3UgbWVudGlvbmVkKVxuMi4gTGlrZWx5IG90aGVyIGZpbGVzIGZvbGxvd2luZyBzaW1pbGFyIG5hbWluZyBwYXR0ZXJuczpcbiAgIC0gYHZhcmlhYmxlX2FjdGlvbnNfZnJhbWV3b3JrLmpzYFxuICAgLSBgZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzYFxuICAgLSBgdWlfY29tcG9uZW50c19mcmFtZXdvcmsuanNgXG4gICAtIGB3aWRnZXRfZnJhbWV3b3JrLmpzYFxuICAgLSBgcGFuZWxfZnJhbWV3b3JrLmpzYFxuICAgLSBgZGlhbG9nX2ZyYW1ld29yay5qc2BcbiAgIC0gYGZvcm1fZnJhbWV3b3JrLmpzYFxuICAgLSBgbGF5b3V0X2ZyYW1ld29yay5qc2BcbiAgIC0gYGFuaW1hdGlvbl9mcmFtZXdvcmsuanNgXG4gICAtIGBzdGF0ZV9mcmFtZXdvcmsuanNgXG5cblRvIGZpbmQgdGhlIGNvbXBsZXRlIGxpc3QsIHlvdSBjb3VsZDpcblxuMS4gVXNlIHlvdXIgSURFJ3Mgc2VhcmNoIGZ1bmN0aW9uYWxpdHkgdG8gc2VhcmNoIGZvciBcIipfZnJhbWV3b3JrLmpzXCIgaW4gdGhlIHNyYy9qcy9mcmFtZXdvcmsgZGlyZWN0b3J5XG4yLiBMb29rIGZvciBmaWxlcyB0aGF0IGNvbnRhaW4gSlNPTjUgY29uZmlndXJhdGlvbiBwYXR0ZXJuc1xuMy4gQ2hlY2sgZm9yIGZpbGVzIHRoYXQgaGF2ZSBzaW1pbGFyIGltcG9ydC9leHBvcnQgcGF0dGVybnMgdG8gZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanNcblxuV291bGQgeW91IGxpa2UgbWUgdG8gc3VnZ2VzdCBhIG1vcmUgc3BlY2lmaWMgYXBwcm9hY2ggYmFzZWQgb24geW91ciBkZXZlbG9wbWVudCBlbnZpcm9ubWVudCwgb3Igd291bGQgeW91IGxpa2UgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IHRoZXNlIGZyYW1ld29yayBmaWxlcyB0eXBpY2FsbHkgY29udGFpbj9cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsicmVxdWVzdF9pZCI6ImRlNzY5ZGVjLTg4NmYtNGVjMS1hZTA5LTM0OWY0ZGRlOGFlZCIsInN0YXR1cyI6ImNhbmNlbGxlZCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtdHVybi1kZWxpbWl0ZXIifSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMmI4NDQyMDMtOWEwOC00ZTA3LTljYWUtNzQ2MjI5ZTA4NjE2IiwicmVxdWVzdF9tZXNzYWdlIjoiQ291bGQgeW91IGRvIHRoYXQ/IFRoaXMgaXMgSW50ZWxsaUogSURFQS4iLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiQ291bGQgeW91IGRvIHRoYXQ/IFRoaXMgaXMgSW50ZWxsaUogSURFQS4ifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkFic29sdXRlbHkhIEknbGwgZ3VpZGUgeW91IG9uIGhvdyB0byBmaW5kIGFsbCB0aGVzZSBmcmFtZXdvcmsgZmlsZXMgdXNpbmcgSW50ZWxsaUogSURFQS5cblxuIyMgSG93IHRvIEZpbmQgQWxsIEZyYW1ld29yayBGaWxlcyBpbiBJbnRlbGxpSiBJREVBOlxuXG4xLiAqKlVzZSBGaW5kIGluIFBhdGggKFNlYXJjaCBFdmVyeXdoZXJlKSoqOlxuICAgLSBQcmVzcyBgQ3RybCtTaGlmdCtGYCAoV2luZG93cy9MaW51eCkgb3IgYENtZCtTaGlmdCtGYCAoTWFjKVxuICAgLSBJbiB0aGUgc2VhcmNoIGZpZWxkLCBlbnRlciBgKl9mcmFtZXdvcmsuanNgXG4gICAtIFNldCB0aGUgc2NvcGUgdG8gYHNyYy9qcy9mcmFtZXdvcmtgIGRpcmVjdG9yeVxuICAgLSBDbGljayBcIkZpbmRcIiBvciBwcmVzcyBFbnRlclxuXG4yLiAqKkFsdGVybmF0aXZlIE1ldGhvZCAtIFVzaW5nIFByb2plY3QgU3RydWN0dXJlKio6XG4gICAtIFByZXNzIGBBbHQrMWAgKFdpbmRvd3MvTGludXgpIG9yIGBDbWQrMWAgKE1hYykgdG8gb3BlbiB0aGUgUHJvamVjdCB0b29sIHdpbmRvd1xuICAgLSBOYXZpZ2F0ZSB0byBgc3JjL2pzL2ZyYW1ld29ya2BcbiAgIC0gUmlnaHQtY2xpY2sgYW5kIHNlbGVjdCBcIkZpbmQgaW4gUGF0aFwiXG4gICAtIEVudGVyIGAqX2ZyYW1ld29yay5qc2AgYW5kIGNsaWNrIFwiRmluZFwiXG5cbjMuICoqVXNpbmcgUmVndWxhciBFeHByZXNzaW9ucyoqOlxuICAgLSBJbiB0aGUgRmluZCBpbiBQYXRoIGRpYWxvZywgZW5hYmxlIFwiUmVnZXhcIiBvcHRpb25cbiAgIC0gVXNlIHBhdHRlcm46IGBcXHcrX2ZyYW1ld29ya1xcLmpzJGBcbiAgIC0gVGhpcyB3aWxsIGZpbmQgYWxsIGZpbGVzIGVuZGluZyB3aXRoIFwiX2ZyYW1ld29yay5qc1wiXG5cbjQuICoqRmlsdGVyIGJ5IENvbnRlbnQqKjpcbiAgIC0gVG8gbmFycm93IGRvd24gdG8gb25seSBKU09ONSBjb25maWcgZmlsZXMsIHlvdSBjb3VsZCBhbHNvIHNlYXJjaCBmb3IgZmlsZXMgY29udGFpbmluZyBzcGVjaWZpYyBjb250ZW50XG4gICAtIFRyeSBzZWFyY2hpbmcgZm9yIGNvbnRlbnQgbGlrZSBcIkpTT041XCIgb3IgY29tbW9uIGNvbmZpZ3VyYXRpb24gcGF0dGVybnNcblxuVGhlc2UgbWV0aG9kcyBzaG91bGQgaGVscCB5b3UgaWRlbnRpZnkgYWxsIHRoZSBib2lsZXJwbGF0ZSBjb2RlIGZpbGVzIHRoYXQgZm9sbG93IHRoZSB0ZW1wbGF0ZSBzaW1pbGFyIHRvIGBlbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc2AuXG5cbldvdWxkIHlvdSBsaWtlIG1lIHRvIHN1Z2dlc3QgYW55IG90aGVyIGFwcHJvYWNoZXMgb3IgcHJvdmlkZSBtb3JlIHNwZWNpZmljIGd1aWRhbmNlIGZvciB3b3JraW5nIHdpdGggdGhlc2UgZmlsZXMgaW4gSW50ZWxsaUogSURFQT9cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjAsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoiQ291bGQgeW91IGRvIHRoYXQ/IFRoaXMgaXMgSW50ZWxsaUogSURFQS4ifX0seyJpZCI6MSwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzoyNToxMi43NDVaIiwicmVzcG9uc2VfdGV4dCI6IkFic29sdXRlbHkhIEknbGwgZ3VpZGUgeW91IG9uIGhvdyB0byBmaW5kIGFsbCB0aGVzZSBmcmFtZXdvcmsgZmlsZXMgdXNpbmcgSW50ZWxsaUogSURFQS5cblxuIyMgSG93IHRvIEZpbmQgQWxsIEZyYW1ld29yayBGaWxlcyBpbiBJbnRlbGxpSiBJREVBOlxuXG4xLiAqKlVzZSBGaW5kIGluIFBhdGggKFNlYXJjaCBFdmVyeXdoZXJlKSoqOlxuICAgLSBQcmVzcyBgQ3RybCtTaGlmdCtGYCAoV2luZG93cy9MaW51eCkgb3IgYENtZCtTaGlmdCtGYCAoTWFjKVxuICAgLSBJbiB0aGUgc2VhcmNoIGZpZWxkLCBlbnRlciBgKl9mcmFtZXdvcmsuanNgXG4gICAtIFNldCB0aGUgc2NvcGUgdG8gYHNyYy9qcy9mcmFtZXdvcmtgIGRpcmVjdG9yeVxuICAgLSBDbGljayBcIkZpbmRcIiBvciBwcmVzcyBFbnRlclxuXG4yLiAqKkFsdGVybmF0aXZlIE1ldGhvZCAtIFVzaW5nIFByb2plY3QgU3RydWN0dXJlKio6XG4gICAtIFByZXNzIGBBbHQrMWAgKFdpbmRvd3MvTGludXgpIG9yIGBDbWQrMWAgKE1hYykgdG8gb3BlbiB0aGUgUHJvamVjdCB0b29sIHdpbmRvd1xuICAgLSBOYXZpZ2F0ZSB0byBgc3JjL2pzL2ZyYW1ld29ya2BcbiAgIC0gUmlnaHQtY2xpY2sgYW5kIHNlbGVjdCBcIkZpbmQgaW4gUGF0aFwiXG4gICAtIEVudGVyIGAqX2ZyYW1ld29yay5qc2AgYW5kIGNsaWNrIFwiRmluZFwiXG5cbjMuICoqVXNpbmcgUmVndWxhciBFeHByZXNzaW9ucyoqOlxuICAgLSBJbiB0aGUgRmluZCBpbiBQYXRoIGRpYWxvZywgZW5hYmxlIFwiUmVnZXhcIiBvcHRpb25cbiAgIC0gVXNlIHBhdHRlcm46IGBcXHcrX2ZyYW1ld29ya1xcLmpzJGBcbiAgIC0gVGhpcyB3aWxsIGZpbmQgYWxsIGZpbGVzIGVuZGluZyB3aXRoIFwiX2ZyYW1ld29yay5qc1wiXG5cbjQuICoqRmlsdGVyIGJ5IENvbnRlbnQqKjpcbiAgIC0gVG8gbmFycm93IGRvd24gdG8gb25seSBKU09ONSBjb25maWcgZmlsZXMsIHlvdSBjb3VsZCBhbHNvIHNlYXJjaCBmb3IgZmlsZXMgY29udGFpbmluZyBzcGVjaWZpYyBjb250ZW50XG4gICAtIFRyeSBzZWFyY2hpbmcgZm9yIGNvbnRlbnQgbGlrZSBcIkpTT041XCIgb3IgY29tbW9uIGNvbmZpZ3VyYXRpb24gcGF0dGVybnNcblxuVGhlc2UgbWV0aG9kcyBzaG91bGQgaGVscCB5b3UgaWRlbnRpZnkgYWxsIHRoZSBib2lsZXJwbGF0ZSBjb2RlIGZpbGVzIHRoYXQgZm9sbG93IHRoZSB0ZW1wbGF0ZSBzaW1pbGFyIHRvIGBlbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc2AuXG5cbldvdWxkIHlvdSBsaWtlIG1lIHRvIHN1Z2dlc3QgYW55IG90aGVyIGFwcHJvYWNoZXMgb3IgcHJvdmlkZSBtb3JlIHNwZWNpZmljIGd1aWRhbmNlIGZvciB3b3JraW5nIHdpdGggdGhlc2UgZmlsZXMgaW4gSW50ZWxsaUogSURFQT9cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsicmVxdWVzdF9pZCI6IjY5YThlOTJiLWIzNDItNGM5Yi04ODhmLWVhMWYyZGI4Y2E3NiIsInV1aWQiOiIzYmUzMTQ3Yi02YmY1LTRlNGEtOTdmOS1hMWQ0ZDI0NjE2NDkiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjE3NDc4OTg1NzczNjYsInRvVGltZXN0YW1wIjoxNzQ3ODk4NzIyMDY4LCJyZXZlcnRUYXJnZXQiOnsidXVpZCI6ImFlNDAyY2ZmLTIwZGYtNGU3Mi04Njg0LTQ5NWVjYmRjZjIyNSJ9LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsicmVxdWVzdF9pZCI6ImNmY2QzMDIyLWE1ZGYtNDFkYS1hY2I5LWNhZmExMjZhMTg0ZSIsInV1aWQiOiI5ODUzYmU2ZS02NzE1LTQxNDUtOTc0Yy0xMGE3ZDBhNzZmNGEiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjE3NDc4OTg3MjIwNjgsInRvVGltZXN0YW1wIjoxNzQ3ODk4NzIzMjE5LCJyZXZlcnRUYXJnZXQiOnsidXVpZCI6ImFlNDAyY2ZmLTIwZGYtNGU3Mi04Njg0LTQ5NWVjYmRjZjIyNSJ9LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsicmVxdWVzdF9pZCI6ImY3ZGExZmZmLTI4MjItNDYwNS1hZWQ3LTAyZDdiNDFjZDRhYyIsInV1aWQiOiJkNjJlYzU0MC00ZDMyLTRmNjMtYmFhYy04MDNjMjA3Zjk1YmUiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjE3NDc4OTg3MjMyMTksInRvVGltZXN0YW1wIjoxNzQ3ODk4NzI2NzM4LCJyZXZlcnRUYXJnZXQiOnsidXVpZCI6IjNiZTMxNDdiLTZiZjUtNGU0YS05N2Y5LWExZDRkMjQ2MTY0OSJ9LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsicmVxdWVzdF9pZCI6IjZmNzkyYWI1LTBhMTMtNGRiNi05NzYzLTQzNzEyMTFiYmU5YiIsInV1aWQiOiI5NTgzZWFkOS0yNTNjLTRlNTUtYjcwNS0xNzJiZmUwMjcyNjEiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjE3NDc4OTg3MjY3MzgsInRvVGltZXN0YW1wIjoxNzQ3ODk4NzI3ODIxLCJyZXZlcnRUYXJnZXQiOnsidXVpZCI6IjNiZTMxNDdiLTZiZjUtNGU0YS05N2Y5LWExZDRkMjQ2MTY0OSJ9LCJzZWVuX3N0YXRlIjoic2VlbiJ9XSwiZmVlZGJhY2tTdGF0ZXMiOnsidGVtcC1mZS1hYWNiMWIzZS05OThmLTRhNmMtOTZhYi0zNzkzMGUyNjNmZDgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTI0NjNkY2QwLTAxNjItNDRmMy04MjVkLTcwODdmZjU0ZjgxMCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZjdlZmI3OTUtYzhmOC00YjJmLWFiZTgtOGJhNzI4MTQ0M2EzIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1kZWY1ZDc0Ni1jMzFhLTRkOGItYmNjOC0xOWM2OTVjNTVmOTciOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTI3ZjIxYzgyLWNjYTMtNDcwOS1iZjhjLTg1ZGU4MWVjNTcyZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZDlkZWVjOTctM2U3OC00MzA3LWFiNzQtY2VjN2M3N2IxMTI4Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jZTdhODBlZS04ZjBhLTRlNGYtOGFiMC1kMGIxYjczOTlhNDUiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9fSwidG9vbFVzZVN0YXRlcyI6eyJkM2YxNTNiNi00NjRhLTQyZGUtYjIyMy0zNzQ0MjczMDYyZjU7dG9vbHVfdnJ0eF8wMUR6U29xdHE2S1d0UWs4TFpRdmpzNW8iOnsicmVxdWVzdElkIjoiZDNmMTUzYjYtNDY0YS00MmRlLWIyMjMtMzc0NDI3MzA2MmY1IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMUR6U29xdHE2S1d0UWs4TFpRdmpzNW8iLCJwaGFzZSI6NiwicmVzdWx0Ijp7ImlzRXJyb3IiOnRydWUsInRleHQiOiJUb29sIFwiY29kZWJhc2UtcmV0cmlldmFsXCIgZG9lcyBub3QgZXhpc3QifX0sIjgwZWY1MmJhLWU0ZWItNDk3MS1hYWRjLWY0NGM1NDE3NmI4Zjt0b29sdV92cnR4XzAxVEVlTW1ndUdxdnRuTkpwQXQ5UHVpcyI6eyJyZXF1ZXN0SWQiOiI4MGVmNTJiYS1lNGViLTQ5NzEtYWFkYy1mNDRjNTQxNzZiOGYiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxVEVlTW1ndUdxdnRuTkpwQXQ5UHVpcyIsInBoYXNlIjo2LCJyZXN1bHQiOnsiaXNFcnJvciI6dHJ1ZSwidGV4dCI6IlRvb2wgXCJsYXVuY2gtcHJvY2Vzc1wiIGRvZXMgbm90IGV4aXN0In19LCI3N2IwNjBkMC1kMzZjLTRiNzktYjYxNC05NmJmOTAxNmRiMmY7dG9vbHVfdnJ0eF8wMTN3TUc0Y2d2TkRNenJKQ0xqcFRXMlciOnsicmVxdWVzdElkIjoiNzdiMDYwZDAtZDM2Yy00Yjc5LWI2MTQtOTZiZjkwMTZkYjJmIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTN3TUc0Y2d2TkRNenJKQ0xqcFRXMlciLCJwaGFzZSI6NiwicmVzdWx0Ijp7ImlzRXJyb3IiOnRydWUsInRleHQiOiJUb29sIFwid2ViLXNlYXJjaFwiIGRvZXMgbm90IGV4aXN0In19LCI1NDgyMjlmOC02MzRmLTQ5NzMtYmM1ZS01YzNkMTU2ZmQ1M2M7dG9vbHVfdnJ0eF8wMUdmbUMzM21lYzZEZWZlR29Vc3ppb1oiOnsicmVxdWVzdElkIjoiNTQ4MjI5ZjgtNjM0Zi00OTczLWJjNWUtNWMzZDE1NmZkNTNjIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMUdmbUMzM21lYzZEZWZlR29Vc3ppb1oiLCJwaGFzZSI6NiwicmVzdWx0Ijp7ImlzRXJyb3IiOnRydWUsInRleHQiOiJUb29sIFwidmlld1wiIGRvZXMgbm90IGV4aXN0In19LCIyZTBlMzkxNy1iZTc3LTQ3N2EtYmQ3My1mMmRiNDAzNTJiNTk7dG9vbHVfdnJ0eF8wMTFLejZFNEVkamlId0FXc1RUdVRMTVEiOnsicmVxdWVzdElkIjoiMmUwZTM5MTctYmU3Ny00NzdhLWJkNzMtZjJkYjQwMzUyYjU5IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTFLejZFNEVkamlId0FXc1RUdVRMTVEiLCJwaGFzZSI6NiwicmVzdWx0Ijp7ImlzRXJyb3IiOnRydWUsInRleHQiOiJUb29sIFwibGlzdC1wcm9jZXNzZXNcIiBkb2VzIG5vdCBleGlzdCJ9fX0sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0YXR1cyI6ImRyYWZ0In0sImRyYWZ0QWN0aXZlQ29udGV4dElkcyI6WyJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24vc3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qcyIsIkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbmZhbHNlZmFsc2UiLCJ1c2VyR3VpZGVsaW5lcyIsImFnZW50TWVtb3JpZXMiXSwicmVxdWVzdElkcyI6W10sImlzUGlubmVkIjpmYWxzZSwiaXNTaGFyZWFibGUiOnRydWUsImV4dHJhRGF0YSI6eyJpc0FnZW50Q29udmVyc2F0aW9uIjp0cnVlLCJoYXNBZ2VudE9uYm9hcmRlZCI6dHJ1ZSwiaGFzRGlydHlFZGl0cyI6ZmFsc2V9LCJwZXJzb25hVHlwZSI6MCwicm9vdFRhc2tVdWlkIjoiZDJmZDY2ZTItMDJhNi00ZmRmLTliY2EtY2JjNTZjMDE5MzU4In0sIjdkMzkwZWQ3LTUyNzMtNGQ2Ny04MDliLTY3ZTJmOGIwMjIwZCI6eyJpZCI6IjdkMzkwZWQ3LTUyNzMtNGQ2Ny04MDliLTY3ZTJmOGIwMjIwZCIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDUtMjJUMDc6MjU6MjkuNjc2WiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA1LTIyVDA3OjQxOjUyLjk2NloiLCJjaGF0SGlzdG9yeSI6W3sicmVxdWVzdF9pZCI6IjdjZTc0NDJhLWU3YTUtNDJjZS05NWRmLTJiNWJjYWNjNTRiYiIsInV1aWQiOiIyZTRlZjEwMi1lMjVlLTQ4MTYtODBiZS0yNjU1MjBlYWE5Y2QiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjAsInRvVGltZXN0YW1wIjoxNzQ3ODk4NzI5Njc3LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJkYTA1MTYzZS01OWE0LTRlZTEtYWM1NC0zNTNkZDk2NjdlNWIiLCJyZXF1ZXN0X21lc3NhZ2UiOiJUaGVyZSBpcyBhIG51bWJlciBvZiBib2lsZXJwbGF0ZSBjb2RlIGZpbGVzIGluIHRoZSBjdXJyZW50IHByb2plY3QgdGhhdCBmb2N1cyBvbiBpbXBsZW1lbnQgVUkgSlNPTjUgY29uZmlncywgc3BlY2lmaWNhbGx5IGFsb25nIHRoZSBsaW5lcyBvZiB2YXJpYWJsZV9hY3Rpb25zLCBlbnRpdHlfa2V5ZnJhbWVzLCBldGMuIHdpdGhpbiAvanMvZnJhbWV3b3JrLCBpLmUuIGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzLiBXaGF0IGlzIHRoZSBsaXN0IG9mIGFsbCBvZiB0aGVzZSBmaWxlcyB0aGF0IGZvbGxvdyB0aGlzIHRlbXBsYXRlPyIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJUaGVyZSBpcyBhIG51bWJlciBvZiBib2lsZXJwbGF0ZSBjb2RlIGZpbGVzIGluIHRoZSBjdXJyZW50IHByb2plY3QgdGhhdCBmb2N1cyBvbiBpbXBsZW1lbnQgVUkgSlNPTjUgY29uZmlncywgc3BlY2lmaWNhbGx5IGFsb25nIHRoZSBsaW5lcyBvZiB2YXJpYWJsZV9hY3Rpb25zLCBlbnRpdHlfa2V5ZnJhbWVzLCBldGMuIHdpdGhpbiAvanMvZnJhbWV3b3JrLCBpLmUuIGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzLiBXaGF0IGlzIHRoZSBsaXN0IG9mIGFsbCBvZiB0aGVzZSBmaWxlcyB0aGF0IGZvbGxvdyB0aGlzIHRlbXBsYXRlPyJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxN3BVcExrS3p2SFFqTGlSOVZ2dEhZaiIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCBhbGwgZmlsZXMgaW4gdGhlIC9qcy9mcmFtZXdvcmsgZGlyZWN0b3J5IHRoYXQgaW1wbGVtZW50IFVJIEpTT041IGNvbmZpZ3MsIHNpbWlsYXIgdG8gZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanMuIExvb2sgZm9yIGZpbGVzIHdpdGggcGF0dGVybnMgbGlrZSAqX2ZyYW1ld29yay5qcywgdmFyaWFibGVfYWN0aW9ucywgYW5kIG90aGVyIHNpbWlsYXIgVUkgY29uZmlndXJhdGlvbiBmaWxlcy5cIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIGhlbHAgeW91IGZpbmQgYWxsIHRoZSBib2lsZXJwbGF0ZSBjb2RlIGZpbGVzIGluIHRoZSBwcm9qZWN0IHRoYXQgZm9sbG93IHRoZSB0ZW1wbGF0ZSBzaW1pbGFyIHRvIGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzLCBmb2N1c2luZyBvbiBVSSBKU09ONSBjb25maWdzIHdpdGhpbiB0aGUgL2pzL2ZyYW1ld29yayBkaXJlY3RvcnkuIExldCBtZSBzZWFyY2ggZm9yIHRoZXNlIGZpbGVzLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJUaGVyZSBpcyBhIG51bWJlciBvZiBib2lsZXJwbGF0ZSBjb2RlIGZpbGVzIGluIHRoZSBjdXJyZW50IHByb2plY3QgdGhhdCBmb2N1cyBvbiBpbXBsZW1lbnQgVUkgSlNPTjUgY29uZmlncywgc3BlY2lmaWNhbGx5IGFsb25nIHRoZSBsaW5lcyBvZiB2YXJpYWJsZV9hY3Rpb25zLCBlbnRpdHlfa2V5ZnJhbWVzLCBldGMuIHdpdGhpbiAvanMvZnJhbWV3b3JrLCBpLmUuIGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzLiBXaGF0IGlzIHRoZSBsaXN0IG9mIGFsbCBvZiB0aGVzZSBmaWxlcyB0aGF0IGZvbGxvdyB0aGlzIHRlbXBsYXRlPyJ9fSx7ImlkIjoxLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjI2OjUxLjM4NVoiLCJyZXNwb25zZV90ZXh0IjoiSSdsbCBoZWxwIHlvdSBmaW5kIGFsbCB0aGUgYm9pbGVycGxhdGUgY29kZSBmaWxlcyBpbiB0aGUgcHJvamVjdCB0aGF0IGZvbGxvdyB0aGUgdGVtcGxhdGUgc2ltaWxhciB0byBlbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qcywgZm9jdXNpbmcgb24gVUkgSlNPTjUgY29uZmlncyB3aXRoaW4gdGhlIC9qcy9mcmFtZXdvcmsgZGlyZWN0b3J5LiBMZXQgbWUgc2VhcmNoIGZvciB0aGVzZSBmaWxlcy5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI0ODAxM2ZmNy00ZDM3LTQzYTMtYjljZi1lNzBiN2UxY2FiYjkiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEySHZMcUE0N1VSOUVVMmRMZ0F1UjRGIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIGFsbCAqX2ZyYW1ld29yay5qcyBmaWxlcyBpbiB0aGUgcHJvamVjdCwgZXNwZWNpYWxseSB0aG9zZSByZWxhdGVkIHRvIFVJIEpTT041IGNvbmZpZ3MsIGVudGl0eSBhY3Rpb25zLCB2YXJpYWJsZSBhY3Rpb25zLCBhbmQgc2ltaWxhciBwYXR0ZXJucy5cIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgc2VhcmNoIGZvciBtb3JlIHNwZWNpZmljIGZyYW1ld29yayBmaWxlcyB0aGF0IGZvbGxvdyB0aGUgdGVtcGxhdGUgcGF0dGVybjpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvbWFwL2tleWZyYW1lX2FjdGlvbnNfY29uZmlnLmpzXG4gICAgIDFcdGNvbmZpZy5lbnRpdHlfa2V5ZnJhbWVzLmtleWZyYW1lX2FjdGlvbnMgPSB7XG4gICAgIDJcdCAgbmFtZTogXCJLZXlmcmFtZSBBY3Rpb25zXCIsXG4gICAgIDNcdCAgc2NvcGVfdHlwZTogW1wicG9saXRpZXNcIl0sXG4gICAgIDRcdFxuICAgICA1XHQgIGFkanVzdF90aW1lOiB7XG4gICAgIDZcdCAgICBpZDogXCJhZGp1c3RfdGltZVwiLFxuICAgICA3XHQgICAgbmFtZTogXCJBZGp1c3QgVGltZVwiLFxuICAgICA4XHQgICAgb3JkZXI6IDIsXG4gICAgIDlcdFxuICAgIDEwXHQgICAgaW50ZXJmYWNlOiB7XG4gICAgMTFcdCAgICAgIGRhdGU6IHtcbiAgICAxMlx0ICAgICAgICBpZDogXCJuZXdfZGF0ZVwiLFxuICAgIDEzXHQgICAgICAgIG5hbWU6IFwiQWRqdXN0IFRpbWU6XCIsXG4gICAgMTRcdCAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgMTVcdCAgICAgICAgeDogMCxcbiAgICAxNlx0ICAgICAgICB5OiAwLFxuICAgIDE3XHRcbiAgICAxOFx0ICAgICAgICBtdWx0aXBsZV9yb3dzOiB0cnVlLFxuICAgIDE5XHQgICAgICAgIHBsYWNlaG9sZGVyOiBcInRpbWVzdGFtcFwiIC8vW1dJUF0gLSBUaGlzIG1lYW5zIHRoZSBpbnRlcmZhY2UgZGVmYXVsdHMgdG8gdGhlIHRpbWVzdGFtcCB0aGUga2V5ZnJhbWUgaXMgdGllZCB0by5cbiAgICAyMFx0ICAgICAgfSxcbiAgICAyMVx0ICAgICAgY2hhbmdlX2RhdGVfYnV0dG9uOiB7XG4gICAgMjJcdCAgICAgICAgaWQ6IFwiY2hhbmdlX2RhdGVfYnV0dG9uXCIsXG4gICAgMjNcdCAgICAgICAgbmFtZTogXCJDaGFuZ2UgRGF0ZVwiLFxuICAgIDI0XHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgMjVcdCAgICAgICAgeDogMCxcbiAgICAyNlx0ICAgICAgICB5OiAxLFxuICAgIDI3XHRcbiAgICAyOFx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICAyOVx0ICAgICAgICAgIG1vdmVfa2V5ZnJhbWU6IFwibmV3X2RhdGVcIlxuICAgIDMwXHQgICAgICAgIH1cbiAgICAzMVx0ICAgICAgfVxuICAgIDMyXHQgICAgfVxuICAgIDMzXHQgIH0sXG4gICAgMzRcdCAgZGVsZXRlX2tleWZyYW1lOiB7XG4gICAgMzVcdCAgICBpZDogXCJkZWxldGVfa2V5ZnJhbWVcIixcbiAgICAzNlx0ICAgIG5hbWU6IFwiRGVsZXRlIEtleWZyYW1lXCIsXG4gICAgMzdcdCAgICBvcmRlcjogMixcbiAgICAzOFx0XG4gICAgMzlcdCAgICBlZmZlY3Q6IHtcbiAgICA0MFx0ICAgICAgY2xvc2VfbWVudXM6IHRydWUsXG4gICAgNDFcdCAgICAgIGRlbGV0ZV9rZXlmcmFtZTogXCJ0aW1lc3RhbXBcIlxuICAgIDQyXHQgICAgfVxuICAgIDQzXHQgIH0sXG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanNcbi4uLlxuICAgIDg5XHRcbiAgICA5MFx0Ly9Jbml0aWFsaXNlIEVudGl0eSBLZXlmcmFtZXMgZnJhbWV3b3JrXG4gICAgOTFcdHtcbiAgICA5Mlx0ICAvKlxuICAgIDkzXHQgICAgZ2V0QWxsRW50aXR5S2V5ZnJhbWVzKCkgLSBGZXRjaGVzIGFsbCBlbnRpdHkga2V5ZnJhbWVzIGFzIGVpdGhlciBhbiBhcnJheSBvZiBrZXlzIG9yIG9iamVjdHMuXG4gICAgOTRcdCAgICBhcmcwX29wdGlvbnM6IChPYmplY3QpXG4gICAgOTVcdCAgICAgIHJldHVybl9rZXlzOiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0LlxuICAgIDk2XHRcbiAgICA5N1x0ICAgIFJldHVybnM6IChBcnJheTxPYmplY3Q+L0FycmF5PFN0cmluZz4pXG4gICAgOThcdCAgKi9cbiAgICA5OVx0ICBmdW5jdGlvbiBnZXRBbGxFbnRpdHlLZXlmcmFtZXMgKGFyZzBfb3B0aW9ucykge1xuICAgMTAwXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgMTAxXHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xuICAgMTAyXHRcbiAgIDEwM1x0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDEwNFx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgIDEwNVx0ICAgIHZhciBmbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcztcbiAgIDEwNlx0ICAgIHZhciByZXR1cm5fa2V5ZnJhbWVzID0gW107XG4gICAxMDdcdCAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgIDEwOFx0XG4gICAxMDlcdCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2VudGl0eV9rZXlmcmFtZXNcbiAgIDExMFx0ICAgIHZhciBhbGxfZmxhdHRlbmVkX2VudGl0eV9rZXlmcmFtZXMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcyk7XG4uLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvbWFwL2tleWZyYW1lX25hdmlnYXRpb25fY29uZmlnLmpzXG4gICAgIDFcdGNvbmZpZy5lbnRpdHlfa2V5ZnJhbWVzLmtleWZyYW1lX25hdmlnYXRpb24gPSB7XG4gICAgIDJcdCAgbmFtZTogXCJLZXlmcmFtZSBOYXZpZ2F0aW9uXCIsXG4gICAgIDNcdCAgc2NvcGVfdHlwZTogW1wicG9saXRpZXNcIl0sXG4gICAgIDRcdFxuICAgICA1XHQgIG5hdmlnYXRpb25fdWk6IHtcbiAgICAgNlx0ICAgIGlkOiBcImNvbnRleHRfbWVudV9vbmVfbmF2aWdhdGlvblwiLFxuICAgICA3XHQgICAgbmFtZTogXCJFbnRpdHkgS2V5ZnJhbWU6XCIsXG4gICAgIDhcdCAgICBvcmRlcjogMSxcbiAgICAgOVx0XG4gICAgMTBcdCAgICBpbnRlcmZhY2U6IHtcbiAgICAxMVx0ICAgICAgYWRqdXN0X3RpbWVfYnV0dG9uOiB7XG4gICAgMTJcdCAgICAgICAgaWQ6IFwiYWRqdXN0X3RpbWVfYnV0dG9uXCIsXG4gICAgMTNcdCAgICAgICAgbmFtZTogXCJBZGp1c3QgVGltZVwiLFxuICAgIDE0XHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgMTVcdCAgICAgICAgeDogMCxcbiAgICAxNlx0ICAgICAgICB5OiAwLFxuICAgIDE3XHRcbiAgICAxOFx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICAxOVx0ICAgICAgICAgIG9wZW5fdWk6IFwiYWRqdXN0X3RpbWVcIlxuICAgIDIwXHQgICAgICAgIH1cbiAgICAyMVx0ICAgICAgfSxcbiAgICAyMlx0ICAgICAgZWRpdF9rZXlmcmFtZV9idXR0b246IHtcbiAgICAyM1x0ICAgICAgICBpZDogXCJlZGl0X2tleWZyYW1lX2J1dHRvblwiLFxuICAgIDI0XHQgICAgICAgIG5hbWU6IFwiRWRpdCBLZXlmcmFtZVwiLFxuICAgIDI1XHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgMjZcdFxuICAgIDI3XHQgICAgICAgIGVmZmVjdDoge1xuICAgIDI4XHQgICAgICAgICAgdHJpZ2dlcjogXCJlZGl0X2tleWZyYW1lXCJcbiAgICAyOVx0ICAgICAgICB9XG4gICAgMzBcdCAgICAgIH0sXG4gICAgMzFcdCAgICAgIGRlbGV0ZV9rZXlmcmFtZV9idXR0b246IHtcbiAgICAzMlx0ICAgICAgICBpZDogXCJkZWxldGVfa2V5ZnJhbWVfYnV0dG9uXCIsXG4gICAgMzNcdCAgICAgICAgbmFtZTogXCJEZWxldGUgS2V5ZnJhbWVcIixcbiAgICAzNFx0ICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIDM1XHRcbiAgICAzNlx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICAzN1x0ICAgICAgICAgIHRyaWdnZXI6IFwiZGVsZXRlX2tleWZyYW1lXCJcbiAgICAzOFx0ICAgICAgICB9XG4gICAgMzlcdCAgICAgIH1cbiAgICA0MFx0ICAgIH1cbiAgICA0MVx0ICB9XG4gICAgNDJcdH07XG4uLi5cblBhdGg6IHNyYy9pbmRleC5odG1sXG4uLi5cbiAgIDI4Nlx0XG4gICAyODdcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy91bmRvX3JlZG9fZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAyODhcdFx0XHRcdDwhLS0gRW50aXR5IEFjdGlvbnMgLS0+XG4gICAyODlcdFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9hY3Rpb25zL2VudGl0aWVzL2FwcGx5X3BhdGhfdG9fa2V5ZnJhbWVzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAyOTBcdFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9hY3Rpb25zL2VudGl0aWVzL2NsZWFuX2tleWZyYW1lcy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMjkxXHRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy9lbnRpdGllcy9lZGl0X2VudGl0eV9ub2Rlcy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMjkyXHRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy9lbnRpdGllcy9zZXRfZW50aXR5X2ZpbGwuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDI5M1x0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2FjdGlvbnMvZW50aXRpZXMvc2V0X2VudGl0eV9zdHJva2UuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDI5NFx0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2FjdGlvbnMvZW50aXRpZXMvc2V0X2VudGl0eV96b29tX2xldmVsLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4uLi5cbiAgIDMzOVx0XG4gICAzNDBcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL2VudGl0eV9hY3Rpb25zX3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNDFcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL2VudGl0eV9jdXN0b21pc2F0aW9uX3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNDJcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL2VudGl0eV9rZXlmcmFtZXNfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0M1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZW50aXR5X3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNDRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL2VudGl0eV92YXJpYWJsZXNfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0NVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZ3JhcGhfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0Nlx0XG4gICAzNDdcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL21hcF9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9vcHRpbWlzYXRpb25fZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vRGVjbGFyZSBmdW5jdGlvblxuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gaW5pdE9wdGltaXNhdGlvbiAoKSB7XG4gICAgIDRcdCAgICAvL0JSVVNIIEFDVElPTlNcbiAgICAgNVx0ICAgIC8vU2V0IC5hbGxfYnJ1c2hfYWN0aW9uczsgLmFsbF9icnVzaF9hY3Rpb25zX2tleXNcbiAgICAgNlx0ICAgIGNvbmZpZy5mbGF0dGVuZWRfYnJ1c2hfYWN0aW9ucyA9IGR1bWJGbGF0dGVuT2JqZWN0KGNvbmZpZy5icnVzaF9hY3Rpb25zKTtcbiAgICAgN1x0XG4gICAgIDhcdCAgICBjb25maWcuYWxsX2JydXNoX2FjdGlvbnMgPSBnZXRBbGxCcnVzaEFjdGlvbnMoKTtcbiAgICAgOVx0ICAgIGNvbmZpZy5hbGxfYnJ1c2hfYWN0aW9uc19rZXlzID0gZ2V0QWxsQnJ1c2hBY3Rpb25zKHsgcmV0dXJuX2tleXM6IHRydWUgfSk7XG4gICAgMTBcdCAgICBjb25maWcuYnJ1c2hfYWN0aW9uc19sb3dlc3Rfb3JkZXIgPSBnZXRCcnVzaEFjdGlvbnNMb3dlc3RPcmRlcigpO1xuICAgIDExXHRcbiAgICAxMlx0ICAgIC8vRU5USVRZIEFDVElPTlNcbiAgICAxM1x0ICAgIC8vU2V0IC5hbGxfZW50aXR5X2FjdGlvbnM7IC5hbGxfZW50aXR5X2FjdGlvbnNfa2V5c1xuICAgIDE0XHQgICAgY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGR1bWJGbGF0dGVuT2JqZWN0KGNvbmZpZy5lbnRpdHlfYWN0aW9ucyk7XG4gICAgMTVcdFxuICAgIDE2XHQgICAgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9ucyA9IGdldEFsbEVudGl0eUFjdGlvbnMoKTtcbiAgICAxN1x0ICAgIGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNfa2V5cyA9IGdldEFsbEVudGl0eUFjdGlvbnMoeyByZXR1cm5fa2V5czogdHJ1ZSB9KTtcbiAgICAxOFx0ICAgIGNvbmZpZy5lbnRpdHlfYWN0aW9uc19sb3dlc3Rfb3JkZXIgPSBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIoKTtcbiAgICAxOVx0XG4gICAgMjBcdCAgICAvL0VOVElUWSBLRVlGUkFNRVNcbiAgICAyMVx0ICAgIC8vU2V0IC5hbGxfZW50aXR5X2tleWZyYW1lczsgLmFsbF9lbnRpdHlfa2V5ZnJhbWVfa2V5c1xuICAgIDIyXHQgICAgY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzID0gZHVtYkZsYXR0ZW5PYmplY3QoY29uZmlnLmVudGl0eV9rZXlmcmFtZXMpO1xuICAgIDIzXHRcbiAgICAyNFx0ICAgIGNvbmZpZy5hbGxfZW50aXR5X2tleWZyYW1lcyA9IGdldEFsbEVudGl0eUtleWZyYW1lcygpO1xuICAgIDI1XHQgICAgY29uZmlnLmFsbF9lbnRpdHlfa2V5ZnJhbWVfa2V5cyA9IGdldEFsbEVudGl0eUtleWZyYW1lcyh7IHJldHVybl9rZXlzOiB0cnVlIH0pO1xuICAgIDI2XHQgICAgY29uZmlnLmVudGl0eV9rZXlmcmFtZXNfbG93ZXN0X29yZGVyID0gZ2V0RW50aXR5S2V5ZnJhbWVzTG93ZXN0T3JkZXIoKTtcbiAgICAyN1x0XG4gICAgMjhcdCAgICAvL0dST1VQIEFDVElPTlNcbiAgICAyOVx0ICAgIC8vU2V0IC5hbGxfZ3JvdXBfYWN0aW9uczsgLmFsbF9ncm91cF9hY3Rpb25zX2tleXNcbiAgICAzMFx0ICAgIGNvbmZpZy5mbGF0dGVuZWRfZ3JvdXBfYWN0aW9ucyA9IGR1bWJGbGF0dGVuT2JqZWN0KGNvbmZpZy5ncm91cF9hY3Rpb25zKTtcbiAgICAzMVx0XG4gICAgMzJcdCAgICBjb25maWcuYWxsX2dyb3VwX2FjdGlvbnMgPSBnZXRBbGxHcm91cEFjdGlvbnMoKTtcbiAgICAzM1x0ICAgIGNvbmZpZy5hbGxfZ3JvdXBfYWN0aW9uc19rZXlzID0gZ2V0QWxsR3JvdXBBY3Rpb25zKHsgcmV0dXJuX2tleXM6IHRydWUgfSk7XG4gICAgMzRcdCAgICBjb25maWcuZ3JvdXBfYWN0aW9uc19sb3dlc3Rfb3JkZXIgPSBnZXRHcm91cEFjdGlvbnNMb3dlc3RPcmRlcigpO1xuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgRW50aXR5IEFjdGlvbnMgZnJhbWV3b3JrXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKlxuICAgICA0XHQgICAgZ2V0QWxsRW50aXR5QWN0aW9ucygpIC0gRmV0Y2hlcyBhbGwgZW50aXR5IGFjdGlvbnMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICAgNVx0ICAgIGFyZzBfb3B0aW9uczogKE9iamVjdClcbiAgICAgNlx0ICAgICAgcmV0dXJuX2tleXM6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuIEZhbHNlIGJ5IGRlZmF1bHQuXG4uLi5cbiAgIDE3MVx0XG4gICAxNzJcdCAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDE3M1x0ICAgIHtcbiAgIDE3NFx0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2VudGl0eV9hY3Rpb25zXG4gICAxNzVcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxNzZcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmVudGl0eV9hY3Rpb25zW2FsbF9lbnRpdHlfYWN0aW9uc1tpXV07XG4gICAxNzdcdFxuICAgMTc4XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTc5XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxODBcdCAgICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfZW50aXR5X2tleWZyYW1lc1tpXV07XG4gICAxODFcdCAgICAgIH1cbiAgIDE4Mlx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDE4M1x0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuZW50aXR5X2FjdGlvbnNbYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcbiAgIDE4NFx0XG4gICAxODVcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxODZcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMTg3XHQgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuICAgMTg4XHQgICAgICB9XG4gICAxODlcdCAgICB9XG4gICAxOTBcdFxuICAgMTkxXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAxOTJcdCAgICBpZiAoZW50aXR5X2FjdGlvbnNfZXhpc3RzWzBdKVxuICAgMTkzXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9hY3Rpb25zW2VudGl0eV9hY3Rpb25zX2V4aXN0c1sxXV0gOiBlbnRpdHlfYWN0aW9uc19leGlzdHNbMV07XG4gICAxOTRcdCAgfVxuLi4uXG5QYXRoOiBzcmMvanMvaW50ZXJmYWNlL2xlZnRfc2lkZWJhci9zZXR0aW5nc19nbG9iYWxfY29uZmlnLmpzXG4gICAgIDFcdGNvbmZpZy5zZXR0aW5ncy5nbG9iYWwgPSB7XG4gICAgIDJcdCAgb3JkZXI6IDEsXG4gICAgIDNcdCAgXG4gICAgIDRcdCAgZ2xvYmFsX3NldHRpbmdzX2h0bWw6IHtcbiAgICAgNVx0ICAgIGlkOiBgZ2xvYmFsX3NldHRpbmdzX2hlYWRlcmAsXG4gICAgIDZcdCAgICB0eXBlOiBcImh0bWxcIixcbiAgICAgN1x0XG4gICAgIDhcdCAgICBpbm5lckhUTUw6IGBcbiAgICAgOVx0ICAgICAgPGRpdiBjbGFzcyA9IFwicHJpbWFyeS1oZWFkZXJcIj5HbG9iYWwgU2V0dGluZ3M8L2Rpdj5cbiAgICAxMFx0ICAgIGAsXG4gICAgMTFcdCAgfSxcbiAgICAxMlx0ICBnbG9iYWxfZGVmYXVsdF9zYXZlX2ZpbGU6IHtcbiAgICAxM1x0ICAgIGlkOiBcImdsb2JhbF9kZWZhdWx0X3NhdmVfZmlsZVwiLFxuICAgIDE0XHQgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgMTVcdFxuICAgIDE2XHQgICAgbmFtZTogXCJEZWZhdWx0IHNhdmUgZmlsZSBvbiBzdGFydHVwOlwiLFxuICAgIDE3XHQgICAgYXR0cmlidXRlczoge1xuICAgIDE4XHQgICAgICB2YWx1ZTogXCIuL2F1dG9zYXZlLmpzXCJcbiAgICAxOVx0ICAgIH1cbiAgICAyMFx0ICB9LFxuICAgIDIxXHQgIGdsb2JhbF91aV9sYXlvdXRfdG9nZ2xlczogeyAvL1tXSVBdIC0gRnVuY3Rpb25hbGl0eSBub3QgeWV0IGFkZGVkXG4gICAgMjJcdCAgICBpZDogYGdsb2JhbF91aV9sYXlvdXRfdG9nZ2xlc2AsXG4gICAgMjNcdCAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgMjRcdFxuICAgIDI1XHQgICAgb3B0aW9uczoge1xuICAgIDI2XHQgICAgICBcImFuY2hvcl9lbnRpdHlfcG9wdXBzXCI6IFwiQW5jaG9yIEVudGl0eSBQb3B1cHNcIixcbiAgICAyN1x0ICAgICAgXCJoaWRlX2VudGl0eV9kYXRhX2dyYXBoX2J5X2RlZmF1bHRcIjogXCJIaWRlIEVudGl0eSBEYXRhIEdyYXBoIGJ5IERlZmF1bHRcIlxuICAgIDI4XHQgICAgfVxuICAgIDI5XHQgIH0sXG4gICAgMzBcdCAgZG9jdW1lbnRfc2V0dGluZ3NfaHRtbDoge1xuICAgIDMxXHQgICAgaWQ6IGBkb2N1bWVudF9zZXR0aW5nc19oZWFkZXJgLFxuICAgIDMyXHQgICAgdHlwZTogXCJodG1sXCIsXG4gICAgMzNcdFxuICAgIDM0XHQgICAgaW5uZXJIVE1MOiBgXG4gICAgMzVcdCAgICAgIDxkaXYgY2xhc3MgPSBcInByaW1hcnktaGVhZGVyXCI+RG9jdW1lbnQgU2V0dGluZ3M8L2Rpdj5cbiAgICAzNlx0ICAgIGAsXG4gICAgMzdcdCAgfVxuICAgIDM4XHR9Oy4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS9tYXAvcG9saXR5X2FjdGlvbnNfY29uZmlnLmpzXG4gICAgIDFcdGNvbmZpZy5lbnRpdHlfYWN0aW9ucy5wb2xpdHlfYWN0aW9ucyA9IHtcbiAgICAgMlx0ICBuYW1lOiBcIlBvbGl0eSBBY3Rpb25zXCIsXG4gICAgIDNcdCAgc2NvcGVfdHlwZTogW1wicG9saXRpZXNcIl0sXG4gICAgIDRcdFxuICAgICA1XHQgIGFwcGx5X3BhdGhfdHdvOiB7XG4gICAgIDZcdCAgICBpZDogXCJhcHBseV9wYXRoX3R3b1wiLFxuICAgICA3XHQgICAgbmFtZTogXCJBcHBseSBQYXRoXCIsXG4gICAgIDhcdCAgICBvcmRlcjogMixcbiAgICAgOVx0XG4gICAgMTBcdCAgICBpbW1lZGlhdGU6IHtcbiAgICAxMVx0ICAgICAgc2VsZWN0X211bHRpcGxlX2tleWZyYW1lczogXCJzZWxlY3RlZF9rZXlmcmFtZXNcIlxuICAgIDEyXHQgICAgfSxcbiAgICAxM1x0ICAgIGludGVyZmFjZToge1xuICAgIDE0XHQgICAgICBjb25maXJtX2J1dHRvbjoge1xuICAgIDE1XHQgICAgICAgIGlkOiBcImNvbmZpcm1fYnV0dG9uXCIsXG4gICAgMTZcdCAgICAgICAgbmFtZTogXCJBcHBseSBQYXRoIHRvIFNlbGVjdGVkIEtleWZyYW1lc1wiLFxuICAgIDE3XHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgMThcdCAgICAgICAgeDogMCxcbiAgICAxOVx0ICAgICAgICB5OiAwLFxuICAgIDIwXHRcbiAgICAyMVx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICAyMlx0ICAgICAgICAgIGFwcGx5X3BhdGg6IFwic2VsZWN0ZWRfa2V5ZnJhbWVzXCJcbiAgICAyM1x0ICAgICAgICB9XG4gICAgMjRcdCAgICAgIH1cbiAgICAyNVx0ICAgIH1cbiAgICAyNlx0ICB9LFxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKipcbiAgICAgNFx0ICAgKiBnZXRBbGxWYXJpYWJsZUFjdGlvbnMoKSAtIEZldGNoZXMgYWxsIHZhcmlhYmxlIGFjdGlvbnMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICAgNVx0ICAgKiBAcGFyYW0ge09iamVjdH0gW2FyZzBfb3B0aW9uc11cbiAgICAgNlx0ICAgKiAgQHBhcmFtIHtib29sZWFufSBbYXJnMF9vcHRpb25zLnJldHVybl9rZXlzPWZhbHNlXSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuXG4gICAgIDdcdCAgICogXG4gICAgIDhcdCAgICogQHJldHVybnMge0FycmF5PE9iamVjdD58QXJyYXk8U3RyaW5nPn1cbiAgICAgOVx0ICAgKi9cbiAgICAxMFx0ICBmdW5jdGlvbiBnZXRBbGxWYXJpYWJsZUFjdGlvbnMgKGFyZzBfb3B0aW9ucykge1xuICAgIDExXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDEyXHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xuICAgIDEzXHRcbiAgICAxNFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxNVx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgICAxNlx0ICAgIHZhciBmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucztcbiAgICAxN1x0ICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xuICAgIDE4XHQgICAgdmFyIHJldHVybl9rZXlzID0gW107XG4gICAgMTlcdFxuICAgIDIwXHQgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zXG4gICAgMjFcdCAgICB2YXIgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMpO1xuICAgIDIyXHQgICBcbiAgICAyM1x0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgIDI0XHQgICAgICBpZiAoIWNvbW1vbl9kZWZpbmVzLnJlc2VydmVkX3ZhcmlhYmxlX2FjdGlvbnMuaW5jbHVkZXMoYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2ldKSkge1xuICAgIDI1XHQgICAgICAgIHJldHVybl9hY3Rpb25zLnB1c2goZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2ldXSk7XG4gICAgMjZcdCAgICAgICAgcmV0dXJuX2tleXMucHVzaChhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbaV0pO1xuICAgIDI3XHQgICAgICB9XG4gICAgMjhcdFxuICAgIDI5XHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAgMzBcdCAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXlzKSA/IHJldHVybl9hY3Rpb25zIDogcmV0dXJuX2tleXM7XG4gICAgMzFcdCAgfVxuICAgIDMyXHRcbiAgICAzM1x0ICAvKipcbiAgICAzNFx0ICAgKiBnZXRWYXJpYWJsZUFjdGlvbigpIC0gRmV0Y2hlcyBhIHZhcmlhYmxlIGFjdGlvbi5cbiAgICAzNVx0ICAgKiBAcGFyYW0ge1N0cmluZ30gYXJnMF9uYW1lIC0gVGhlIG5hbWUvSUQgb2YgdGhlIHZhcmlhYmxlIGFjdGlvbi5cbiAgICAzNlx0ICAgKiBAcGFyYW0ge09iamVjdH0gW2FyZzFfb3B0aW9uc11cbiAgICAzN1x0ICAgKiAgQHBhcmFtIHtib29sZWFufSBbYXJnMV9vcHRpb25zLnJldHVybl9rZXk9ZmFsc2VdIC0gT3B0aW9uYWwuIFdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUga2V5IGluc3RlYWQgb2YgdGhlIG9iamVjdC5cbiAgICAzOFx0ICAgKiBcbiAgICAzOVx0ICAgKiBAcmV0dXJucyB7T2JqZWN0fFN0cmluZ31cbiAgICA0MFx0ICAgKi9cbiAgICA0MVx0ICBmdW5jdGlvbiBnZXRWYXJpYWJsZUFjdGlvbiAoYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcbiAgICA0Mlx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICA0M1x0ICAgIHZhciBuYW1lID0gYXJnMF9uYW1lO1xuICAgIDQ0XHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuICAgIDQ1XHRcbiAgICA0Nlx0ICAgIC8vR3VhcmQgY2xhdXNlIGZvciBvYmplY3RzOyBkaXJlY3Qga2V5c1xuICAgIDQ3XHQgICAgaWYgKHR5cGVvZiBuYW1lID09IFwib2JqZWN0XCIpIHJldHVybiBuYW1lO1xuICAgIDQ4XHQgICAgaWYgKGNvbmZpZy5mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1tuYW1lXSkgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy5mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1tuYW1lXSA6IG5hbWU7XG4uLi5cbiAgIDEwNlx0XG4gICAxMDdcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxMDhcdCAgICB2YXIgZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnM7XG4gICAxMDlcdCAgICB2YXIgb3JkZXIgPSAob3B0aW9ucy5vcmRlciAhPSB1bmRlZmluZWQpID8gb3B0aW9ucy5vcmRlciA6IDE7XG4gICAxMTBcdCAgICB2YXIgcmV0dXJuX2FjdGlvbnMgPSBbXTtcbiAgIDExMVx0ICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1xuICAgMTEyXHQgICAgdmFyIHJldHVybl9vYmogPSB7fTtcbiAgIDExM1x0XG4gICAxMTRcdCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNcbiAgIDExNVx0ICAgIHZhciBhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyk7XG4gICAxMTZcdFxuICAgMTE3XHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDExOFx0ICAgICAgdmFyIGxvY2FsX2FjdGlvbiA9IGZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1tpXV07XG4gICAxMTlcdFxuICAgMTIwXHQgICAgICBpZiAobG9jYWxfYWN0aW9uLm9yZGVyID09IG9yZGVyKSB7XG4gICAxMjFcdCAgICAgICAgcmV0dXJuX2FjdGlvbnMucHVzaChsb2NhbF9hY3Rpb24pO1xuICAgMTIyXHQgICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2ldKTtcbiAgIDEyM1x0ICAgICAgfVxuICAgMTI0XHQgICAgfVxuLi4uXG4gICAyNTFcdFxuICAgMjUyXHQgIC8qKlxuICAgMjUzXHQgICAqIGdldFZhcmlhYmxlQWN0aW9uc05hdmlnYXRpb25PYmplY3QoKSAtIEZldGNoZXMgdGhlIG5hdmlnYXRpb24gb2JqZWN0IGZvciB2YXJpYWJsZSBhY3Rpb25zOyB0aGUgaW5pdGlhbCBjb250ZXh0IG1lbnUgZnJvbSBsb3dlc3Qgb3JkZXIuXG4gICAyNTRcdCAgICogXG4gICAyNTVcdCAgICogQHJldHVybnMge09iamVjdH1cbiAgIDI1Nlx0ICAgKi9cbiAgIDI1N1x0ICBmdW5jdGlvbiBnZXRWYXJpYWJsZUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0ICgpIHtcbiAgIDI1OFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDI1OVx0ICAgIHZhciBmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucztcbiAgIDI2MFx0ICAgIHZhciBsb3dlc3Rfb3JkZXIgPSBnZXRWYXJpYWJsZUFjdGlvbnNMb3dlc3RPcmRlcihmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyk7XG4gICAyNjFcdFxuICAgMjYyXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAyNjNcdCAgICByZXR1cm4gZ2V0VmFyaWFibGVBY3Rpb25zQXRPcmRlcih7IG9yZGVyOiBsb3dlc3Rfb3JkZXIgfSlbMF07XG4gICAyNjRcdCAgfVxuICAgMjY1XHR9Li4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gZW50aXR5VmFyaWFibGVFeGlzdHMgKGFyZzBfZW50aXR5X2lkLCBhcmcxX3ZhcmlhYmxlX2lkKSB7XG4gICAgIDRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgIDVcdCAgICB2YXIgZW50aXR5X2lkID0gYXJnMF9lbnRpdHlfaWQ7XG4gICAgIDZcdCAgICB2YXIgdmFyaWFibGVfaWQgPSBhcmcxX3ZhcmlhYmxlX2lkO1xuICAgICA3XHQgICAgXG4gICAgIDhcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgIDlcdCAgICB2YXIgYWxsX2VudGl0eV92YXJpYWJsZXMgPSBnZXRBbGxFbnRpdHlWYXJpYWJsZXMoZW50aXR5X2lkKTtcbiAgICAxMFx0XG4gICAgMTFcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICAxMlx0ICAgIHJldHVybiBhbGxfZW50aXR5X3ZhcmlhYmxlcy5pbmNsdWRlcyh2YXJpYWJsZV9pZCk7XG4gICAgMTNcdCAgfVxuICAgIDE0XHRcbiAgICAxNVx0ICAvKipcbiAgICAxNlx0ICAgKiBnZXRBbGxFbnRpdHlWYXJpYWJsZXMoKSAtIFJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHVuaXF1ZSBlbnRpdHkgdmFyaWFibGVzIGZvciBhIGdpdmVuIGVudGl0eS5cbiAgICAxN1x0ICAgKiBAcGFyYW0ge1N0cmluZ30gYXJnMF9lbnRpdHlfaWRcbiAgICAxOFx0ICAgKiBcbiAgICAxOVx0ICAgKiBAcmV0dXJucyB7QXJyYXk8U3RyaW5nPn1cbiAgICAyMFx0ICAgKi9cbiAgICAyMVx0ICBmdW5jdGlvbiBnZXRBbGxFbnRpdHlWYXJpYWJsZXMgKGFyZzBfZW50aXR5X2lkKSB7XG4gICAgMjJcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgMjNcdCAgICB2YXIgZW50aXR5X2lkID0gYXJnMF9lbnRpdHlfaWQ7XG4gICAgMjRcdFxuICAgIDI1XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDI2XHQgICAgdmFyIGVudGl0eV9vYmogPSBnZXRFbnRpdHkoZW50aXR5X2lkKTtcbiAgICAyN1x0ICAgIHZhciB1bmlxdWVfdmFyaWFibGVzID0gW107XG4gICAgMjhcdFxuICAgIDI5XHQgICAgaWYgKGVudGl0eV9vYmopXG4gICAgMzBcdCAgICAgIGlmIChlbnRpdHlfb2JqLm9wdGlvbnMpXG4gICAgMzFcdCAgICAgICAgaWYgKGVudGl0eV9vYmoub3B0aW9ucy5oaXN0b3J5KSB7XG4gICAgMzJcdCAgICAgICAgICB2YXIgYWxsX2hpc3RvcnlfZnJhbWVzID0gT2JqZWN0LmtleXMoZW50aXR5X29iai5vcHRpb25zLmhpc3RvcnkpO1xuICAgIDMzXHRcbiAgICAzNFx0ICAgICAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9oaXN0b3J5X2ZyYW1lc1xuICAgIDM1XHQgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfaGlzdG9yeV9mcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAzNlx0ICAgICAgICAgICAgdmFyIGxvY2FsX2hpc3RvcnlfZnJhbWUgPSBlbnRpdHlfb2JqLm9wdGlvbnMuaGlzdG9yeVthbGxfaGlzdG9yeV9mcmFtZXNbaV1dO1xuICAgIDM3XHQgICAgICAgICAgICBcbiAgICAzOFx0ICAgICAgICAgICAgaWYgKGxvY2FsX2hpc3RvcnlfZnJhbWUpXG4gICAgMzlcdCAgICAgICAgICAgICAgaWYgKGxvY2FsX2hpc3RvcnlfZnJhbWUub3B0aW9ucylcbiAgICA0MFx0ICAgICAgICAgICAgICAgIGlmIChsb2NhbF9oaXN0b3J5X2ZyYW1lLm9wdGlvbnMudmFyaWFibGVzKSB7XG4gICAgNDFcdCAgICAgICAgICAgICAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9sb2NhbF92YXJpYWJsZXMgcGVyIGhpc3RvcnkgZnJhbWVcbiAgICA0Mlx0ICAgICAgICAgICAgICAgICAgdmFyIGFsbF9sb2NhbF92YXJpYWJsZXMgPSBPYmplY3Qua2V5cyhsb2NhbF9oaXN0b3J5X2ZyYW1lLm9wdGlvbnMudmFyaWFibGVzKTtcbiAgICA0M1x0XG4gICAgNDRcdCAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgYWxsX2xvY2FsX3ZhcmlhYmxlcy5sZW5ndGg7IHgrKylcbiAgICA0NVx0ICAgICAgICAgICAgICAgICAgICBpZiAoIXVuaXF1ZV92YXJpYWJsZXMuaW5jbHVkZXMoYWxsX2xvY2FsX3ZhcmlhYmxlc1t4XSkpXG4gICAgNDZcdCAgICAgICAgICAgICAgICAgICAgICB1bmlxdWVfdmFyaWFibGVzLnB1c2goYWxsX2xvY2FsX3ZhcmlhYmxlc1t4XSk7XG4gICAgNDdcdCAgICAgICAgICAgICAgICB9XG4gICAgNDhcdCAgICAgICAgICB9XG4gICAgNDlcdCAgICAgICAgfVxuICAgIDUwXHQgICAgXG4gICAgNTFcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICA1Mlx0ICAgIHJldHVybiB1bmlxdWVfdmFyaWFibGVzO1xuICAgIDUzXHQgIH1cbiAgICA1NFx0fVxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2JydXNoL2JydXNoX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0RlY2xhcmUgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBhZGRUb0JydXNoIChhcmcwX3BvbHlnb24sIGFyZzFfZG9fbm90X2FkZF90b191bmRvX3JlZG8pIHtcbiAgICAgNFx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAgNVx0ICAgIHZhciBwb2x5Z29uID0gYXJnMF9wb2x5Z29uO1xuICAgICA2XHQgICAgdmFyIGRvX25vdF9hZGRfdG9fdW5kb19yZWRvID0gYXJnMV9kb19ub3RfYWRkX3RvX3VuZG9fcmVkbztcbiAgICAgN1x0XG4gICAgIDhcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgIDlcdCAgICB2YXIgYnJ1c2hfb2JqID0gbWFpbi5icnVzaDtcbiAgICAxMFx0ICAgIHZhciBvbGRfYnJ1c2hfb2JqID0gKGJydXNoX29iai5jdXJyZW50X3BhdGgpID9cbiAgICAxMVx0ICAgICAgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShicnVzaF9vYmouY3VycmVudF9wYXRoKSkgOiB1bmRlZmluZWQ7XG4gICAgMTJcdFxuICAgIDEzXHQgICAgdHJ5IHtcbiAgICAxNFx0ICAgICAgLy8xLiBJbml0aWFsaXNlIGJydXNoLmN1cnJlbnRfcGF0aCBpZiBub3QgZGVmaW5lZDsgcHJvY2VzcyBnZW9tZXRyeSBtYXNrc1xuICAgIDE1XHQgICAgICBwb2x5Z29uID0gcHJvY2Vzc0JydXNoKHBvbHlnb24pO1xuICAgIDE2XHRcbiAgICAxN1x0ICAgICAgLy8yLiBNYWtlIHN1cmUgaW50ZXJzZWN0aW9uX3BvbHlnb24gaXMgZGVmaW5lZCBmb3IgZGVsdGFfcG9seWdvbiB1c2VcbiAgICAxOFx0ICAgICAgdmFyIGludGVyc2VjdGlvbl9wb2x5Z29uO1xuICAgIDE5XHQgICAgICB0cnkgeyBpbnRlcnNlY3Rpb25fcG9seWdvbiA9IGludGVyc2VjdGlvbihicnVzaF9vYmouY3VycmVudF9wYXRoLCBwb2x5Z29uKTsgfSBjYXRjaCAoZSkge31cbiAgICAyMFx0XG4gICAgMjFcdCAgICAgIC8vMy4gTWFyayBicnVzaCBjaGFuZ2UgYW5kIHVuaW9uIHdpdGggcG9seWdvblxuICAgIDIyXHQgICAgICBicnVzaF9vYmouYnJ1c2hfY2hhbmdlID0gdHJ1ZTtcbiAgICAyM1x0XG4gICAgMjRcdCAgICAgIC8vNC4gQWRkIHRvIGFjdGlvbnNcbiAgICAyNVx0ICAgICAgdmFyIGRlbHRhX3BvbHlnb247XG4gICAgMjZcdCAgICAgIGlmIChwb2x5Z29uKVxuICAgIDI3XHQgICAgICAgIHRyeSB7IGRlbHRhX3BvbHlnb24gPSBkaWZmZXJlbmNlKHBvbHlnb24sIGludGVyc2VjdGlvbl9wb2x5Z29uKTsgfSBjYXRjaCAoZSkge31cbi4uLlxuICAgIDQ5XHQgICAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbCBtYWluLmNhY2hlLm9sZF9tYXNrX2NoYW5nZXNcbiAgICA1MFx0ICAgICAgICBpZiAobWFpbi5jYWNoZS5vbGRfbWFza19jaGFuZ2VzKVxuICAgIDUxXHQgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYWluLmNhY2hlLm9sZF9tYXNrX2NoYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgNTJcdCAgICAgICAgICAgIHJlZG9fZnVuY3Rpb25fcGFyYW1ldGVycy5wdXNoKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWFpbi5jYWNoZS5vbGRfbWFza19jaGFuZ2VzW2ldKSkpO1xuICAgIDUzXHQgICAgICAgIG1haW4uY2FjaGUub2xkX21hc2tfY2hhbmdlcyA9IFtdO1xuICAgIDU0XHRcbiAgICA1NVx0ICAgICAgICBwZXJmb3JtQWN0aW9uKHtcbiAgICA1Nlx0ICAgICAgICAgIGFjdGlvbl9pZDogXCJhZGRfdG9fYnJ1c2hcIixcbiAgICA1N1x0ICAgICAgICAgIHJlZG9fZnVuY3Rpb246IFwic2V0RW50aXRpZXNDb29yZHNcIixcbiAgICA1OFx0ICAgICAgICAgIHJlZG9fZnVuY3Rpb25fcGFyYW1ldGVyczogW3VuZG9fZnVuY3Rpb25fcGFyYW1ldGVyc10sXG4gICAgNTlcdCAgICAgICAgICB1bmRvX2Z1bmN0aW9uOiBcInNldEVudGl0aWVzQ29vcmRzXCIsXG4gICAgNjBcdCAgICAgICAgICB1bmRvX2Z1bmN0aW9uX3BhcmFtZXRlcnM6IFtyZWRvX2Z1bmN0aW9uX3BhcmFtZXRlcnNdXG4gICAgNjFcdCAgICAgICAgfSk7XG4gICAgNjJcdCAgICAgIH1cbiAgICA2M1x0ICAgIH0gY2F0Y2ggKGUpIHtcbiAgICA2NFx0ICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgNjVcdCAgICB9XG4gICAgNjZcdFxuICAgIDY3XHQgICAgLy9SZWZyZXNoIGJydXNoIGlmIGFjdGlvbiB3YXMgY2FsbGVkIGZyb20gVW5kby9SZWRvXG4gICAgNjhcdCAgICBpZiAoZG9fbm90X2FkZF90b191bmRvX3JlZG8pXG4gICAgNjlcdCAgICAgIHJlZnJlc2hCcnVzaCgpO1xuICAgIDcwXHRcbiAgICA3MVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDcyXHQgICAgcmV0dXJuIHBvbHlnb247XG4gICAgNzNcdCAgfVxuLi4uXG4gICAgOTVcdFxuICAgIDk2XHQgIGZ1bmN0aW9uIGRpc2FibGVCcnVzaCAoKSB7XG4gICAgOTdcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgOThcdCAgICB2YXIgYnJ1c2hfb2JqID0gbWFpbi5icnVzaDtcbiAgICA5OVx0XG4gICAxMDBcdCAgICAvL1NldCBicnVzaF9vYmouZGlzYWJsZV9icnVzaFxuICAgMTAxXHQgICAgYnJ1c2hfb2JqLmRpc2FibGVfYnJ1c2ggPSB0cnVlO1xuICAgMTAyXHQgICAgaWYgKGJydXNoX29iai5jdXJzb3IpXG4gICAxMDNcdCAgICAgIGJydXNoX29iai5jdXJzb3IucmVtb3ZlKCk7XG4gICAxMDRcdCAgICB0cnkgeyByZWZyZXNoQnJ1c2hBY3Rpb25zKCk7IH0gY2F0Y2ggKGUpIHt9XG4gICAxMDVcdCAgfVxuICAgMTA2XHRcbiAgIDEwN1x0ICBmdW5jdGlvbiBlbmFibGVCcnVzaCAoKSB7XG4gICAxMDhcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxMDlcdCAgICB2YXIgYnJ1c2hfb2JqID0gbWFpbi5icnVzaDtcbiAgIDExMFx0ICAgIFxuICAgMTExXHQgICAgLy9EZWxldGUgYnJ1c2hfb2JqLmRpc2FibGVfYnJ1c2hcbiAgIDExMlx0ICAgIGRlbGV0ZSBicnVzaF9vYmouZGlzYWJsZV9icnVzaDtcbiAgIDExM1x0ICAgIGlmIChicnVzaF9vYmouY3Vyc29yKVxuICAgMTE0XHQgICAgICBicnVzaF9vYmouY3Vyc29yLnJlbW92ZSgpO1xuICAgMTE1XHQgICAgdHJ5IHsgcmVmcmVzaEJydXNoQWN0aW9ucygpOyB9IGNhdGNoIChlKSB7fVxuICAgMTE2XHQgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9wYXJzaW5nX2ZyYW1ld29yay5qc1xuLi4uXG4gICA0MjlcdFxuICAgNDMwXHQgIC8qXG4gICA0MzFcdCAgICBwYXJzZVZhcmlhYmxlU3RyaW5nKCkgLSBQYXJzZXMgYSB2YXJpYWJsZSBzdHJpbmcgYW5kIHJldHVybnMgaXRzIHJlc29sdmVkIHZhbHVlLlxuICAgNDMyXHQgICAgYXJnMF9zdHJpbmc6IChTdHJpbmcpIC0gVGhlIHN0cmluZyB3aGljaCB0byByZXNvbHZlLlxuICAgNDMzXHQgICAgYXJnMV9vcHRpb25zOiAoT2JqZWN0KVxuICAgNDM0XHQgICAgICA8a2V5PjogKFZhcmlhYmxlKVxuICAgNDM1XHQgICAgICByZWdleF9yZXBsYWNlOiAoT2JqZWN0KVxuICAgNDM2XHQgICAgICAgIDxrZXk+OiAoVmFyaWFibGUpXG4gICA0MzdcdFxuICAgNDM4XHQgICAgUmV0dXJuczogKFZhcmlhYmxlKVxuICAgNDM5XHQgICovXG4gICA0NDBcdCAgZnVuY3Rpb24gcGFyc2VWYXJpYWJsZVN0cmluZyAoYXJnMF9zdHJpbmcsIGFyZzFfb3B0aW9ucykgeyAvL1tXSVBdIC0gU29tZXRoaW5nIGhlcmUgaXMgd3JvbmcgYXMgaXQgcmV0dXJucyBIVE1MRWxlbWVudCBpbiBzb21lIGNhc2VzLlxuICAgNDQxXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgNDQuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE3cFVwTGtLenZIUWpMaVI5VnZ0SFlqIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6Mjc6MDIuMDYyWiIsInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgc2VhcmNoIGZvciBtb3JlIHNwZWNpZmljIGZyYW1ld29yayBmaWxlcyB0aGF0IGZvbGxvdyB0aGUgdGVtcGxhdGUgcGF0dGVybjpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJlNzFjYmI3ZS0zY2JhLTRhNjQtYTZmNi00OWEzZGUzNzQ0NmYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFDMlFqdnhSQmdpRnFvWm9FMWg1OWtNIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIGFsbCBmaWxlcyBpbiB0aGUgcHJvamVjdCB0aGF0IGFyZSBzaW1pbGFyIHRvIGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzLCBzcGVjaWZpY2FsbHkgbG9va2luZyBmb3IgKl9mcmFtZXdvcmsuanMgZmlsZXMgdGhhdCBpbXBsZW1lbnQgVUkgSlNPTjUgY29uZmlncy5cIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgc2VhcmNoIGZvciBtb3JlIHNwZWNpZmljIGZpbGVzIHJlbGF0ZWQgdG8gZW50aXR5X2tleWZyYW1lcyBhbmQgc2ltaWxhciBwYXR0ZXJuczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9VRi9qcy9maWxlcy9iYXNpY19maWxlcy5qc1xuLi4uXG4gICAgMTJcdFxuICAgIDEzXHQgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxNFx0ICB2YXIgZmlsZV9hcnJheSA9IFtdO1xuICAgIDE1XHRcbiAgICAxNlx0ICAgIHRyeSB7XG4gICAgMTdcdCAgICAgIHZhciBmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKGZvbGRlcik7XG4gICAgMThcdFxuICAgIDE5XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgMjBcdCAgICAgICAgLy9TZWxmLXJlZmVyZW5jZSB0byBmZXRjaCBmaWxlcyBpbiBzdWItZGlyZWN0b3JpZXNcbiAgICAyMVx0ICAgICAgICBsb2NhbF9kaXJfYXJyYXkgPSAoZnMuc3RhdFN5bmMoZm9sZGVyICsgXCJcXFxcXCIgKyBmaWxlc1tpXSkuaXNEaXJlY3RvcnkoKSkgPyBnZXRBbGxGaWxlcyhmb2xkZXIgKyBcIlxcXFxcIiArIGZpbGVzW2ldKSA6IGZpbGVfYXJyYXkucHVzaChwYXRoLmpvaW4oZm9sZGVyLCBcIlxcXFxcIiwgZmlsZXNbaV0pKTtcbiAgICAyMlx0XG4gICAgMjNcdCAgICAgICAgLy9BZGQgZmlsZXMgZnJvbSBsb2NhbF9kaXJfYXJyYXkgdG8gZmlsZV9hcnJheVxuICAgIDI0XHQgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgbG9jYWxfZGlyX2FycmF5Lmxlbmd0aDsgeCsrKVxuICAgIDI1XHQgICAgICAgICAgZmlsZV9hcnJheS5wdXNoKGxvY2FsX2Rpcl9hcnJheVt4XSk7XG4gICAgMjZcdCAgICAgIH1cbiAgICAyN1x0ICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAyOFx0ICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgMjlcdCAgICB9XG4gICAgMzBcdFxuICAgIDMxXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAgMzJcdCAgICByZXR1cm4gZmlsZV9hcnJheTtcbiAgICAzM1x0fVxuICAgIDM0XHRcbiAgICAzNVx0ZnVuY3Rpb24gZ2V0QWxsRHJpdmVzICgpIHtcbiAgICAzNlx0ICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMzdcdCAgdmFyIGN1cnJlbnRfb3MgPSBwcm9jZXNzLnBsYXRmb3JtO1xuLi4uXG4gICAxNDhcdFxuICAgMTQ5XHQgICAgLy9Mb2FkIGVhY2ggbG9hZCBkaXJlY3Rvcnkgc2VwYXJhdGVseVxuICAgMTUwXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2FkX29yZGVyLmxvYWRfZGlyZWN0b3JpZXMubGVuZ3RoOyBpKyspIHtcbiAgIDE1MVx0ICAgICAgdmFyIGRpcl9wYXR0ZXJuID0gbG9hZF9vcmRlci5sb2FkX2RpcmVjdG9yaWVzW2ldO1xuICAgMTUyXHQgICAgICBcbiAgIDE1M1x0ICAgICAgLy9TcGxpdCB0aGUgcGF0dGVybiBpbnRvIGRpcmVjdG9yeSBhbmQgZmlsZSBwYXR0ZXJuXG4gICAxNTRcdCAgICAgIHZhciBsYXN0X3NsYXNoID0gZGlyX3BhdHRlcm4ubGFzdEluZGV4T2YoJy8nKTtcbiAgIDE1NVx0ICAgICAgdmFyIGJhc2VfZGlyID0gZGlyX3BhdHRlcm47XG4gICAxNTZcdCAgICAgIHZhciBmaWxlX3BhdHRlcm4gPSAnKi5qcyc7IC8vIERlZmF1bHQgcGF0dGVyblxuICAgMTU3XHQgICAgICBcbiAgIDE1OFx0ICAgICAgLy9JZiB0aGVyZSdzIGEgcGF0dGVybiBpbiB0aGUgcGF0aCwgdXNlIGl0IGluc3RlYWRcbiAgIDE1OVx0ICAgICAgaWYgKGxhc3Rfc2xhc2ggIT09IC0xKSB7XG4gICAxNjBcdCAgICAgICAgYmFzZV9kaXIgPSBkaXJfcGF0dGVybi5zdWJzdHJpbmcoMCwgbGFzdF9zbGFzaCk7XG4gICAxNjFcdCAgICAgICAgZmlsZV9wYXR0ZXJuID0gZGlyX3BhdHRlcm4uc3Vic3RyaW5nKGxhc3Rfc2xhc2ggKyAxKTtcbiAgIDE2Mlx0ICAgICAgfVxuICAgMTYzXHQgICAgICBcbiAgIDE2NFx0ICAgICAgdmFyIGxvY2FsX2RpciA9IGAke19fZGlybmFtZX1cXFxcJHtiYXNlX2Rpcn1gO1xuICAgMTY1XHQgICAgICB2YXIgYWxsX2RpcmVjdG9yeV9maWxlcyA9IGdldEFsbEZpbGVzKGxvY2FsX2Rpcik7XG4gICAxNjZcdCAgICAgIFxuICAgMTY3XHQgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGFsbF9kaXJlY3RvcnlfZmlsZXMubGVuZ3RoOyB4KyspIHtcbiAgIDE2OFx0ICAgICAgICAvL1NraXAgaWYgZmlsZSBpcyBhbHJlYWR5IGxvYWRlZFxuICAgMTY5XHQgICAgICAgIGlmIChsb2FkZWRfZmlsZXMuaW5jbHVkZXMoYWxsX2RpcmVjdG9yeV9maWxlc1t4XSkpIGNvbnRpbnVlO1xuICAgMTcwXHQgICAgICAgIFxuICAgMTcxXHQgICAgICAgIC8vR2V0IGp1c3QgdGhlIGZpbGVuYW1lIGZyb20gdGhlIGZ1bGwgcGF0aFxuICAgMTcyXHQgICAgICAgIHZhciBmaWxlbmFtZSA9IGFsbF9kaXJlY3RvcnlfZmlsZXNbeF0uc3BsaXQoJ1xcXFwnKS5wb3AoKTtcbiAgIDE3M1x0ICAgICAgICBcbiAgIDE3NFx0ICAgICAgICAvL0NvbnZlcnQgZ2xvYiBwYXR0ZXJuIHRvIHJlZ2V4XG4gICAxNzVcdCAgICAgICAgdmFyIHBhdHRlcm4gPSBmaWxlX3BhdHRlcm5cbiAgIDE3Nlx0ICAgICAgICAgIC5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJykgLy8gRXNjYXBlIGRvdHNcbiAgIDE3N1x0ICAgICAgICAgIC5yZXBsYWNlKC9cXCovZywgJy4qJykgIC8vIENvbnZlcnQgKiB0byAuKlxuICAgMTc4XHQgICAgICAgICAgLnJlcGxhY2UoL1xcPy9nLCAnLicpOyAgLy8gQ29udmVydCA/IHRvIC5cbiAgIDE3OVx0ICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCdeJyArIHBhdHRlcm4gKyAnJCcpO1xuICAgMTgwXHQgICAgICAgIFxuICAgMTgxXHQgICAgICAgIC8vT25seSBsb2FkIGlmIGZpbGUgbWF0Y2hlcyBwYXR0ZXJuXG4gICAxODJcdCAgICAgICAgaWYgKCFyZWdleC50ZXN0KGZpbGVuYW1lKSkgY29udGludWU7XG4gICAxODNcdCAgICAgICAgXG4gICAxODRcdCAgICAgICAgbG9hZEZpbGUoYWxsX2RpcmVjdG9yeV9maWxlc1t4XSk7XG4gICAxODVcdCAgICAgICAgbG9hZGVkX2ZpbGVzLnB1c2goYWxsX2RpcmVjdG9yeV9maWxlc1t4XSk7XG4gICAxODZcdCAgICAgIH1cbiAgIDE4N1x0ICAgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9vcHRpbWlzYXRpb25fZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vRGVjbGFyZSBmdW5jdGlvblxuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gaW5pdE9wdGltaXNhdGlvbiAoKSB7XG4gICAgIDRcdCAgICAvL0JSVVNIIEFDVElPTlNcbiAgICAgNVx0ICAgIC8vU2V0IC5hbGxfYnJ1c2hfYWN0aW9uczsgLmFsbF9icnVzaF9hY3Rpb25zX2tleXNcbiAgICAgNlx0ICAgIGNvbmZpZy5mbGF0dGVuZWRfYnJ1c2hfYWN0aW9ucyA9IGR1bWJGbGF0dGVuT2JqZWN0KGNvbmZpZy5icnVzaF9hY3Rpb25zKTtcbiAgICAgN1x0XG4gICAgIDhcdCAgICBjb25maWcuYWxsX2JydXNoX2FjdGlvbnMgPSBnZXRBbGxCcnVzaEFjdGlvbnMoKTtcbiAgICAgOVx0ICAgIGNvbmZpZy5hbGxfYnJ1c2hfYWN0aW9uc19rZXlzID0gZ2V0QWxsQnJ1c2hBY3Rpb25zKHsgcmV0dXJuX2tleXM6IHRydWUgfSk7XG4gICAgMTBcdCAgICBjb25maWcuYnJ1c2hfYWN0aW9uc19sb3dlc3Rfb3JkZXIgPSBnZXRCcnVzaEFjdGlvbnNMb3dlc3RPcmRlcigpO1xuICAgIDExXHRcbiAgICAxMlx0ICAgIC8vRU5USVRZIEFDVElPTlNcbiAgICAxM1x0ICAgIC8vU2V0IC5hbGxfZW50aXR5X2FjdGlvbnM7IC5hbGxfZW50aXR5X2FjdGlvbnNfa2V5c1xuICAgIDE0XHQgICAgY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGR1bWJGbGF0dGVuT2JqZWN0KGNvbmZpZy5lbnRpdHlfYWN0aW9ucyk7XG4gICAgMTVcdFxuICAgIDE2XHQgICAgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9ucyA9IGdldEFsbEVudGl0eUFjdGlvbnMoKTtcbiAgICAxN1x0ICAgIGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNfa2V5cyA9IGdldEFsbEVudGl0eUFjdGlvbnMoeyByZXR1cm5fa2V5czogdHJ1ZSB9KTtcbiAgICAxOFx0ICAgIGNvbmZpZy5lbnRpdHlfYWN0aW9uc19sb3dlc3Rfb3JkZXIgPSBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIoKTtcbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay92YXJpYWJsZXMvdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanNcbi4uLlxuICAgIDcwXHRcbiAgICA3MVx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgIDcyXHQgICAge1xuICAgIDczXHQgICAgICAvL0l0ZXJhdGUgb3ZlciBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnNcbiAgICA3NFx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICA3NVx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV07XG4gICAgNzZcdFxuICAgIDc3XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgIDc4XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAgNzlcdCAgICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbl9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA4MFx0ICAgICAgfVxuICAgIDgxXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfdmFyaWFibGVfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDgyXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfdmFyaWFibGVfYWN0aW9uc1tpXTtcbiAgICA4M1x0ICAgICAgICBcbiAgICA4NFx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgICA4NVx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAgODZcdCAgICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbl9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA4N1x0ICAgICAgfVxuICAgIDg4XHQgICAgfVxuICAgIDg5XHRcbiAgICA5MFx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDkxXHQgICAgaWYgKHZhcmlhYmxlX2FjdGlvbl9leGlzdHNbMF0pXG4gICAgOTJcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbdmFyaWFibGVfYWN0aW9uX2V4aXN0c1sxXV0gOiB2YXJpYWJsZV9hY3Rpb25fZXhpc3RzWzFdO1xuICAgIDkzXHQgIH1cbi4uLlxuICAgMTU0XHRcbiAgIDE1NVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDE1Nlx0ICAgIHZhciBhbGxfdmFyaWFibGVfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGNvbmZpZy52YXJpYWJsZXMpO1xuICAgMTU3XHQgICAgdmFyIHZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzID0gW2ZhbHNlLCBcIlwiXTsgLy9bdmFyaWFibGVfYWN0aW9uc19leGlzdHMsIHZhcmlhYmxlX2FjdGlvbnNfa2V5XTtcbiAgIDE1OFx0ICAgIHZhciBzZWFyY2hfbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAxNTlcdFxuICAgMTYwXHQgICAgLy9JRCBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgMTYxXHQgICAge1xuICAgMTYyXHQgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfdmFyaWFibGVfYWN0aW9uc1xuICAgMTYzXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgMTY0XHQgICAgICAgIGlmIChhbGxfdmFyaWFibGVfYWN0aW9uc1tpXS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgIDE2NVx0ICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF92YXJpYWJsZV9hY3Rpb25zW2ldXTtcbiAgIDE2Nlx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfdmFyaWFibGVfYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgIDE2N1x0ICAgICAgICBpZiAoYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV0udG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgIDE2OFx0ICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF92YXJpYWJsZV9hY3Rpb25zW2ldXTtcbiAgIDE2OVx0ICAgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9icnVzaC9icnVzaF9hY3Rpb25zX2ZyYW1ld29yay5qc1xuLi4uXG4gICAgNzBcdFxuICAgIDcxXHQgICAgLy9OYW1lIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXG4gICAgNzJcdCAgICB7XG4gICAgNzNcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGNvbmZpZy5hbGxfYnJ1c2hfYWN0aW9uc1xuICAgIDc0XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfYnJ1c2hfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDc1XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfYnJ1c2hfYWN0aW9uc1tpXTtcbiAgICA3Nlx0XG4gICAgNzdcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAgNzhcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgICA3OVx0ICAgICAgICAgICAgYnJ1c2hfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA4MFx0ICAgICAgfVxuICAgIDgxXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfYnJ1c2hfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDgyXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfYnJ1c2hfYWN0aW9uc1tpXTtcbiAgICA4M1x0XG4gICAgODRcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAgODVcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgIDg2XHQgICAgICAgICAgICBicnVzaF9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgIDg3XHQgICAgICB9XG4gICAgODhcdCAgICB9XG4gICAgODlcdFxuICAgIDkwXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAgOTFcdCAgICBpZiAoYnJ1c2hfYWN0aW9uc19leGlzdHNbMF0pXG4gICAgOTJcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2JydXNoX2FjdGlvbnNbYnJ1c2hfYWN0aW9uc19leGlzdHNbMV1dIDogYnJ1c2hfYWN0aW9uc19leGlzdHNbMV07XG4gICAgOTNcdCAgfVxuLi4uXG4gICAxNzFcdFxuICAgMTcyXHQgICAgLy9OYW1lIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXG4gICAxNzNcdCAgICB7XG4gICAxNzRcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9icnVzaF9hY3Rpb25zXG4gICAxNzVcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2JydXNoX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDE3Nlx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYnJ1c2hfYWN0aW9uc1thbGxfYnJ1c2hfYWN0aW9uc1tpXV07XG4gICAxNzdcdFxuICAgMTc4XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTc5XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxODBcdCAgICAgICAgICAgIGJydXNoX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9icnVzaF9hY3Rpb25zW2ldXTtcbiAgIDE4MVx0ICAgICAgfVxuICAgMTgyXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9icnVzaF9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxODNcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmJydXNoX2FjdGlvbnNbYWxsX2JydXNoX2FjdGlvbnNbaV1dO1xuICAgMTg0XHRcbiAgIDE4NVx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgIDE4Nlx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAxODdcdCAgICAgICAgICAgIGJydXNoX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9icnVzaF9hY3Rpb25zW2ldXTtcbiAgIDE4OFx0ICAgICAgfVxuICAgMTg5XHQgICAgfVxuICAgMTkwXHRcbiAgIDE5MVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMTkyXHQgICAgaWYgKGJydXNoX2FjdGlvbnNfZXhpc3RzWzBdKVxuICAgMTkzXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmJydXNoX2FjdGlvbnNbYnJ1c2hfYWN0aW9uc19leGlzdHNbMV1dIDogYnJ1c2hfYWN0aW9uc19leGlzdHNbMV07XG4gICAxOTRcdCAgfVxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1xuLi4uXG4gICAxNzFcdFxuICAgMTcyXHQgICAgLy9OYW1lIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXG4gICAxNzNcdCAgICB7XG4gICAxNzRcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9lbnRpdHlfYWN0aW9uc1xuICAgMTc1XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgMTc2XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5lbnRpdHlfYWN0aW9uc1thbGxfZW50aXR5X2FjdGlvbnNbaV1dO1xuICAgMTc3XHRcbiAgIDE3OFx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgIDE3OVx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgMTgwXHQgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuICAgMTgxXHQgICAgICB9XG4gICAxODJcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxODNcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmVudGl0eV9hY3Rpb25zW2FsbF9lbnRpdHlfYWN0aW9uc1tpXV07XG4gICAxODRcdFxuICAgMTg1XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTg2XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgIDE4N1x0ICAgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcbiAgIDE4OFx0ICAgICAgfVxuICAgMTg5XHQgICAgfVxuICAgMTkwXHRcbiAgIDE5MVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMTkyXHQgICAgaWYgKGVudGl0eV9hY3Rpb25zX2V4aXN0c1swXSlcbiAgIDE5M1x0ICAgICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy5lbnRpdHlfYWN0aW9uc1tlbnRpdHlfYWN0aW9uc19leGlzdHNbMV1dIDogZW50aXR5X2FjdGlvbnNfZXhpc3RzWzFdO1xuICAgMTk0XHQgIH1cbi4uLlxuUGF0aDogc3JjL2pzL3N0YXJ0dXAuanNcbiAgICAgMVx0Ly9JbXBvcnQgbW9kdWxlc1xuICAgICAyXHR3aW5kb3cuY2hpbGRfcHJvY2VzcyA9IHJlcXVpcmUoXCJjaGlsZF9wcm9jZXNzXCIpO1xuICAgICAzXHR3aW5kb3cuZnMgPSByZXF1aXJlKFwiZnNcIik7XG4gICAgIDRcdHdpbmRvdy5wYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG4gICAgIDVcdFxuICAgICA2XHQvL0xvYWQgY29uZmlnXG4gICAgIDdcdHtcbiAgICAgOFx0ICBnbG9iYWwubG9hZF9vcmRlciA9IHtcbiAgICAgOVx0ICAgIGxvYWRfZGlyZWN0b3JpZXM6IFtcbiAgICAxMFx0ICAgICAgXCJjb25maWdcIixcbiAgICAxMVx0ICAgICAgXCIuL2pzL2ludGVyZmFjZS8qX2NvbmZpZy5qc1wiLFxuICAgIDEyXHQgICAgICBcIlVGXCJcbiAgICAxM1x0ICAgIF0sXG4gICAgMTRcdCAgICBsb2FkX2ZpbGVzOiBbXG4gICAgMTVcdCAgICAgIFwiLmNvbmZpZ19iYWNrZW5kLmpzXCJcbiAgICAxNlx0ICAgIF1cbiAgICAxN1x0ICB9O1xuICAgIDE4XHQgIGxvYWRDb25maWcoKTtcbiAgICAxOVx0fVxuICAgIDIwXHRcbiAgICAyMVx0Ly9Jbml0IGdsb2JhbFxuICAgIDIyXHR7XG4gICAgMjNcdCAgLy9EZWNsYXJlIGxvY2FsIGluaXRpYWxpc2F0aW9uIGNvbnN0YW50c1xuICAgIDI0XHQgIHZhciBjdXJyZW50X2RhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIDI1XHRcbiAgICAyNlx0ICAvL0luaXRpYWxpc2UgZ2xvYmFsLmludGVyZmFjZXNcbiAgICAyN1x0ICBnbG9iYWwuaW50ZXJmYWNlcyA9IHt9O1xuICAgIDI4XHRcbiAgICAyOVx0ICAvL0luaXRpYWxpc2UgZ2xvYmFsLm1haW5cbiAgICAzMFx0ICBnbG9iYWwubWFpbiA9IHt9O1xuLi4uXG5QYXRoOiBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKipcbiAgICAgNFx0ICAgKiBjcmVhdGVTZWN0aW9uKCkgLSBDcmVhdGVzIGEgZm9sZGFibGUgZWxlbWVudCB0aGF0IGNhbiBiZSBtaW5pbWlzZWQvZXhwYW5kZWQuXG4gICAgIDVcdCAgICogQHBhcmFtIHtPYmplY3R9IFthcmcwX29wdGlvbnNdXG4gICAgIDZcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLmV4cGFuZF9jbGFzcz1cInVmLWV4cGFuZGVkXCJdIC0gVGhlIGNsYXNzIHRvIGFkZCB3aGVuIHRoZSBzZWN0aW9uIGlzIGV4cGFuZGVkLlxuICAgICA3XHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5taW5pbWlzZV9jbGFzcz1cInVmLW1pbmltaXNlZFwiXSAtIFRoZSBjbGFzcyB0byBhZGQgd2hlbiB0aGUgc2VjdGlvbiBpcyBjb2xsYXBzZWQuXG4gICAgIDhcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNlbGVjdG9yXSAtIFRoZSBzZWxlY3RvciBvZiB0aGUgZWxlbWVudHMgdGhhdCBjYW4gYmUgbWluaW1pc2VkL2V4cGFuZGVkLiBOb3RlIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgY292ZXJlZCBieSB0aGUgc2VsZWN0b3Igd2lsbCBoYXZlIHRoZSBjaGV2cm9uIGNvbnRyb2xsZXIuXG4gICAgIDlcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNlbGVjdG9yX2NsYXNzPVwidWYtY2hldnJvbiBtaW5pbWlzZVwiXSAtIFRoZSBjbGFzcyB0byBhZGQgdG8gdGhlIGNoZXZyb24gY29udHJvbGxlci5cbiAgICAxMFx0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMuc3JjPVwiLi9VRi9nZngvY2hldnJvbl9pY29uLnBuZ1wiXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGNoZXZyb24gaW1hZ2UuXG4gICAgMTFcdCAgICogIEBwYXJhbSB7Qm9vbGVhbn0gW2FyZzBfb3B0aW9ucy5pc19jb2xsYXBzZWQ9ZmFsc2VdIC0gV2hldGhlciB0aGUgc2VjdGlvbiBzaG91bGQgc3RhcnQgaW4gYSBjb2xsYXBzZWQgc3RhdGUuXG4gICAgMTJcdCAgICovXG4gICAgMTNcdCAgZnVuY3Rpb24gY3JlYXRlU2VjdGlvbiAoYXJnMF9vcHRpb25zKSB7XG4gICAgMTRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgMTVcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAgMTZcdFxuICAgIDE3XHQgICAgLy9Jbml0aWFsaXNlIG9wdGlvbnNcbiAgICAxOFx0ICAgIGlmICghb3B0aW9ucy5leHBhbmRfY2xhc3MpIG9wdGlvbnMuZXhwYW5kX2NsYXNzID0gXCJ1Zi1leHBhbmRlZFwiO1xuICAgIDE5XHQgICAgaWYgKCFvcHRpb25zLm1pbmltaXNlX2NsYXNzKSBvcHRpb25zLm1pbmltaXNlX2NsYXNzID0gXCJ1Zi1taW5pbWlzZWRcIjtcbiAgICAyMFx0ICAgIGlmICghb3B0aW9ucy5zZWxlY3Rvcikgb3B0aW9ucy5zZWxlY3RvciA9IFwiXCI7XG4gICAgMjFcdCAgICBpZiAoIW9wdGlvbnMuc2VsZWN0b3JfY2xhc3MpIG9wdGlvbnMuc2VsZWN0b3JfY2xhc3MgPSBcInVmLWNoZXZyb24gbWluaW1pc2VcIjtcbiAgICAyMlx0ICAgIGlmICghb3B0aW9ucy5zcmMpIG9wdGlvbnMuc3JjID0gXCIuL1VGL2dmeC9jaGV2cm9uX2ljb24ucG5nXCI7XG4gICAgMjNcdCAgICBpZiAob3B0aW9ucy5pc19jb2xsYXBzZWQgPT09IHVuZGVmaW5lZCkgb3B0aW9ucy5pc19jb2xsYXBzZWQgPSBmYWxzZTtcbiAgICAyNFx0XG4gICAgMjVcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMjZcdCAgICB2YXIgYWxsX2NvbGxhcHNpYmxlX2VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgLy9TZXQgY2hldnJvbiBpbWFnZSBvbiBmaXJzdCBjb2xsYXBzaWJsZSBlbFxuICAgIDI5XHQgICAgdmFyIGNoZXZyb25fYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAzMFx0ICAgICAgY2hldnJvbl9idG4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgb3B0aW9ucy5zZWxlY3Rvcl9jbGFzcyk7XG4gICAgMzFcdCAgICAgIGNoZXZyb25fYnRuLnNldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiLCBmYWxzZSk7XG4gICAgMzJcdCAgICAgIGNoZXZyb25fYnRuLnNyYyA9IG9wdGlvbnMuc3JjO1xuICAgIDMzXHRcbiAgICAzNFx0ICAgIC8vQWRkIGNoZXZyb24gdG8gZmlyc3QgZWxlbWVudCBpZiBpdCBleGlzdHNcbiAgICAzNVx0ICAgIGlmIChhbGxfY29sbGFwc2libGVfZWxzLmxlbmd0aCA+IDApIHtcbiAgICAzNlx0ICAgICAgdmFyIGZpcnN0X2VsID0gYWxsX2NvbGxhcHNpYmxlX2Vsc1swXTtcbiAgICAzN1x0ICAgICAgZmlyc3RfZWwuYXBwZW5kQ2hpbGQoY2hldnJvbl9idG4sIGZpcnN0X2VsLmZpcnN0Q2hpbGQpO1xuICAgIDM4XHQgICAgfVxuLi4uXG4gICAgNDlcdFxuICAgIDUwXHQgICAgLy9BZGQgY2xpY2sgaGFuZGxlciB0byB0b2dnbGUgc2VjdGlvblxuICAgIDUxXHQgICAgY2hldnJvbl9idG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICA1Mlx0ICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIDUzXHQgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIDU0XHRcbiAgICA1NVx0ICAgICAgLy9Ub2dnbGUgY2xhc3NlcyBvbiBhbGwgY29sbGFwc2libGUgZWxlbWVudHNcbiAgICA1Nlx0ICAgICAgaWYgKGFsbF9jb2xsYXBzaWJsZV9lbHMubGVuZ3RoID4gMSlcbiAgICA1N1x0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFsbF9jb2xsYXBzaWJsZV9lbHMubGVuZ3RoOyBpKyspIHtcbiAgICA1OFx0ICAgICAgICAgIHZhciBlbCA9IGFsbF9jb2xsYXBzaWJsZV9lbHNbaV07XG4gICAgNTlcdCAgICAgICAgICBcbiAgICA2MFx0ICAgICAgICAgIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKG9wdGlvbnMubWluaW1pc2VfY2xhc3MpKSB7XG4gICAgNjFcdCAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUob3B0aW9ucy5leHBhbmRfY2xhc3MpO1xuICAgIDYyXHQgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKG9wdGlvbnMubWluaW1pc2VfY2xhc3MpO1xuICAgIDYzXHQgICAgICAgICAgfSBlbHNlIHtcbiAgICA2NFx0ICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShvcHRpb25zLm1pbmltaXNlX2NsYXNzKTtcbiAgICA2NVx0ICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChvcHRpb25zLmV4cGFuZF9jbGFzcyk7XG4gICAgNjZcdCAgICAgICAgICB9XG4gICAgNjdcdCAgICAgICAgfVxuICAgIDY4XHRcbiAgICA2OVx0ICAgICAgLy9Ub2dnbGUgY2hldnJvbiByb3RhdGlvblxuICAgIDcwXHQgICAgICBpZiAoY2hldnJvbl9idG4uc3R5bGUudHJhbnNmb3JtID09PSBcInJvdGF0ZSgxODBkZWcpXCIpIHtcbiAgICA3MVx0ICAgICAgICBjaGV2cm9uX2J0bi5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgwZGVnKVwiO1xuICAgIDcyXHQgICAgICB9IGVsc2Uge1xuICAgIDczXHQgICAgICAgIGNoZXZyb25fYnRuLnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKDE4MGRlZylcIjtcbiAgICA3NFx0ICAgICAgfVxuICAgIDc1XHQgICAgfSk7XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvZ3JvdXBzL2dyb3VwX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBzZWxlY3RHcm91cCAoYXJnMF9ncm91cF9pZCkge1xuICAgICA0XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgICA1XHQgICAgdmFyIGdyb3VwX2lkID0gYXJnMF9ncm91cF9pZDtcbiAgICAgNlx0XG4gICAgIDdcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgIDhcdCAgICB2YXIgYnJ1c2hfb2JqID0gbWFpbi5icnVzaDtcbiAgICAgOVx0ICAgIHZhciBjb21tb25fc2VsZWN0b3JzID0gY29uZmlnLmRlZmluZXMuY29tbW9uLnNlbGVjdG9ycztcbiAgICAxMFx0ICAgIHZhciBncm91cF9lbCA9IGdldEdyb3VwRWxlbWVudChncm91cF9pZCk7XG4gICAgMTFcdCAgICB2YXIgZ3JvdXBfb2JqID0gZ2V0R3JvdXAoXCJoaWVyYXJjaHlcIiwgZ3JvdXBfaWQpO1xuICAgIDEyXHRcbiAgICAxM1x0ICAgIHZhciBhbGxfZ3JvdXBfZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb21tb25fc2VsZWN0b3JzLmhpZXJhcmNoeSkucXVlcnlTZWxlY3RvckFsbChgLmdyb3VwYCk7XG4gICAgMTRcdFxuICAgIDE1XHQgICAgYnJ1c2hfb2JqLnNlbGVjdGVkX2dyb3VwX2lkID0gZ3JvdXBfaWQ7XG4gICAgMTZcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9ncm91cF9lbHMubGVuZ3RoOyBpKyspXG4gICAgMTdcdCAgICAgIGFsbF9ncm91cF9lbHNbaV0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYCR7Z3JvdXBfZWwuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikucmVwbGFjZShcIiBzZWxlY3RlZFwiLCBcIlwiKX1gKTtcbiAgICAxOFx0ICAgIGdyb3VwX2VsLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGAke2dyb3VwX2VsLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfSBzZWxlY3RlZGApO1xuICAgIDE5XHQgIH1cbiAgICAyMFx0fVxuLi4uXG5QYXRoOiBzcmMvVUYvanMvQnJvd3NlclVJL2hpZXJhcmNoeV9mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9IaWVyYXJjaGllc1xuICAgICAyXHQvL0luaXRpYWxpc2F0aW9uIGZ1bmN0aW9uc1xuICAgICAzXHR7XG4gICAgIDRcdCAgLypcbiAgICAgNVx0ICAgIGdldEhpZXJhcmNoeUZyb21JRCgpIC0gRmV0Y2hlcyBoaWVyYXJjaHkgZnJvbSBoaWVyYXJjaHkgSUQuXG4gICAgIDZcdCAgICBhcmcwX2hpZXJhcmNoeV9pZDogKFN0cmluZylcbiAgICAgN1x0ICAgIGFyZzFfb3B0aW9uczogKE9iamVjdClcbiAgICAgOFx0ICAgICAgcmV0dXJuX2tleTogKEJvb2xlYW4pXG4gICAgIDlcdCAgKi9cbiAgICAxMFx0ICBmdW5jdGlvbiBnZXRIaWVyYXJjaHlGcm9tSUQgKGFyZzBfaGllcmFyY2h5X2lkLCBhcmcxX29wdGlvbnMpIHtcbiAgICAxMVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcm1hZXRlcnNcbiAgICAxMlx0ICAgIHZhciBoaWVyYXJjaHlfaWQgID0gYXJnMF9oaWVyYXJjaHlfaWQ7XG4gICAgMTNcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcxX29wdGlvbnMpID8gYXJnMV9vcHRpb25zIDoge307XG4gICAgMTRcdFxuICAgIDE1XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDE2XHQgICAgdmFyIGFsbF9oaWVyYXJjaGllcyA9IE9iamVjdC5rZXlzKG1haW4uaGllcmFyY2h5X29wdGlvbnMpO1xuICAgIDE3XHRcbiAgICAxOFx0ICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9oaWVyYXJjaGllc1xuICAgIDE5XHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfaGllcmFyY2hpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAyMFx0ICAgICAgdmFyIGhpZXJhcmNoeV9vYmogPSBtYWluLmhpZXJhcmNoeV9vcHRpb25zW2FsbF9oaWVyYXJjaGllc1tpXV07XG4gICAgMjFcdFxuICAgIDIyXHQgICAgICBpZiAoaGllcmFyY2h5X29iai5pZCA9PSBoaWVyYXJjaHlfaWQpXG4gICAgMjNcdCAgICAgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAgMjRcdCAgICAgICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGhpZXJhcmNoeV9vYmogOiBhbGxfaGllcmFyY2hpZXNbaV07XG4gICAgMjVcdCAgICB9XG4gICAgMjZcdCAgfVxuLi4uXG4gICAgMzZcdFxuICAgIDM3XHQgICAgICBkZWxldGVfZnVuY3Rpb246IChTdHJpbmcpIC0gVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IHdoZW4gYW4gZW50aXR5IGlzIGRlbGV0ZWRcbiAgICAzOFx0ICAgICAgcmVuYW1lX2Z1bmN0aW9uOiAoU3RyaW5nKSAtIFRoZSBmdW5jdGlvbiB0byBhcHBseSB3aGVuIGFuIGVudGl0eSBpcyByZW5hbWVkXG4gICAgMzlcdCAgKi9cbiAgICA0MFx0ICBmdW5jdGlvbiBpbml0SGllcmFyY2h5IChhcmcwX29wdGlvbnMpIHtcbiAgICA0MVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICA0Mlx0ICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgICA0M1x0XG4gICAgNDRcdCAgICAvL01ha2Ugc3VyZSBtYWluLmhpZXJhcmNoaWVzIGV4aXN0c1xuICAgIDQ1XHQgICAgaWYgKCFnbG9iYWwubWFpbikgZ2xvYmFsLm1haW4gPSB7fTtcbiAgICA0Nlx0ICAgIGlmICghZ2xvYmFsLm1haW4uaGllcmFyY2hpZXMpIGdsb2JhbC5tYWluLmhpZXJhcmNoaWVzID0ge307XG4gICAgNDdcdCAgICBpZiAoIWdsb2JhbC5tYWluLmhpZXJhcmNoeV9vcHRpb25zKSBnbG9iYWwubWFpbi5oaWVyYXJjaHlfb3B0aW9ucyA9IHt9O1xuLi4uXG4gICAxMTJcdFxuICAgMTEzXHQvL0hpZXJhcmNoeSBVSSBGdW5jdGlvbnMgLSBbV0lQXSAtIE1ha2Ugc3VyZSBncm91cHMvZW50aXRpZXMgYXJlIHBvcHVsYXRlZCB3aXRoIGJvdGggcHJvcGVyIElEcyBhbmQgbmFtZXNcbiAgIDExNFx0e1xuICAgMTE1XHQgIC8qXG4gICAxMTZcdCAgICBhZGRFbnRpdHkoKSAtIEFkZHMgYW4gZW50aXR5IHRvIGEgaGllcmFyY2h5IGluIHRoZSBET00uXG4gICAxMTdcdCAgICBhcmcwX2hpZXJhcmNoeV9pZDogKFN0cmluZylcbiAgIDExOFx0ICAgIGFyZzFfb3B0aW9uczogKE9iamVjdClcbiAgIDExOVx0ICAgICAgaWQ6IChTdHJpbmcpXG4gICAxMjBcdCAgICAgIG5hbWU6IChTdHJpbmcpXG4gICAxMjFcdCAgICAgIHBhcmVudF9ncm91cDogKFN0cmluZylcbiAgIDEyMlx0XG4gICAxMjNcdCAgICAgIG5haXNzYW5jZV9oaWVyYXJjaHk6IChCb29sZWFuKVxuICAgMTI0XHQgICovXG4gICAxMjVcdCAgZnVuY3Rpb24gYWRkRW50aXR5IChhcmcwX2hpZXJhcmNoeV9pZCwgYXJnMV9vcHRpb25zKSB7XG4gICAxMjZcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAxMjdcdCAgICB2YXIgaGllcmFyY2h5X2lkID0gYXJnMF9oaWVyYXJjaHlfaWQ7XG4gICAxMjhcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcxX29wdGlvbnMpID8gYXJnMV9vcHRpb25zIDoge307XG4uLi5cbiAgIDUzMlx0XG4gICA1MzNcdCAgLy9bV0lQXSAtIEZpbmlzaCByZW5kZXJIaWVyYXJjaHkoKSAtIFJlbmRlcnMgaGllcmFyY2h5IGVsZW1lbnRzIGZyb20gb2JqZWN0XG4gICA1MzRcdCAgLypcbiAgIDUzNVx0ICAgIHJlbmRlckhpZXJhcmNoeSgpIC0gUmVuZGVycyBhIGhpZXJhcmNoeSBpbnRvIHRoZSBET00uXG4gICA1MzZcdCAgICBhcmcwX2hpZXJhcmNoeV9rZXk6IChTdHJpbmcpXG4gICA1MzdcdCAgICBhcmcxX29wdGlvbnM6IChPYmplY3QpXG4gICA1MzhcdCAgICAgIGRlcHRoOiAoTnVtYmVyKVxuICAgNTM5XHQgICAgICBlbnRpdHlfcmVuZGVyaW5nX29yZGVyOiAoQXJyYXk8U3RyaW5nPilcbiAgIDU0MFx0ICAgICAgZXhjbHVkZWRfZW50aXRpZXM6IChBcnJheTxTdHJpbmc+KVxuICAgNTQxXHQgICAgICBleGNsdWRlZF9ncm91cHM6IChBcnJheTxTdHJpbmc+KVxuICAgNTQyXHQgICAgICBuYWlzc2FuY2VfaGllcmFyY2h5OiAoQm9vbGVhbilcbiAgIDU0M1x0ICAqL1xuICAgNTQ0XHQgIGZ1bmN0aW9uIHJlbmRlckhpZXJhcmNoeSAoYXJnMF9oaWVyYXJjaHlfa2V5LCBhcmcxX29wdGlvbnMpIHtcbiAgIDU0NVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgIDU0Nlx0ICAgIHZhciBoaWVyYXJjaHlfa2V5ID0gYXJnMF9oaWVyYXJjaHlfa2V5O1xuICAgNTQ3XHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuLi4uXG5QYXRoOiBzcmMvVUYvanMvQnJvd3NlclVJL2dyb3Vwc19mcmFtZXdvcmsuanNcbi4uLlxuICAgIDEwXHRcbiAgICAxMVx0ICAgIFJldHVybnM6IChPYmplY3QpXG4gICAgMTJcdCAgKi9cbiAgICAxM1x0ICBmdW5jdGlvbiBjcmVhdGVHcm91cCAoYXJnMF9oaWVyYXJjaHlfa2V5LCBhcmcxX3BhcmVudF9ncm91cF9pZCwgYXJnMl9vcHRpb25zKSB7XG4gICAgMTRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgMTVcdCAgICB2YXIgaGllcmFyY2h5X2tleSA9IChhcmcwX2hpZXJhcmNoeV9rZXkpID8gYXJnMF9oaWVyYXJjaHlfa2V5IDogXCJoaWVyYXJjaHlcIjtcbiAgICAxNlx0ICAgIHZhciBwYXJlbnRfZ3JvdXBfaWQgPSBhcmcxX3BhcmVudF9ncm91cF9pZDtcbiAgICAxN1x0ICAgIHZhciBvcHRpb25zID0gKGFyZzJfb3B0aW9ucykgPyBhcmcyX29wdGlvbnMgOiB7fTtcbiAgICAxOFx0XG4gICAgMTlcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMjBcdCAgICB2YXIgZ3JvdXBfaWQgPSBnZW5lcmF0ZUdyb3VwSUQoKTtcbiAgICAyMVx0ICAgIHZhciBncm91cF9vYmogPSB7XG4gICAgMjJcdCAgICAgIG5hbWU6IFwiTmV3IEdyb3VwXCIsXG4gICAgMjNcdCAgICAgIGlkOiBncm91cF9pZCxcbiAgICAyNFx0XG4gICAgMjVcdCAgICAgIHBhcmVudF9ncm91cDogKHBhcmVudF9ncm91cF9pZCkgPyBwYXJlbnRfZ3JvdXBfaWQgOiB1bmRlZmluZWRcbiAgICAyNlx0ICAgIH07XG4gICAgMjdcdCAgICB2YXIgaGllcmFyY2h5X29iaiA9IG1haW4uaGllcmFyY2hpZXNbaGllcmFyY2h5X2tleV07XG4gICAgMjhcdCAgICB2YXIgc2lkZWJhcl9lbCA9IChvcHRpb25zLmhpZXJhcmNoeV9lbCkgPyBvcHRpb25zLmhpZXJhcmNoeV9lbCA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhpZXJhcmNoeV9rZXkpO1xuICAgIDI5XHRcbiAgICAzMFx0ICAgIG1haW4uZ3JvdXBzW2dyb3VwX2lkXSA9IGdyb3VwX29iajtcbiAgICAzMVx0XG4gICAgMzJcdCAgICAvL0NyZWF0ZSBhY3R1YWwgVUkgZWxlbWVudFxuICAgIDMzXHQgICAgdmFyIGdyb3VwX2VsID0gY3JlYXRlR3JvdXBFbGVtZW50KGhpZXJhcmNoeV9rZXksIGdyb3VwX2lkKTtcbi4uLlxuICAgNDA3XHRcbiAgIDQwOFx0ICAgIC8vSW5pdGlhbGlzZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDQwOVx0ICAgIGVudGl0eV9pZCA9IGVudGl0eV9vYmoub3B0aW9ucy5jbGFzc05hbWU7XG4gICA0MTBcdFxuICAgNDExXHQgICAgLy9SZW1vdmUgZnJvbSBvbGQgZ3JvdXAgaWYgZW50aXR5IGhhcyBhbHJlYWR5IGJlZW4gYXNzaWduZWQgYSBncm91cFxuICAgNDEyXHQgICAgaWYgKG9sZF9ncm91cClcbiAgIDQxM1x0ICAgICAgaWYgKG9sZF9ncm91cC5lbnRpdGllcykge1xuICAgNDE0XHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkX2dyb3VwLmVudGl0aWVzLmxlbmd0aDsgaSsrKVxuICAgNDE1XHQgICAgICAgICAgaWYgKG9sZF9ncm91cC5lbnRpdGllc1tpXSA9PSBlbnRpdHlfaWQpXG4gICA0MTZcdCAgICAgICAgICAgIG9sZF9ncm91cC5lbnRpdGllcy5zcGxpY2UoaSwgMSk7XG4gICA0MTdcdFxuICAgNDE4XHQgICAgICAgIGlmIChvbGRfZ3JvdXAuZW50aXRpZXMubGVuZ3RoID09IDApXG4gICA0MTlcdCAgICAgICAgICBkZWxldGUgb2xkX2dyb3VwLmVudGl0aWVzO1xuICAgNDIwXHQgICAgICB9XG4gICA0MjFcdFxuICAgNDIyXHQgICAgLy9BZGQgdG8gbmV3IGdyb3VwXG4gICA0MjNcdCAgICBpZiAobmV3X2dyb3VwKSB7XG4gICA0MjRcdCAgICAgIC8vTWFrZSBzdXJlIGVudGl0aWVzIGFycmF5IGV4aXN0cyBpZiBwb3NzaWJsZVxuICAgNDI1XHQgICAgICBpZiAoIW5ld19ncm91cC5lbnRpdGllcylcbiAgIDQyNlx0ICAgICAgICBuZXdfZ3JvdXAuZW50aXRpZXMgPSBbXTtcbiAgIDQyN1x0XG4gICA0MjhcdCAgICAgIC8vUHVzaCB0byBuZXdfZ3JvdXAuZW50aXRpZXNcbiAgIDQyOVx0ICAgICAgbmV3X2dyb3VwLmVudGl0aWVzLnB1c2goZW50aXR5X2lkKTtcbiAgIDQzMFx0XG4gICA0MzFcdCAgICAgIC8vR3JvdXAgb3B0aW9ucyBoYW5kbGluZ1xuICAgNDMyXHQgICAgICB7XG4gICA0MzNcdCAgICAgICAgLy9NYXNrIGhhbmRsaW5nXG4gICA0MzRcdCAgICAgICAgcmVtb3ZlRW50aXR5TWFzayhlbnRpdHlfb2JqKTtcbiAgIDQzNVx0XG4gICA0MzZcdCAgICAgICAgaWYgKG5ld19ncm91cC5tYXNrKVxuICAgNDM3XHQgICAgICAgICAgbWFpbi5icnVzaC5tYXNrc1tuZXdfZ3JvdXAubWFza10ucHVzaChlbnRpdHlfb2JqKTtcbiAgIDQzOFx0ICAgICAgfVxuICAgNDM5XHQgICAgfVxuICAgNDQwXHQgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9VSSB3aW5kb3cgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBjbG9zZVBvcHVwICgpIHtcbiAgICAgNFx0ICAgIG1hcC5jbG9zZVBvcHVwKCk7XG4gICAgIDVcdCAgfVxuICAgICA2XHRcbiAgICAgN1x0ICBmdW5jdGlvbiBoaWRlRWxlbWVudCAoYXJnMF9lbGVtZW50KSB7XG4gICAgIDhcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgIDlcdCAgICB2YXIgZWxlbWVudCA9IGFyZzBfZWxlbWVudDtcbiAgICAxMFx0XG4gICAgMTFcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTJcdCAgICB2YXIgY2xhc3NfbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgMTNcdFxuICAgIDE0XHQgICAgaWYgKCFjbGFzc19uYW1lLmluY2x1ZGVzKFwiIGhpZGRlblwiKSlcbiAgICAxNVx0ICAgICAgKGNsYXNzX25hbWUpID9cbiAgICAxNlx0ICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSguLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEySHZMcUE0N1VSOUVVMmRMZ0F1UjRGIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6Mjc6MTEuNzAyWiIsInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgc2VhcmNoIGZvciBtb3JlIHNwZWNpZmljIGZpbGVzIHJlbGF0ZWQgdG8gZW50aXR5X2tleWZyYW1lcyBhbmQgc2ltaWxhciBwYXR0ZXJuczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI1NGQwM2RlYi00YTQ5LTQ5MzEtOTExMi1kNmI4ZjdlYmY4YjUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFQaVR4ZjFueDlzMlFmYkFZMWhHRnB6IiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIGFsbCBmaWxlcyBpbiB0aGUgcHJvamVjdCB0aGF0IGFyZSBzaW1pbGFyIHRvIHZhcmlhYmxlX2FjdGlvbnNfZnJhbWV3b3JrLmpzLCBzcGVjaWZpY2FsbHkgbG9va2luZyBmb3IgKl9mcmFtZXdvcmsuanMgZmlsZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgY29uZmlnIGZpbGVzLlwifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBzZWFyY2ggZm9yIG1vcmUgZmlsZXMgc3BlY2lmaWNhbGx5IHJlbGF0ZWQgdG8gdmFyaWFibGVfYWN0aW9ucyBhbmQgc2ltaWxhciBwYXR0ZXJuczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanNcbi4uLlxuICAgIDg5XHRcbiAgICA5MFx0Ly9Jbml0aWFsaXNlIEVudGl0eSBLZXlmcmFtZXMgZnJhbWV3b3JrXG4gICAgOTFcdHtcbiAgICA5Mlx0ICAvKlxuICAgIDkzXHQgICAgZ2V0QWxsRW50aXR5S2V5ZnJhbWVzKCkgLSBGZXRjaGVzIGFsbCBlbnRpdHkga2V5ZnJhbWVzIGFzIGVpdGhlciBhbiBhcnJheSBvZiBrZXlzIG9yIG9iamVjdHMuXG4gICAgOTRcdCAgICBhcmcwX29wdGlvbnM6IChPYmplY3QpXG4gICAgOTVcdCAgICAgIHJldHVybl9rZXlzOiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0LlxuICAgIDk2XHRcbiAgICA5N1x0ICAgIFJldHVybnM6IChBcnJheTxPYmplY3Q+L0FycmF5PFN0cmluZz4pXG4gICAgOThcdCAgKi9cbiAgICA5OVx0ICBmdW5jdGlvbiBnZXRBbGxFbnRpdHlLZXlmcmFtZXMgKGFyZzBfb3B0aW9ucykge1xuICAgMTAwXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgMTAxXHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xuICAgMTAyXHRcbiAgIDEwM1x0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDEwNFx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgIDEwNVx0ICAgIHZhciBmbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcztcbiAgIDEwNlx0ICAgIHZhciByZXR1cm5fa2V5ZnJhbWVzID0gW107XG4gICAxMDdcdCAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgIDEwOFx0XG4gICAxMDlcdCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2VudGl0eV9rZXlmcmFtZXNcbiAgIDExMFx0ICAgIHZhciBhbGxfZmxhdHRlbmVkX2VudGl0eV9rZXlmcmFtZXMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcyk7XG4uLi5cbiAgIDE0Mlx0XG4gICAxNDNcdCAgICAvL0lEIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXG4gICAxNDRcdCAgICB7XG4gICAxNDVcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGNvbmZpZy5hbGxfZW50aXR5X2tleWZyYW1lc1xuICAgMTQ2XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfZW50aXR5X2tleWZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgMTQ3XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZW50aXR5X2tleWZyYW1lc1tpXTtcbiAgIDE0OFx0XG4gICAxNDlcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLmlkLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgMTUwXHQgICAgICAgICAgZW50aXR5X2tleWZyYW1lX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgMTUxXHQgICAgICB9XG4gICAxNTJcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF9lbnRpdHlfa2V5ZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAxNTNcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldO1xuICAgMTU0XHRcbiAgIDE1NVx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUuaWQudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgIDE1Nlx0ICAgICAgICAgIGVudGl0eV9rZXlmcmFtZV9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgIDE1N1x0ICAgICAgfVxuICAgMTU4XHQgICAgfVxuICAgMTU5XHRcbiAgIDE2MFx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgMTYxXHQgICAge1xuICAgMTYyXHQgICAgICAvL0l0ZXJhdGUgb3ZlciBjb25maWcuYWxsX2VudGl0eV9rZXlmcmFtZXNcbiAgIDE2M1x0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX2VudGl0eV9rZXlmcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgIDE2NFx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX2VudGl0eV9rZXlmcmFtZXNbaV07XG4gICAxNjVcdFxuICAgMTY2XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTY3XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxNjhcdCAgICAgICAgICAgIGVudGl0eV9rZXlmcmFtZV9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgIDE2OVx0ICAgICAgfVxuICAgMTcwXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfZW50aXR5X2tleWZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgMTcxXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZW50aXR5X2tleWZyYW1lc1tpXTtcbiAgIDE3Mlx0XG4gICAxNzNcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxNzRcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMTc1XHQgICAgICAgICAgICBlbnRpdHlfa2V5ZnJhbWVfZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAxNzZcdCAgICAgIH1cbiAgIDE3N1x0ICAgIH1cbiAgIDE3OFx0XG4gICAxNzlcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDE4MFx0ICAgIGlmIChlbnRpdHlfa2V5ZnJhbWVfZXhpc3RzWzBdKVxuICAgMTgxXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzW2VudGl0eV9rZXlmcmFtZV9leGlzdHNbMV1dIDogZW50aXR5X2tleWZyYW1lX2V4aXN0c1sxXTtcbiAgIDE4Mlx0ICB9XG4uLi5cbiAgIDI2MFx0XG4gICAyNjFcdCAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDI2Mlx0ICAgIHtcbiAgIDI2M1x0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2VudGl0eV9rZXlmcmFtZXNcbiAgIDI2NFx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2tleWZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgMjY1XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5lbnRpdHlfa2V5ZnJhbWVzW2FsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcbiAgIDI2Nlx0XG4gICAyNjdcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAyNjhcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgIDI2OVx0ICAgICAgICAgICAgZW50aXR5X2tleWZyYW1lc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuICAgMjcwXHQgICAgICB9XG4gICAyNzFcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2VudGl0eV9rZXlmcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgIDI3Mlx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuZW50aXR5X2tleWZyYW1lc1thbGxfZW50aXR5X2tleWZyYW1lc1tpXV07XG4gICAyNzNcdFxuICAgMjc0XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMjc1XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgIDI3Nlx0ICAgICAgICAgICAgZW50aXR5X2tleWZyYW1lc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuICAgMjc3XHQgICAgICB9XG4gICAyNzhcdCAgICB9XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzXG4uLi5cbiAgICA3MFx0XG4gICAgNzFcdCAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgICA3Mlx0ICAgIHtcbiAgICA3M1x0ICAgICAgLy9JdGVyYXRlIG92ZXIgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9uc1xuICAgIDc0XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICA3NVx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zW2ldO1xuICAgIDc2XHRcbiAgICA3N1x0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgICA3OFx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgIDc5XHQgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA4MFx0ICAgICAgfVxuICAgIDgxXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICA4Mlx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zW2ldO1xuICAgIDgzXHRcbiAgICA4NFx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgICA4NVx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAgODZcdCAgICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgIDg3XHQgICAgICB9XG4gICAgODhcdCAgICB9XG4gICAgODlcdFxuICAgIDkwXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAgOTFcdCAgICBpZiAoZW50aXR5X2FjdGlvbnNfZXhpc3RzWzBdKVxuICAgIDkyXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tlbnRpdHlfYWN0aW9uc19leGlzdHNbMV1dIDogZW50aXR5X2FjdGlvbnNfZXhpc3RzWzFdO1xuICAgIDkzXHQgIH1cbi4uLlxuICAgMTcxXHRcbiAgIDE3Mlx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgMTczXHQgICAge1xuICAgMTc0XHQgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZW50aXR5X2FjdGlvbnNcbiAgIDE3NVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDE3Nlx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuZW50aXR5X2FjdGlvbnNbYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcbiAgIDE3N1x0XG4gICAxNzhcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxNzlcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgIDE4MFx0ICAgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcbiAgIDE4MVx0ICAgICAgfVxuICAgMTgyXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgMTgzXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5lbnRpdHlfYWN0aW9uc1thbGxfZW50aXR5X2FjdGlvbnNbaV1dO1xuICAgMTg0XHRcbiAgIDE4NVx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgIDE4Nlx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAxODdcdCAgICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfZW50aXR5X2tleWZyYW1lc1tpXV07XG4gICAxODhcdCAgICAgIH1cbiAgIDE4OVx0ICAgIH1cbiAgIDE5MFx0XG4gICAxOTFcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDE5Mlx0ICAgIGlmIChlbnRpdHlfYWN0aW9uc19leGlzdHNbMF0pXG4gICAxOTNcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZW50aXR5X2FjdGlvbnNbZW50aXR5X2FjdGlvbnNfZXhpc3RzWzFdXSA6IGVudGl0eV9hY3Rpb25zX2V4aXN0c1sxXTtcbiAgIDE5NFx0ICB9XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvb3B0aW1pc2F0aW9uX2ZyYW1ld29yay5qc1xuLi4uXG4gICAgMTlcdFxuICAgIDIwXHQgICAgLy9FTlRJVFkgS0VZRlJBTUVTXG4gICAgMjFcdCAgICAvL1NldCAuYWxsX2VudGl0eV9rZXlmcmFtZXM7IC5hbGxfZW50aXR5X2tleWZyYW1lX2tleXNcbiAgICAyMlx0ICAgIGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcyA9IGR1bWJGbGF0dGVuT2JqZWN0KGNvbmZpZy5lbnRpdHlfa2V5ZnJhbWVzKTtcbiAgICAyM1x0XG4gICAgMjRcdCAgICBjb25maWcuYWxsX2VudGl0eV9rZXlmcmFtZXMgPSBnZXRBbGxFbnRpdHlLZXlmcmFtZXMoKTtcbiAgICAyNVx0ICAgIGNvbmZpZy5hbGxfZW50aXR5X2tleWZyYW1lX2tleXMgPSBnZXRBbGxFbnRpdHlLZXlmcmFtZXMoeyByZXR1cm5fa2V5czogdHJ1ZSB9KTtcbiAgICAyNlx0ICAgIGNvbmZpZy5lbnRpdHlfa2V5ZnJhbWVzX2xvd2VzdF9vcmRlciA9IGdldEVudGl0eUtleWZyYW1lc0xvd2VzdE9yZGVyKCk7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgLy9HUk9VUCBBQ1RJT05TXG4gICAgMjlcdCAgICAvL1NldCAuYWxsX2dyb3VwX2FjdGlvbnM7IC5hbGxfZ3JvdXBfYWN0aW9uc19rZXlzXG4gICAgMzBcdCAgICBjb25maWcuZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnMgPSBkdW1iRmxhdHRlbk9iamVjdChjb25maWcuZ3JvdXBfYWN0aW9ucyk7XG4gICAgMzFcdFxuICAgIDMyXHQgICAgY29uZmlnLmFsbF9ncm91cF9hY3Rpb25zID0gZ2V0QWxsR3JvdXBBY3Rpb25zKCk7XG4gICAgMzNcdCAgICBjb25maWcuYWxsX2dyb3VwX2FjdGlvbnNfa2V5cyA9IGdldEFsbEdyb3VwQWN0aW9ucyh7IHJldHVybl9rZXlzOiB0cnVlIH0pO1xuICAgIDM0XHQgICAgY29uZmlnLmdyb3VwX2FjdGlvbnNfbG93ZXN0X29yZGVyID0gZ2V0R3JvdXBBY3Rpb25zTG93ZXN0T3JkZXIoKTtcbi4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS9sZWZ0X3NpZGViYXIvc2V0dGluZ3NfZ2xvYmFsX2NvbmZpZy5qc1xuICAgICAxXHRjb25maWcuc2V0dGluZ3MuZ2xvYmFsID0ge1xuICAgICAyXHQgIG9yZGVyOiAxLFxuICAgICAzXHQgIFxuICAgICA0XHQgIGdsb2JhbF9zZXR0aW5nc19odG1sOiB7XG4gICAgIDVcdCAgICBpZDogYGdsb2JhbF9zZXR0aW5nc19oZWFkZXJgLFxuICAgICA2XHQgICAgdHlwZTogXCJodG1sXCIsXG4gICAgIDdcdFxuICAgICA4XHQgICAgaW5uZXJIVE1MOiBgXG4gICAgIDlcdCAgICAgIDxkaXYgY2xhc3MgPSBcInByaW1hcnktaGVhZGVyXCI+R2xvYmFsIFNldHRpbmdzPC9kaXY+XG4gICAgMTBcdCAgICBgLFxuICAgIDExXHQgIH0sXG4gICAgMTJcdCAgZ2xvYmFsX2RlZmF1bHRfc2F2ZV9maWxlOiB7XG4gICAgMTNcdCAgICBpZDogXCJnbG9iYWxfZGVmYXVsdF9zYXZlX2ZpbGVcIixcbiAgICAxNFx0ICAgIHR5cGU6IFwidGV4dFwiLFxuICAgIDE1XHRcbiAgICAxNlx0ICAgIG5hbWU6IFwiRGVmYXVsdCBzYXZlIGZpbGUgb24gc3RhcnR1cDpcIixcbiAgICAxN1x0ICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAxOFx0ICAgICAgdmFsdWU6IFwiLi9hdXRvc2F2ZS5qc1wiXG4gICAgMTlcdCAgICB9XG4gICAgMjBcdCAgfSxcbiAgICAyMVx0ICBnbG9iYWxfdWlfbGF5b3V0X3RvZ2dsZXM6IHsgLy9bV0lQXSAtIEZ1bmN0aW9uYWxpdHkgbm90IHlldCBhZGRlZFxuICAgIDIyXHQgICAgaWQ6IGBnbG9iYWxfdWlfbGF5b3V0X3RvZ2dsZXNgLFxuICAgIDIzXHQgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgIDI0XHRcbiAgICAyNVx0ICAgIG9wdGlvbnM6IHtcbiAgICAyNlx0ICAgICAgXCJhbmNob3JfZW50aXR5X3BvcHVwc1wiOiBcIkFuY2hvciBFbnRpdHkgUG9wdXBzXCIsXG4gICAgMjdcdCAgICAgIFwiaGlkZV9lbnRpdHlfZGF0YV9ncmFwaF9ieV9kZWZhdWx0XCI6IFwiSGlkZSBFbnRpdHkgRGF0YSBHcmFwaCBieSBEZWZhdWx0XCJcbiAgICAyOFx0ICAgIH1cbiAgICAyOVx0ICB9LFxuICAgIDMwXHQgIGRvY3VtZW50X3NldHRpbmdzX2h0bWw6IHtcbiAgICAzMVx0ICAgIGlkOiBgZG9jdW1lbnRfc2V0dGluZ3NfaGVhZGVyYCxcbiAgICAzMlx0ICAgIHR5cGU6IFwiaHRtbFwiLFxuICAgIDMzXHRcbiAgICAzNFx0ICAgIGlubmVySFRNTDogYFxuICAgIDM1XHQgICAgICA8ZGl2IGNsYXNzID0gXCJwcmltYXJ5LWhlYWRlclwiPkRvY3VtZW50IFNldHRpbmdzPC9kaXY+XG4gICAgMzZcdCAgICBgLFxuICAgIDM3XHQgIH1cbiAgICAzOFx0fTsuLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvbWFwL2tleWZyYW1lX25hdmlnYXRpb25fY29uZmlnLmpzXG4gICAgIDFcdGNvbmZpZy5lbnRpdHlfa2V5ZnJhbWVzLmtleWZyYW1lX25hdmlnYXRpb24gPSB7XG4gICAgIDJcdCAgbmFtZTogXCJLZXlmcmFtZSBOYXZpZ2F0aW9uXCIsXG4gICAgIDNcdCAgc2NvcGVfdHlwZTogW1wicG9saXRpZXNcIl0sXG4gICAgIDRcdFxuICAgICA1XHQgIG5hdmlnYXRpb25fdWk6IHtcbiAgICAgNlx0ICAgIGlkOiBcImNvbnRleHRfbWVudV9vbmVfbmF2aWdhdGlvblwiLFxuICAgICA3XHQgICAgbmFtZTogXCJFbnRpdHkgS2V5ZnJhbWU6XCIsXG4gICAgIDhcdCAgICBvcmRlcjogMSxcbiAgICAgOVx0XG4gICAgMTBcdCAgICBpbnRlcmZhY2U6IHtcbiAgICAxMVx0ICAgICAgYWRqdXN0X3RpbWVfYnV0dG9uOiB7XG4gICAgMTJcdCAgICAgICAgaWQ6IFwiYWRqdXN0X3RpbWVfYnV0dG9uXCIsXG4gICAgMTNcdCAgICAgICAgbmFtZTogXCJBZGp1c3QgVGltZVwiLFxuICAgIDE0XHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgMTVcdCAgICAgICAgeDogMCxcbiAgICAxNlx0ICAgICAgICB5OiAwLFxuICAgIDE3XHRcbiAgICAxOFx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICAxOVx0ICAgICAgICAgIG9wZW5fdWk6IFwiYWRqdXN0X3RpbWVcIlxuICAgIDIwXHQgICAgICAgIH1cbiAgICAyMVx0ICAgICAgfSxcbiAgICAyMlx0ICAgICAgZWRpdF9rZXlmcmFtZV9idXR0b246IHtcbiAgICAyM1x0ICAgICAgICBpZDogXCJlZGl0X2tleWZyYW1lX2J1dHRvblwiLFxuICAgIDI0XHQgICAgICAgIG5hbWU6IFwiRWRpdCBLZXlmcmFtZVwiLFxuICAgIDI1XHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgMjZcdFxuICAgIDI3XHQgICAgICAgIGVmZmVjdDoge1xuICAgIDI4XHQgICAgICAgICAgdHJpZ2dlcjogXCJlZGl0X2tleWZyYW1lXCJcbiAgICAyOVx0ICAgICAgICB9XG4gICAgMzBcdCAgICAgIH0sXG4gICAgMzFcdCAgICAgIGRlbGV0ZV9rZXlmcmFtZV9idXR0b246IHtcbiAgICAzMlx0ICAgICAgICBpZDogXCJkZWxldGVfa2V5ZnJhbWVfYnV0dG9uXCIsXG4gICAgMzNcdCAgICAgICAgbmFtZTogXCJEZWxldGUgS2V5ZnJhbWVcIixcbiAgICAzNFx0ICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIDM1XHRcbiAgICAzNlx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICAzN1x0ICAgICAgICAgIHRyaWdnZXI6IFwiZGVsZXRlX2tleWZyYW1lXCJcbiAgICAzOFx0ICAgICAgICB9XG4gICAgMzlcdCAgICAgIH1cbiAgICA0MFx0ICAgIH1cbiAgICA0MVx0ICB9XG4gICAgNDJcdH07XG4uLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvdWlfY29uZmlnLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBjb25maWcgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAyXHRpZiAoIWdsb2JhbC5jb25maWcpIGdsb2JhbC5jb25maWcgPSB7fTtcbiAgICAgM1x0XG4gICAgIDRcdC8vSW5pdGlhbGlzZSBoZWxwZXIgZnVuY3Rpb25zXG4gICAgIDVcdHtcbiAgICAgNlx0ICBmdW5jdGlvbiBnZXRVSVNlbGVjdG9yIChhcmcwX2tleSwgYXJnMV9yZXR1cm5fYXJyYXkpIHtcbiAgICAgN1x0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAgOFx0ICAgIHZhciBrZXkgPSBhcmcwX2tleTtcbiAgICAgOVx0ICAgIHZhciByZXR1cm5fYXJyYXkgPSBhcmcxX3JldHVybl9hcnJheTtcbiAgICAxMFx0XG4gICAgMTFcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTJcdCAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAgMTNcdCAgICB2YXIgY29tbW9uX3NlbGVjdG9ycyA9IGNvbW1vbl9kZWZpbmVzLnNlbGVjdG9ycztcbiAgICAxNFx0XG4gICAgMTVcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICAxNlx0ICAgIGlmIChjb21tb25fc2VsZWN0b3JzW2tleV0pIHtcbiAgICAxN1x0ICAgICAgcmV0dXJuICghcmV0dXJuX2FycmF5KSA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29tbW9uX3NlbGVjdG9yc1trZXldKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29tbW9uX3NlbGVjdG9yc1trZXldKTtcbiAgICAxOFx0ICAgIH0gZWxzZSB7XG4gICAgMTlcdCAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBmaW5kIHNlbGVjdG9yIGluIGNvbmZpZy5kZWZpbmVzLmNvbW1vbjpgLCBrZXkpO1xuICAgIDIwXHQgICAgfVxuICAgIDIxXHQgIH1cbiAgICAyMlx0fVxuLi4uXG5QYXRoOiBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKipcbiAgICAgNFx0ICAgKiBjcmVhdGVTZWN0aW9uKCkgLSBDcmVhdGVzIGEgZm9sZGFibGUgZWxlbWVudCB0aGF0IGNhbiBiZSBtaW5pbWlzZWQvZXhwYW5kZWQuXG4gICAgIDVcdCAgICogQHBhcmFtIHtPYmplY3R9IFthcmcwX29wdGlvbnNdXG4gICAgIDZcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLmV4cGFuZF9jbGFzcz1cInVmLWV4cGFuZGVkXCJdIC0gVGhlIGNsYXNzIHRvIGFkZCB3aGVuIHRoZSBzZWN0aW9uIGlzIGV4cGFuZGVkLlxuICAgICA3XHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5taW5pbWlzZV9jbGFzcz1cInVmLW1pbmltaXNlZFwiXSAtIFRoZSBjbGFzcyB0byBhZGQgd2hlbiB0aGUgc2VjdGlvbiBpcyBjb2xsYXBzZWQuXG4gICAgIDhcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNlbGVjdG9yXSAtIFRoZSBzZWxlY3RvciBvZiB0aGUgZWxlbWVudHMgdGhhdCBjYW4gYmUgbWluaW1pc2VkL2V4cGFuZGVkLiBOb3RlIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgY292ZXJlZCBieSB0aGUgc2VsZWN0b3Igd2lsbCBoYXZlIHRoZSBjaGV2cm9uIGNvbnRyb2xsZXIuXG4gICAgIDlcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNlbGVjdG9yX2NsYXNzPVwidWYtY2hldnJvbiBtaW5pbWlzZVwiXSAtIFRoZSBjbGFzcyB0byBhZGQgdG8gdGhlIGNoZXZyb24gY29udHJvbGxlci5cbiAgICAxMFx0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMuc3JjPVwiLi9VRi9nZngvY2hldnJvbl9pY29uLnBuZ1wiXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGNoZXZyb24gaW1hZ2UuXG4gICAgMTFcdCAgICogIEBwYXJhbSB7Qm9vbGVhbn0gW2FyZzBfb3B0aW9ucy5pc19jb2xsYXBzZWQ9ZmFsc2VdIC0gV2hldGhlciB0aGUgc2VjdGlvbiBzaG91bGQgc3RhcnQgaW4gYSBjb2xsYXBzZWQgc3RhdGUuXG4gICAgMTJcdCAgICovXG4gICAgMTNcdCAgZnVuY3Rpb24gY3JlYXRlU2VjdGlvbiAoYXJnMF9vcHRpb25zKSB7XG4gICAgMTRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgMTVcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAgMTZcdFxuICAgIDE3XHQgICAgLy9Jbml0aWFsaXNlIG9wdGlvbnNcbiAgICAxOFx0ICAgIGlmICghb3B0aW9ucy5leHBhbmRfY2xhc3MpIG9wdGlvbnMuZXhwYW5kX2NsYXNzID0gXCJ1Zi1leHBhbmRlZFwiO1xuICAgIDE5XHQgICAgaWYgKCFvcHRpb25zLm1pbmltaXNlX2NsYXNzKSBvcHRpb25zLm1pbmltaXNlX2NsYXNzID0gXCJ1Zi1taW5pbWlzZWRcIjtcbiAgICAyMFx0ICAgIGlmICghb3B0aW9ucy5zZWxlY3Rvcikgb3B0aW9ucy5zZWxlY3RvciA9IFwiXCI7XG4gICAgMjFcdCAgICBpZiAoIW9wdGlvbnMuc2VsZWN0b3JfY2xhc3MpIG9wdGlvbnMuc2VsZWN0b3JfY2xhc3MgPSBcInVmLWNoZXZyb24gbWluaW1pc2VcIjtcbiAgICAyMlx0ICAgIGlmICghb3B0aW9ucy5zcmMpIG9wdGlvbnMuc3JjID0gXCIuL1VGL2dmeC9jaGV2cm9uX2ljb24ucG5nXCI7XG4gICAgMjNcdCAgICBpZiAob3B0aW9ucy5pc19jb2xsYXBzZWQgPT09IHVuZGVmaW5lZCkgb3B0aW9ucy5pc19jb2xsYXBzZWQgPSBmYWxzZTtcbiAgICAyNFx0XG4gICAgMjVcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMjZcdCAgICB2YXIgYWxsX2NvbGxhcHNpYmxlX2VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgLy9TZXQgY2hldnJvbiBpbWFnZSBvbiBmaXJzdCBjb2xsYXBzaWJsZSBlbFxuICAgIDI5XHQgICAgdmFyIGNoZXZyb25fYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAzMFx0ICAgICAgY2hldnJvbl9idG4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgb3B0aW9ucy5zZWxlY3Rvcl9jbGFzcyk7XG4gICAgMzFcdCAgICAgIGNoZXZyb25fYnRuLnNldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiLCBmYWxzZSk7XG4gICAgMzJcdCAgICAgIGNoZXZyb25fYnRuLnNyYyA9IG9wdGlvbnMuc3JjO1xuICAgIDMzXHRcbiAgICAzNFx0ICAgIC8vQWRkIGNoZXZyb24gdG8gZmlyc3QgZWxlbWVudCBpZiBpdCBleGlzdHNcbiAgICAzNVx0ICAgIGlmIChhbGxfY29sbGFwc2libGVfZWxzLmxlbmd0aCA+IDApIHtcbiAgICAzNlx0ICAgICAgdmFyIGZpcnN0X2VsID0gYWxsX2NvbGxhcHNpYmxlX2Vsc1swXTtcbiAgICAzN1x0ICAgICAgZmlyc3RfZWwuYXBwZW5kQ2hpbGQoY2hldnJvbl9idG4sIGZpcnN0X2VsLmZpcnN0Q2hpbGQpO1xuICAgIDM4XHQgICAgfVxuLi4uXG4gICAgNzZcdFxuICAgIDc3XHQgICAgLy9SZXR1cm4gdGhlIGNoZXZyb24gYnV0dG9uIGZvciBleHRlcm5hbCBjb250cm9sIGlmIG5lZWRlZFxuICAgIDc4XHQgICAgcmV0dXJuIGNoZXZyb25fYnRuO1xuICAgIDc5XHQgIH1cbiAgICA4MFx0fS4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9VSSB3aW5kb3cgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBjbG9zZVBvcHVwICgpIHtcbiAgICAgNFx0ICAgIG1hcC5jbG9zZVBvcHVwKCk7XG4gICAgIDVcdCAgfVxuICAgICA2XHRcbiAgICAgN1x0ICBmdW5jdGlvbiBoaWRlRWxlbWVudCAoYXJnMF9lbGVtZW50KSB7XG4gICAgIDhcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgIDlcdCAgICB2YXIgZWxlbWVudCA9IGFyZzBfZWxlbWVudDtcbiAgICAxMFx0XG4gICAgMTFcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTJcdCAgICB2YXIgY2xhc3NfbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgMTNcdFxuICAgIDE0XHQgICAgaWYgKCFjbGFzc19uYW1lLmluY2x1ZGVzKFwiIGhpZGRlblwiKSlcbiAgICAxNVx0ICAgICAgKGNsYXNzX25hbWUpID9cbiAgICAxNlx0ICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGAke2NsYXNzX25hbWV9IGhpZGRlbmApIDpcbiAgICAxN1x0ICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiIGhpZGRlblwiKTtcbiAgICAxOFx0ICB9XG4gICAgMTlcdFxuICAgIDIwXHQgIGZ1bmN0aW9uIHVwZGF0ZVNpZGViYXJIb3ZlciAoKSB7XG4gICAgMjFcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMjJcdCAgICB2YXIgYWxsX2hvdmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5oaWVyYXJjaHktZWxlbWVudHMtY29udGFpbmVyIGRpdjpob3ZlcmApO1xuICAgIDIzXHQgICAgdmFyIGFsbF9sZWdhY3lfaG92ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLmhvdmVyYCk7XG4gICAgMjRcdFxuICAgIDI1XHQgICAgLy9DbGVhciBhbGwgZWxlbWVudHMgd2l0aCAuaG92ZXIgY2xhc3NcbiAgICAyNlx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2xlZ2FjeV9ob3ZlcnMubGVuZ3RoOyBpKyspXG4gICAgMjdcdCAgICAgIGFsbF9sZWdhY3lfaG92ZXJzW2ldLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXG4gICAgMjhcdCAgICAgICAgYWxsX2xlZ2FjeV9ob3ZlcnNbaV0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikucmVwbGFjZShcIiBob3ZlclwiLCBcIlwiKVxuICAgIDI5XHQgICAgICApO1xuICAgIDMwXHRcbiAgICAzMVx0ICAgIC8vU2V0IG9ubHkgbGFzdCBob3ZlciB0byBiZSBob3ZlcmVkXG4gICAgMzJcdCAgICBpZiAoYWxsX2hvdmVycy5sZW5ndGggPiAwKSB7XG4gICAgMzNcdCAgICAgIHZhciBsb2NhbF9jbGFzcyA9IGFsbF9ob3ZlcnNbYWxsX2hvdmVycy5sZW5ndGggLSAxXS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAzNFx0XG4gICAgMzVcdCAgICAgIChsb2NhbF9jbGFzcykgP1xuICAgIDM2XHQgICAgICAgIGFsbF9ob3ZlcnNbYWxsX2hvdmVycy5sZW5ndGggLSAxXS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFxuICAgIDM3XHQgICAgICAgICAgbG9jYWxfY2xhc3MgKyBcIiBob3ZlclwiXG4gICAgMzhcdCAgICAgICAgKSA6XG4gICAgMzlcdCAgICAgICAgYWxsX2hvdmVyc1thbGxfaG92ZXJzLmxlbmd0aCAtIDFdLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiIGhvdmVyXCIpO1xuICAgIDQwXHQgICAgfVxuICAgIDQxXHQgIH1cbiAgICA0Mlx0XG4gICAgNDNcdCAgZnVuY3Rpb24gdG9nZ2xlRWxlbWVudFZpc2liaWxpdHkgKGFyZzBfZWxlbWVudCwgYXJnMV9idXR0b25fZWxlbWVudCkge1xuICAgIDQ0XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDQ1XHQgICAgdmFyIGVsZW1lbnQgPSBhcmcwX2VsZW1lbnQ7XG4gICAgNDZcdCAgICB2YXIgYnRuX2VsZW1lbnQgPSBhcmcxX2J1dHRvbl9lbGVtZW50O1xuICAgIDQ3XHRcbiAgICA0OFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICA0OVx0ICAgIHZhciBjbGFzc19uYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICA1MFx0ICAgIHZhciBpc192aXNpYmxlID0gdHJ1ZTtcbiAgICA1MVx0XG4gICAgNTJcdCAgICBpZiAoY2xhc3NfbmFtZSlcbiAgICA1M1x0ICAgICAgaWYgKGNsYXNzX25hbWUuaW5jbHVkZXMoXCIgaGlkZGVuXCIpKVxuICAgIDU0XHQgICAgICAgIGlzX3Zpc2libGUgPSBmYWxzZTtcbiAgICA1NVx0XG4gICAgNTZcdCAgICAoaXNfdmlzaWJsZSkgP1xuICAgIDU3XHQgICAgICBoaWRlRWxlbWVudChlbGVtZW50KSA6XG4gICAgNThcdCAgICAgIHNob3dFbGVtZW50KGVsZW1lbnQpO1xuICAgIDU5XHRcbiAgICA2MFx0ICAgIC8vU2V0IGJ1dHRvbiBlbGVtZW50IGNsYXNzIGlmIHByZXNlbnRcbiAgICA2MVx0ICAgIGlmIChidG5fZWxlbWVudClcbiAgICA2Mlx0ICAgICAgKGlzX3Zpc2libGUpID9cbiAgICA2M1x0ICAgICAgICBidG5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBidG5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKS5yZXBsYWNlKFwiIG1pbmltaXNlLWljb25cIiwgXCIgcmV2ZXJzZS1taW5pbWlzZS1pY29uXCIpKSA6XG4gICAgNjRcdCAgICAgICAgYnRuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYnRuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikucmVwbGFjZShcIiByZXZlcnNlLW1pbmltaXNlLWljb25cIiwgXCIgbWluaW1pc2UtaWNvblwiKSk7XG4gICAgNjVcdCAgfVxuICAgIDY2XHR9XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvZ3JvdXBzL2dyb3VwX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBzZWxlY3RHcm91cCAoYXJnMF9ncm91cF9pZCkge1xuICAgICA0XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgICA1XHQgICAgdmFyIGdyb3VwX2lkID0gYXJnMF9ncm91cF9pZDtcbiAgICAgNlx0XG4gICAgIDdcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgIDhcdCAgICB2YXIgYnJ1c2hfb2JqID0gbWFpbi5icnVzaDtcbiAgICAgOVx0ICAgIHZhciBjb21tb25fc2VsZWN0b3JzID0gY29uZmlnLmRlZmluZXMuY29tbW9uLnNlbGVjdG9ycztcbiAgICAxMFx0ICAgIHZhciBncm91cF9lbCA9IGdldEdyb3VwRWxlbWVudChncm91cF9pZCk7XG4gICAgMTFcdCAgICB2YXIgZ3JvdXBfb2JqID0gZ2V0R3JvdXAoXCJoaWVyYXJjaHlcIiwgZ3JvdXBfaWQpO1xuICAgIDEyXHRcbiAgICAxM1x0ICAgIHZhciBhbGxfZ3JvdXBfZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb21tb25fc2VsZWN0b3JzLmhpZXJhcmNoeSkucXVlcnlTZWxlY3RvckFsbChgLmdyb3VwYCk7XG4gICAgMTRcdFxuICAgIDE1XHQgICAgYnJ1c2hfb2JqLnNlbGVjdGVkX2dyb3VwX2lkID0gZ3JvdXBfaWQ7XG4gICAgMTZcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9ncm91cF9lbHMubGVuZ3RoOyBpKyspXG4gICAgMTdcdCAgICAgIGFsbF9ncm91cF9lbHNbaV0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYCR7Z3JvdXBfZWwuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikucmVwbGFjZShcIiBzZWxlY3RlZFwiLCBcIlwiKX1gKTtcbiAgICAxOFx0ICAgIGdyb3VwX2VsLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGAke2dyb3VwX2VsLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfSBzZWxlY3RlZGApO1xuICAgIDE5XHQgIH1cbiAgICAyMFx0fVxuLi4uXG5QYXRoOiBzcmMvVUYvanMvQnJvd3NlclVJL2dyb3Vwc19mcmFtZXdvcmsuanNcbi4uLlxuICAgIDEwXHRcbiAgICAxMVx0ICAgIFJldHVybnM6IChPYmplY3QpXG4gICAgMTJcdCAgKi9cbiAgICAxM1x0ICBmdW5jdGlvbiBjcmVhdGVHcm91cCAoYXJnMF9oaWVyYXJjaHlfa2V5LCBhcmcxX3BhcmVudF9ncm91cF9pZCwgYXJnMl9vcHRpb25zKSB7XG4gICAgMTRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgMTVcdCAgICB2YXIgaGllcmFyY2h5X2tleSA9IChhcmcwX2hpZXJhcmNoeV9rZXkpID8gYXJnMF9oaWVyYXJjaHlfa2V5IDogXCJoaWVyYXJjaHlcIjtcbiAgICAxNlx0ICAgIHZhciBwYXJlbnRfZ3JvdXBfaWQgPSBhcmcxX3BhcmVudF9ncm91cF9pZDtcbiAgICAxN1x0ICAgIHZhciBvcHRpb25zID0gKGFyZzJfb3B0aW9ucykgPyBhcmcyX29wdGlvbnMgOiB7fTtcbiAgICAxOFx0XG4gICAgMTlcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMjBcdCAgICB2YXIgZ3JvdXBfaWQgPSBnZW5lcmF0ZUdyb3VwSUQoKTtcbiAgICAyMVx0ICAgIHZhciBncm91cF9vYmogPSB7XG4gICAgMjJcdCAgICAgIG5hbWU6IFwiTmV3IEdyb3VwXCIsXG4gICAgMjNcdCAgICAgIGlkOiBncm91cF9pZCxcbiAgICAyNFx0XG4gICAgMjVcdCAgICAgIHBhcmVudF9ncm91cDogKHBhcmVudF9ncm91cF9pZCkgPyBwYXJlbnRfZ3JvdXBfaWQgOiB1bmRlZmluZWRcbiAgICAyNlx0ICAgIH07XG4gICAgMjdcdCAgICB2YXIgaGllcmFyY2h5X29iaiA9IG1haW4uaGllcmFyY2hpZXNbaGllcmFyY2h5X2tleV07XG4gICAgMjhcdCAgICB2YXIgc2lkZWJhcl9lbCA9IChvcHRpb25zLmhpZXJhcmNoeV9lbCkgPyBvcHRpb25zLmhpZXJhcmNoeV9lbCA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhpZXJhcmNoeV9rZXkpO1xuICAgIDI5XHRcbiAgICAzMFx0ICAgIG1haW4uZ3JvdXBzW2dyb3VwX2lkXSA9IGdyb3VwX29iajtcbiAgICAzMVx0XG4gICAgMzJcdCAgICAvL0NyZWF0ZSBhY3R1YWwgVUkgZWxlbWVudFxuICAgIDMzXHQgICAgdmFyIGdyb3VwX2VsID0gY3JlYXRlR3JvdXBFbGVtZW50KGhpZXJhcmNoeV9rZXksIGdyb3VwX2lkKTtcbi4uLlxuICAgNDA3XHRcbiAgIDQwOFx0ICAgIC8vSW5pdGlhbGlzZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDQwOVx0ICAgIGVudGl0eV9pZCA9IGVudGl0eV9vYmoub3B0aW9ucy5jbGFzc05hbWU7XG4gICA0MTBcdFxuICAgNDExXHQgICAgLy9SZW1vdmUgZnJvbSBvbGQgZ3JvdXAgaWYgZW50aXR5IGhhcyBhbHJlYWR5IGJlZW4gYXNzaWduZWQgYSBncm91cFxuICAgNDEyXHQgICAgaWYgKG9sZF9ncm91cClcbiAgIDQxM1x0ICAgICAgaWYgKG9sZF9ncm91cC5lbnRpdGllcykge1xuICAgNDE0XHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkX2dyb3VwLmVudGl0aWVzLmxlbmd0aDsgaSsrKVxuICAgNDE1XHQgICAgICAgICAgaWYgKG9sZF9ncm91cC5lbnRpdGllc1tpXSA9PSBlbnRpdHlfaWQpXG4gICA0MTZcdCAgICAgICAgICAgIG9sZF9ncm91cC5lbnRpdGllcy5zcGxpY2UoaSwgMSk7XG4gICA0MTdcdFxuICAgNDE4XHQgICAgICAgIGlmIChvbGRfZ3JvdXAuZW50aXRpZXMubGVuZ3RoID09IDApXG4gICA0MTlcdCAgICAgICAgICBkZWxldGUgb2xkX2dyb3VwLmVudGl0aWVzO1xuICAgNDIwXHQgICAgICB9XG4gICA0MjFcdFxuICAgNDIyXHQgICAgLy9BZGQgdG8gbmV3IGdyb3VwXG4gICA0MjNcdCAgICBpZiAobmV3X2dyb3VwKSB7XG4gICA0MjRcdCAgICAgIC8vTWFrZSBzdXJlIGVudGl0aWVzIGFycmF5IGV4aXN0cyBpZiBwb3NzaWJsZVxuICAgNDI1XHQgICAgICBpZiAoIW5ld19ncm91cC5lbnRpdGllcylcbiAgIDQyNlx0ICAgICAgICBuZXdfZ3JvdXAuZW50aXRpZXMgPSBbXTtcbiAgIDQyN1x0XG4gICA0MjhcdCAgICAgIC8vUHVzaCB0byBuZXdfZ3JvdXAuZW50aXRpZXNcbiAgIDQyOVx0ICAgICAgbmV3X2dyb3VwLmVudGl0aWVzLnB1c2goZW50aXR5X2lkKTtcbiAgIDQzMFx0XG4gICA0MzFcdCAgICAgIC8vR3JvdXAgb3B0aW9ucyBoYW5kbGluZ1xuICAgNDMyXHQgICAgICB7XG4gICA0MzNcdCAgICAgICAgLy9NYXNrIGhhbmRsaW5nXG4gICA0MzRcdCAgICAgICAgcmVtb3ZlRW50aXR5TWFzayhlbnRpdHlfb2JqKTtcbiAgIDQzNVx0XG4gICA0MzZcdCAgICAgICAgaWYgKG5ld19ncm91cC5tYXNrKVxuICAgNDM3XHQgICAgICAgICAgbWFpbi5icnVzaC5tYXNrc1tuZXdfZ3JvdXAubWFza10ucHVzaChlbnRpdHlfb2JqKTtcbiAgIDQzOFx0ICAgICAgfVxuICAgNDM5XHQgICAgfVxuICAgNDQwXHQgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS91aV9pbml0aWFsaXNhdGlvbi5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgVUkgZnVuY3Rpb24gLSBtYXN0ZXJcbiAgICAgMlx0e1xuICAgICAzXHQgIGZ1bmN0aW9uIGluaXRpYWxpc2VVSSAoKSB7XG4gICAgIDRcdCAgICAvL0luaXRpYWxpc2UgbGVmdF9zaWRlYmFyXG4gICAgIDVcdCAgICBpbml0RGF0ZVVJKCk7XG4gICAgIDZcdCAgICBpbml0SGllcmFyY2h5VUkoKTtcbiAgICAgN1x0ICAgIGluaXRTY3JpcHRzVUkoKTtcbiAgICAgOFx0ICAgIGluaXRTZXR0aW5nc1VJKCk7XG4gICAgIDlcdFxuICAgIDEwXHQgICAgLy9Jbml0aWFsaXNlIHRvcGJhclxuICAgIDExXHQgICAgaW5pdFRvcGJhclVJKCk7XG4gICAgMTJcdCAgfVxuICAgIDEzXHR9XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvbWFza3MvbWFza19mcmFtZXdvcmsuanNcbi4uLlxuICAgIDI2XHRcbiAgICAyN1x0ICAvKlxuICAgIDI4XHQgICAgYWRkR3JvdXBNYXNrKCkgLSBTZXRzIGFuIGVudGlyZSBncm91cCB0byBoYXZlIGEgbWFzayBhY2NvcmRpbmcgdG8gbW9kZS5cbiAgICAyOVx0ICAgIGFyZzBfZ3JvdXBfaWQ6IChTdHJpbmcpIC0gVGhlIGdyb3VwIElEIHRvIGFkZCB0byB0aGUgbWFzay5cbiAgICAzMFx0ICAgIGFyZzFfbW9kZTogKFN0cmluZykgLSBUaGUgcHJlc2V0IGNvbmZpZy5tYXNrX3R5cGVzIHR5cGUgdG8gdXNlLlxuICAgIDMxXHQgICovXG4gICAgMzJcdCAgZnVuY3Rpb24gYWRkR3JvdXBNYXNrIChhcmcwX2dyb3VwX2lkLCBhcmcxX21vZGUpIHtcbiAgICAzM1x0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAzNFx0ICAgIHZhciBncm91cF9pZCA9IGFyZzBfZ3JvdXBfaWQ7XG4gICAgMzVcdCAgICB2YXIgbW9kZSA9IChhcmcxX21vZGUpID8gYXJnMV9tb2RlIDogXCJhZGRcIjtcbiAgICAzNlx0XG4gICAgMzdcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMzhcdCAgICB2YXIgYnJ1c2hfb2JqID0gbWFpbi5icnVzaDtcbiAgICAzOVx0ICAgIHZhciBncm91cF9vYmogPSBnZXRHcm91cChcImhpZXJhcmNoeVwiLCBncm91cF9pZCk7XG4gICAgNDBcdFxuICAgIDQxXHQgICAgaWYgKGdyb3VwX29iaikge1xuICAgIDQyXHQgICAgICByZW1vdmVHcm91cE1hc2soZ3JvdXBfb2JqLmlkKTtcbiAgICA0M1x0XG4gICAgNDRcdCAgICAgIC8vTW9kZSBoYW5kbGluZ1xuICAgIDQ1XHQgICAgICB2YXIgYWxsX3NlbGVjdGVkX2VudGl0aWVzID0gZ2V0R3JvdXBFbnRpdGllcyhcImhpZXJhcmNoeVwiLCBncm91cF9vYmouaWQpO1xuICAgIDQ2XHRcbiAgICA0N1x0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfc2VsZWN0ZWRfZW50aXRpZXMubGVuZ3RoOyBpKyspXG4gICAgNDhcdCAgICAgICAgYWRkRW50aXR5TWFzayhhbGxfc2VsZWN0ZWRfZW50aXRpZXNbaV0sIG1vZGUpO1xuICAgIDQ5XHQgICAgfVxuICAgIDUwXHQgIH1cbi4uLlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQzJRanZ4UkJnaUZxb1pvRTFoNTlrTSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjI3OjIxLjg0N1oiLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIHNlYXJjaCBmb3IgbW9yZSBmaWxlcyBzcGVjaWZpY2FsbHkgcmVsYXRlZCB0byB2YXJpYWJsZV9hY3Rpb25zIGFuZCBzaW1pbGFyIHBhdHRlcm5zOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjEzNjJhZGYwLWI2ODgtNGYyMy05Yzg5LTY3ODUzNzZiN2FmYyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkJhc2VkIG9uIG15IHJlc2VhcmNoLCBJIGNhbiBub3cgcHJvdmlkZSB5b3Ugd2l0aCBhIGNvbXByZWhlbnNpdmUgbGlzdCBvZiB0aGUgYm9pbGVycGxhdGUgY29kZSBmaWxlcyBpbiB0aGUgcHJvamVjdCB0aGF0IGZvbGxvdyB0aGUgdGVtcGxhdGUgZm9yIGltcGxlbWVudGluZyBVSSBKU09ONSBjb25maWdzLiBIZXJlJ3MgdGhlIGxpc3Q6XG5cbiMjIEZyYW1ld29yayBGaWxlcyAoQ29yZSBJbXBsZW1lbnRhdGlvbilcblxuMS4gKipFbnRpdHktcmVsYXRlZCBGcmFtZXdvcmsgRmlsZXM6KipcbiAgIC0gYHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzYCAtIEhhbmRsZXMgZW50aXR5IGFjdGlvbnNcbiAgIC0gYHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanNgIC0gTWFuYWdlcyBlbnRpdHkga2V5ZnJhbWVzXG5cbjIuICoqVmFyaWFibGUtcmVsYXRlZCBGcmFtZXdvcmsgRmlsZXM6KipcbiAgIC0gYHNyYy9qcy9mcmFtZXdvcmsvdmFyaWFibGVzL3ZhcmlhYmxlX2FjdGlvbnNfZnJhbWV3b3JrLmpzYCAtIEhhbmRsZXMgdmFyaWFibGUgYWN0aW9uc1xuICAgLSBgc3JjL2pzL2ZyYW1ld29yay92YXJpYWJsZXMvdmFyaWFibGVfZnJhbWV3b3JrLmpzYCAtIENvcmUgdmFyaWFibGUgZnVuY3Rpb25hbGl0eVxuXG4zLiAqKkdyb3VwLXJlbGF0ZWQgRnJhbWV3b3JrIEZpbGVzOioqXG4gICAtIGBzcmMvanMvZnJhbWV3b3JrL2dyb3Vwcy9ncm91cF9hY3Rpb25zX2ZyYW1ld29yay5qc2AgLSBIYW5kbGVzIGdyb3VwIGFjdGlvbnNcbiAgIC0gYHNyYy9qcy9mcmFtZXdvcmsvZ3JvdXBzL2dyb3VwX2ZyYW1ld29yay5qc2AgLSBDb3JlIGdyb3VwIGZ1bmN0aW9uYWxpdHlcblxuNC4gKipCcnVzaC1yZWxhdGVkIEZyYW1ld29yayBGaWxlczoqKlxuICAgLSBgc3JjL2pzL2ZyYW1ld29yay9icnVzaC9icnVzaF9hY3Rpb25zX2ZyYW1ld29yay5qc2AgLSBIYW5kbGVzIGJydXNoIGFjdGlvbnNcbiAgIC0gYHNyYy9qcy9mcmFtZXdvcmsvYnJ1c2gvYnJ1c2hfZnJhbWV3b3JrLmpzYCAtIENvcmUgYnJ1c2ggZnVuY3Rpb25hbGl0eVxuXG41LiAqKk90aGVyIEZyYW1ld29yayBGaWxlczoqKlxuICAgLSBgc3JjL2pzL2ZyYW1ld29yay9vcHRpbWlzYXRpb25fZnJhbWV3b3JrLmpzYCAtIEluaXRpYWxpemVzIGFuZCBvcHRpbWl6ZXMgYWxsIHRoZSBmcmFtZXdvcmtzXG4gICAtIGBzcmMvanMvZnJhbWV3b3JrL21hc2tzL21hc2tfZnJhbWV3b3JrLmpzYCAtIEhhbmRsZXMgbWFza2luZyBmdW5jdGlvbmFsaXR5XG4gICAtIGBzcmMvanMvZnJhbWV3b3JrL3BhcnNpbmdfZnJhbWV3b3JrLmpzYCAtIEhhbmRsZXMgcGFyc2luZyBvZiB2YXJpYWJsZXMgYW5kIG90aGVyIGRhdGFcblxuIyMgQ29uZmlndXJhdGlvbiBGaWxlcyAoSlNPTjUgQ29uZmlncylcblxuMS4gKipFbnRpdHktcmVsYXRlZCBDb25maWcgRmlsZXM6KipcbiAgIC0gYHNyYy9qcy9pbnRlcmZhY2UvbWFwL3BvbGl0eV9hY3Rpb25zX2NvbmZpZy5qc2AgLSBDb25maWcgZm9yIHBvbGl0eSBhY3Rpb25zXG4gICAtIGBzcmMvanMvaW50ZXJmYWNlL21hcC9rZXlmcmFtZV9hY3Rpb25zX2NvbmZpZy5qc2AgLSBDb25maWcgZm9yIGtleWZyYW1lIGFjdGlvbnNcbiAgIC0gYHNyYy9qcy9pbnRlcmZhY2UvbWFwL2tleWZyYW1lX25hdmlnYXRpb25fY29uZmlnLmpzYCAtIENvbmZpZyBmb3Iga2V5ZnJhbWUgbmF2aWdhdGlvblxuXG4yLiAqKlZhcmlhYmxlLXJlbGF0ZWQgQ29uZmlnIEZpbGVzOioqXG4gICAtIGBzcmMvanMvaW50ZXJmYWNlL21hcC92YXJpYWJsZV9hY3Rpb25zX2NvbmZpZy5qc2AgLSBDb25maWcgZm9yIHZhcmlhYmxlIGFjdGlvbnNcblxuMy4gKipTZXR0aW5ncyBDb25maWcgRmlsZXM6KipcbiAgIC0gYHNyYy9qcy9pbnRlcmZhY2UvbGVmdF9zaWRlYmFyL3NldHRpbmdzX2dsb2JhbF9jb25maWcuanNgIC0gR2xvYmFsIHNldHRpbmdzIGNvbmZpZ3VyYXRpb25cblxuIyMgVUkgRnJhbWV3b3JrIEZpbGVzXG5cbjEuICoqVUktcmVsYXRlZCBGcmFtZXdvcmsgRmlsZXM6KipcbiAgIC0gYHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzYCAtIENvcmUgVUkgZnVuY3Rpb25hbGl0eVxuICAgLSBgc3JjL1VGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanNgIC0gQnJvd3NlciBVSSBmdW5jdGlvbmFsaXR5XG4gICAtIGBzcmMvanMvaW50ZXJmYWNlL3VpX2luaXRpYWxpc2F0aW9uLmpzYCAtIFVJIGluaXRpYWxpemF0aW9uXG4gICAtIGBzcmMvanMvaW50ZXJmYWNlL3VpX2NvbmZpZy5qc2AgLSBVSSBjb25maWd1cmF0aW9uXG5cbjIuICoqSGllcmFyY2h5IGFuZCBHcm91cHMgVUk6KipcbiAgIC0gYHNyYy9VRi9qcy9Ccm93c2VyVUkvaGllcmFyY2h5X2ZyYW1ld29yay5qc2AgLSBIaWVyYXJjaHkgVUkgZnVuY3Rpb25hbGl0eVxuICAgLSBgc3JjL1VGL2pzL0Jyb3dzZXJVSS9ncm91cHNfZnJhbWV3b3JrLmpzYCAtIEdyb3VwcyBVSSBmdW5jdGlvbmFsaXR5XG5cblRoZXNlIGZpbGVzIGZvbGxvdyBhIGNvbnNpc3RlbnQgcGF0dGVybiB3aGVyZSB0aGUgZnJhbWV3b3JrIGZpbGVzIGltcGxlbWVudCB0aGUgY29yZSBmdW5jdGlvbmFsaXR5LCBhbmQgdGhlIGNvbmZpZyBmaWxlcyBkZWZpbmUgdGhlIFVJIEpTT041IGNvbmZpZ3VyYXRpb25zIHRoYXQgYXJlIHVzZWQgYnkgdGhlIGZyYW1ld29yay4gVGhlIHN5c3RlbSBhcHBlYXJzIHRvIGJlIGRlc2lnbmVkIGFyb3VuZCBlbnRpdGllcywgdmFyaWFibGVzLCBncm91cHMsIGFuZCBicnVzaGVzLCB3aXRoIGFjdGlvbnMgYW5kIGtleWZyYW1lcyBmb3IgZWFjaCBvZiB0aGVzZSBjb21wb25lbnRzLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay92YXJpYWJsZXMvdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgLyoqXG4gICAgIDRcdCAgICogZ2V0QWxsVmFyaWFibGVBY3Rpb25zKCkgLSBGZXRjaGVzIGFsbCB2YXJpYWJsZSBhY3Rpb25zIGFzIGVpdGhlciBhbiBhcnJheSBvZiBrZXlzIG9yIG9iamVjdHMuXG4gICAgIDVcdCAgICogQHBhcmFtIHtPYmplY3R9IFthcmcwX29wdGlvbnNdXG4gICAgIDZcdCAgICogIEBwYXJhbSB7Ym9vbGVhbn0gW2FyZzBfb3B0aW9ucy5yZXR1cm5fa2V5cz1mYWxzZV0gLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLlxuICAgICA3XHQgICAqIFxuICAgICA4XHQgICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fEFycmF5PFN0cmluZz59XG4gICAgIDlcdCAgICovXG4gICAgMTBcdCAgZnVuY3Rpb24gZ2V0QWxsVmFyaWFibGVBY3Rpb25zIChhcmcwX29wdGlvbnMpIHtcbiAgICAxMVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAxMlx0ICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgICAxM1x0XG4gICAgMTRcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTVcdCAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAgMTZcdCAgICB2YXIgZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnM7XG4gICAgMTdcdCAgICB2YXIgcmV0dXJuX2FjdGlvbnMgPSBbXTtcbiAgICAxOFx0ICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1xuLi4uXG4gICAgNDlcdFxuICAgIDUwXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDUxXHQgICAgdmFyIHZhcmlhYmxlX2FjdGlvbl9leGlzdHMgPSBbZmFsc2UsIFwiXCJdOyAvL1t2YXJpYWJsZV9hY3Rpb25fZXhpc3RzLCB2YXJpYWJsZV9hY3Rpb25fa2V5XTtcbiAgICA1Mlx0ICAgIHZhciBzZWFyY2hfbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgNTNcdCAgICBcbiAgICA1NFx0ICAgIC8vSUQgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgICA1NVx0ICAgIHtcbiAgICA1Nlx0ICAgICAgLy9JdGVyYXRlIG92ZXIgY29uZmlnLmFsbF92YXJpYWJsZV9hY3Rpb25zXG4gICAgNTdcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgNThcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF92YXJpYWJsZV9hY3Rpb25zW2ldO1xuICAgIDU5XHQgICAgICAgIFxuICAgIDYwXHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5pZC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgICA2MVx0ICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbl9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA2Mlx0ICAgICAgfVxuICAgIDYzXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfdmFyaWFibGVfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDY0XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfdmFyaWFibGVfYWN0aW9uc1tpXTtcbiAgICA2NVx0XG4gICAgNjZcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLmlkLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAgNjdcdCAgICAgICAgICB2YXJpYWJsZV9hY3Rpb25fZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAgNjhcdCAgICAgIH1cbiAgICA2OVx0ICAgIH1cbiAgICA3MFx0XG4gICAgNzFcdCAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgICA3Mlx0ICAgIHtcbiAgICA3M1x0ICAgICAgLy9JdGVyYXRlIG92ZXIgY29uZmlnLmFsbF92YXJpYWJsZV9hY3Rpb25zXG4gICAgNzRcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgNzVcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF92YXJpYWJsZV9hY3Rpb25zW2ldO1xuICAgIDc2XHRcbiAgICA3N1x0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgICA3OFx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgIDc5XHQgICAgICAgICAgICB2YXJpYWJsZV9hY3Rpb25fZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAgODBcdCAgICAgIH1cbiAgICA4MVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICA4Mlx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV07XG4gICAgODNcdCAgICAgICAgXG4gICAgODRcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAgODVcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgIDg2XHQgICAgICAgICAgICB2YXJpYWJsZV9hY3Rpb25fZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAgODdcdCAgICAgIH1cbiAgICA4OFx0ICAgIH1cbiAgICA4OVx0XG4gICAgOTBcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICA5MVx0ICAgIGlmICh2YXJpYWJsZV9hY3Rpb25fZXhpc3RzWzBdKVxuICAgIDkyXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW3ZhcmlhYmxlX2FjdGlvbl9leGlzdHNbMV1dIDogdmFyaWFibGVfYWN0aW9uX2V4aXN0c1sxXTtcbiAgICA5M1x0ICB9XG4uLi5cbiAgIDE1NFx0XG4gICAxNTVcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxNTZcdCAgICB2YXIgYWxsX3ZhcmlhYmxlX2FjdGlvbnMgPSBPYmplY3Qua2V5cyhjb25maWcudmFyaWFibGVzKTtcbiAgIDE1N1x0ICAgIHZhciB2YXJpYWJsZV9hY3Rpb25zX2V4aXN0cyA9IFtmYWxzZSwgXCJcIl07IC8vW3ZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzLCB2YXJpYWJsZV9hY3Rpb25zX2tleV07XG4gICAxNThcdCAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgMTU5XHRcbiAgIDE2MFx0ICAgIC8vSUQgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDE2MVx0ICAgIHtcbiAgIDE2Mlx0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX3ZhcmlhYmxlX2FjdGlvbnNcbiAgIDE2M1x0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfdmFyaWFibGVfYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgIDE2NFx0ICAgICAgICBpZiAoYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxNjVcdCAgICAgICAgICB2YXJpYWJsZV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfdmFyaWFibGVfYWN0aW9uc1tpXV07XG4gICAxNjZcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspXG4gICAxNjdcdCAgICAgICAgaWYgKGFsbF92YXJpYWJsZV9hY3Rpb25zW2ldLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAxNjhcdCAgICAgICAgICB2YXJpYWJsZV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfdmFyaWFibGVfYWN0aW9uc1tpXV07XG4gICAxNjlcdCAgICB9XG4gICAxNzBcdCAgICBcbiAgIDE3MVx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgMTcyXHQgICAge1xuICAgMTczXHQgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfdmFyaWFibGVfYWN0aW9uc1xuICAgMTc0XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxNzVcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLnZhcmlhYmxlc1thbGxfdmFyaWFibGVfYWN0aW9uc1tpXV07XG4gICAxNzZcdFxuICAgMTc3XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTc4XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxNzlcdCAgICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF92YXJpYWJsZV9hY3Rpb25zW2ldXTtcbiAgIDE4MFx0ICAgICAgfVxuICAgMTgxXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxODJcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLnZhcmlhYmxlc1thbGxfdmFyaWFibGVfYWN0aW9uc1tpXV07XG4gICAxODNcdFxuICAgMTg0XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTg1XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgIDE4Nlx0ICAgICAgICAgICAgdmFyaWFibGVfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV1dO1xuICAgMTg3XHQgICAgICB9XG4gICAxODhcdCAgICB9XG4gICAxODlcdFxuICAgMTkwXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAxOTFcdCAgICBpZiAodmFyaWFibGVfYWN0aW9uc19leGlzdHNbMF0pXG4gICAxOTJcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcudmFyaWFibGVzW3ZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzWzFdXSA6IHZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzWzFdO1xuICAgMTkzXHQgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9ncm91cHMvZ3JvdXBfYWN0aW9uc19mcmFtZXdvcmsuanNcbi4uLlxuICAgIDcwXHRcbiAgICA3MVx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgIDcyXHQgICAge1xuICAgIDczXHQgICAgICAvL0l0ZXJhdGUgb3ZlciBjb25maWcuYWxsX2dyb3VwX2FjdGlvbnNcbiAgICA3NFx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX2dyb3VwX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICA3NVx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX2dyb3VwX2FjdGlvbnNbaV07XG4gICAgNzZcdFxuICAgIDc3XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgIDc4XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAgNzlcdCAgICAgICAgICAgIGdyb3VwX2FjdGlvbl9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA4MFx0ICAgICAgfVxuICAgIDgxXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfZ3JvdXBfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDgyXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZ3JvdXBfYWN0aW9uc1tpXTtcbiAgICA4M1x0XG4gICAgODRcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAgODVcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgIDg2XHQgICAgICAgICAgICBncm91cF9hY3Rpb25fZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAgODdcdCAgICAgIH1cbiAgICA4OFx0ICAgIH1cbiAgICA4OVx0XG4gICAgOTBcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICA5MVx0ICAgIGlmIChncm91cF9hY3Rpb25fZXhpc3RzWzBdKVxuICAgIDkyXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zW2dyb3VwX2FjdGlvbl9leGlzdHNbMV1dIDogZ3JvdXBfYWN0aW9uX2V4aXN0c1sxXTtcbiAgICA5M1x0ICB9XG4uLi5cbiAgIDE3MVx0XG4gICAxNzJcdCAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDE3M1x0ICAgIHtcbiAgIDE3NFx0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2dyb3VwX2FjdGlvbnNcbiAgIDE3NVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZ3JvdXBfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgMTc2XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5ncm91cF9hY3Rpb25zW2FsbF9ncm91cF9hY3Rpb25zW2ldXTtcbiAgIDE3N1x0XG4gICAxNzhcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxNzlcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgIDE4MFx0ICAgICAgICAgICAgZ3JvdXBfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2dyb3VwX2FjdGlvbnNbaV1dO1xuICAgMTgxXHQgICAgICB9XG4gICAxODJcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2dyb3VwX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDE4M1x0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuZ3JvdXBfYWN0aW9uc1thbGxfZ3JvdXBfYWN0aW9uc1tpXV07XG4gICAxODRcdFxuICAgMTg1XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTg2XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgIDE4N1x0ICAgICAgICAgICAgZ3JvdXBfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2dyb3VwX2FjdGlvbnNbaV1dO1xuICAgMTg4XHQgICAgICB9XG4gICAxODlcdCAgICB9XG4gICAxOTBcdFxuICAgMTkxXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAxOTJcdCAgICBpZiAoIWdyb3VwX2FjdGlvbnNfZXhpc3RzWzBdKVxuICAgMTkzXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmdyb3VwX2FjdGlvbnNbZ3JvdXBfYWN0aW9uc19leGlzdHNbMV1dIDogZ3JvdXBfYWN0aW9uc19leGlzdHNbMV07XG4gICAxOTRcdCAgfVxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL29wdGltaXNhdGlvbl9mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9EZWNsYXJlIGZ1bmN0aW9uXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBpbml0T3B0aW1pc2F0aW9uICgpIHtcbiAgICAgNFx0ICAgIC8vQlJVU0ggQUNUSU9OU1xuICAgICA1XHQgICAgLy9TZXQgLmFsbF9icnVzaF9hY3Rpb25zOyAuYWxsX2JydXNoX2FjdGlvbnNfa2V5c1xuICAgICA2XHQgICAgY29uZmlnLmZsYXR0ZW5lZF9icnVzaF9hY3Rpb25zID0gZHVtYkZsYXR0ZW5PYmplY3QoY29uZmlnLmJydXNoX2FjdGlvbnMpO1xuICAgICA3XHRcbiAgICAgOFx0ICAgIGNvbmZpZy5hbGxfYnJ1c2hfYWN0aW9ucyA9IGdldEFsbEJydXNoQWN0aW9ucygpO1xuICAgICA5XHQgICAgY29uZmlnLmFsbF9icnVzaF9hY3Rpb25zX2tleXMgPSBnZXRBbGxCcnVzaEFjdGlvbnMoeyByZXR1cm5fa2V5czogdHJ1ZSB9KTtcbiAgICAxMFx0ICAgIGNvbmZpZy5icnVzaF9hY3Rpb25zX2xvd2VzdF9vcmRlciA9IGdldEJydXNoQWN0aW9uc0xvd2VzdE9yZGVyKCk7XG4gICAgMTFcdFxuICAgIDEyXHQgICAgLy9FTlRJVFkgQUNUSU9OU1xuICAgIDEzXHQgICAgLy9TZXQgLmFsbF9lbnRpdHlfYWN0aW9uczsgLmFsbF9lbnRpdHlfYWN0aW9uc19rZXlzXG4gICAgMTRcdCAgICBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gZHVtYkZsYXR0ZW5PYmplY3QoY29uZmlnLmVudGl0eV9hY3Rpb25zKTtcbiAgICAxNVx0XG4gICAgMTZcdCAgICBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zID0gZ2V0QWxsRW50aXR5QWN0aW9ucygpO1xuICAgIDE3XHQgICAgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9uc19rZXlzID0gZ2V0QWxsRW50aXR5QWN0aW9ucyh7IHJldHVybl9rZXlzOiB0cnVlIH0pO1xuICAgIDE4XHQgICAgY29uZmlnLmVudGl0eV9hY3Rpb25zX2xvd2VzdF9vcmRlciA9IGdldEVudGl0eUFjdGlvbnNMb3dlc3RPcmRlcigpO1xuLi4uXG5QYXRoOiBzcmMvVUYvanMvZmlsZXMvYmFzaWNfZmlsZXMuanNcbi4uLlxuICAgMTYzXHQgICAgICBcbiAgIDE2NFx0ICAgICAgdmFyIGxvY2FsX2RpciA9IGAke19fZGlybmFtZX1cXFxcJHtiYXNlX2Rpcn1gO1xuICAgMTY1XHQgICAgICB2YXIgYWxsX2RpcmVjdG9yeV9maWxlcyA9IGdldEFsbEZpbGVzKGxvY2FsX2Rpcik7XG4gICAxNjZcdCAgICAgIFxuICAgMTY3XHQgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGFsbF9kaXJlY3RvcnlfZmlsZXMubGVuZ3RoOyB4KyspIHtcbiAgIDE2OFx0ICAgICAgICAvL1NraXAgaWYgZmlsZSBpcyBhbHJlYWR5IGxvYWRlZFxuICAgMTY5XHQgICAgICAgIGlmIChsb2FkZWRfZmlsZXMuaW5jbHVkZXMoYWxsX2RpcmVjdG9yeV9maWxlc1t4XSkpIGNvbnRpbnVlO1xuICAgMTcwXHQgICAgICAgIFxuICAgMTcxXHQgICAgICAgIC8vR2V0IGp1c3QgdGhlIGZpbGVuYW1lIGZyb20gdGhlIGZ1bGwgcGF0aFxuICAgMTcyXHQgICAgICAgIHZhciBmaWxlbmFtZSA9IGFsbF9kaXJlY3RvcnlfZmlsZXNbeF0uc3BsaXQoJ1xcXFwnKS5wb3AoKTtcbiAgIDE3M1x0ICAgICAgICBcbiAgIDE3NFx0ICAgICAgICAvL0NvbnZlcnQgZ2xvYiBwYXR0ZXJuIHRvIHJlZ2V4XG4gICAxNzVcdCAgICAgICAgdmFyIHBhdHRlcm4gPSBmaWxlX3BhdHRlcm5cbiAgIDE3Nlx0ICAgICAgICAgIC5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJykgLy8gRXNjYXBlIGRvdHNcbiAgIDE3N1x0ICAgICAgICAgIC5yZXBsYWNlKC9cXCovZywgJy4qJykgIC8vIENvbnZlcnQgKiB0byAuKlxuICAgMTc4XHQgICAgICAgICAgLnJlcGxhY2UoL1xcPy9nLCAnLicpOyAgLy8gQ29udmVydCA/IHRvIC5cbiAgIDE3OVx0ICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCdeJyArIHBhdHRlcm4gKyAnJCcpO1xuICAgMTgwXHQgICAgICAgIFxuICAgMTgxXHQgICAgICAgIC8vT25seSBsb2FkIGlmIGZpbGUgbWF0Y2hlcyBwYXR0ZXJuXG4gICAxODJcdCAgICAgICAgaWYgKCFyZWdleC50ZXN0KGZpbGVuYW1lKSkgY29udGludWU7XG4gICAxODNcdCAgICAgICAgXG4gICAxODRcdCAgICAgICAgbG9hZEZpbGUoYWxsX2RpcmVjdG9yeV9maWxlc1t4XSk7XG4gICAxODVcdCAgICAgICAgbG9hZGVkX2ZpbGVzLnB1c2goYWxsX2RpcmVjdG9yeV9maWxlc1t4XSk7XG4gICAxODZcdCAgICAgIH1cbiAgIDE4N1x0ICAgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9icnVzaC9icnVzaF9hY3Rpb25zX2ZyYW1ld29yay5qc1xuLi4uXG4gICAxNzFcdFxuICAgMTcyXHQgICAgLy9OYW1lIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXG4gICAxNzNcdCAgICB7XG4gICAxNzRcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9icnVzaF9hY3Rpb25zXG4gICAxNzVcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2JydXNoX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDE3Nlx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYnJ1c2hfYWN0aW9uc1thbGxfYnJ1c2hfYWN0aW9uc1tpXV07XG4gICAxNzdcdFxuICAgMTc4XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTc5XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxODBcdCAgICAgICAgICAgIGJydXNoX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9icnVzaF9hY3Rpb25zW2ldXTtcbiAgIDE4MVx0ICAgICAgfVxuICAgMTgyXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9icnVzaF9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxODNcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmJydXNoX2FjdGlvbnNbYWxsX2JydXNoX2FjdGlvbnNbaV1dO1xuICAgMTg0XHRcbiAgIDE4NVx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgIDE4Nlx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAxODdcdCAgICAgICAgICAgIGJydXNoX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9icnVzaF9hY3Rpb25zW2ldXTtcbiAgIDE4OFx0ICAgICAgfVxuICAgMTg5XHQgICAgfVxuICAgMTkwXHRcbiAgIDE5MVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMTkyXHQgICAgaWYgKGJydXNoX2FjdGlvbnNfZXhpc3RzWzBdKVxuICAgMTkzXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmJydXNoX2FjdGlvbnNbYnJ1c2hfYWN0aW9uc19leGlzdHNbMV1dIDogYnJ1c2hfYWN0aW9uc19leGlzdHNbMV07XG4gICAxOTRcdCAgfVxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgRW50aXR5IEFjdGlvbnMgZnJhbWV3b3JrXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKlxuICAgICA0XHQgICAgZ2V0QWxsRW50aXR5QWN0aW9ucygpIC0gRmV0Y2hlcyBhbGwgZW50aXR5IGFjdGlvbnMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICAgNVx0ICAgIGFyZzBfb3B0aW9uczogKE9iamVjdClcbiAgICAgNlx0ICAgICAgcmV0dXJuX2tleXM6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuIEZhbHNlIGJ5IGRlZmF1bHQuXG4gICAgIDdcdFxuICAgICA4XHQgICAgUmV0dXJuczogKEFycmF5PE9iamVjdD4vQXJyYXk8U3RyaW5nPilcbiAgICAgOVx0ICAqL1xuICAgIDEwXHQgIGZ1bmN0aW9uIGdldEFsbEVudGl0eUFjdGlvbnMgKGFyZzBfb3B0aW9ucykge1xuICAgIDExXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDEyXHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xuICAgIDEzXHRcbiAgICAxNFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxNVx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgICAxNlx0ICAgIHZhciBmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zO1xuICAgIDE3XHQgICAgdmFyIHJldHVybl9hY3Rpb25zID0gW107XG4gICAgMThcdCAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgICAxOVx0XG4gICAgMjBcdCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXG4gICAgMjFcdCAgICB2YXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyk7XG4gICAgMjJcdFxuICAgIDIzXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgIDI0XHQgICAgICBpZiAoIWNvbW1vbl9kZWZpbmVzLnJlc2VydmVkX2VudGl0eV9hY3Rpb25zLmluY2x1ZGVzKGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV0pKSB7XG4gICAgMjVcdCAgICAgICAgcmV0dXJuX2FjdGlvbnMucHVzaChmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tpXV0pO1xuICAgIDI2XHQgICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tpXSk7XG4gICAgMjdcdCAgICAgIH1cbi4uLlxuICAgIDM4XHRcbiAgICAzOVx0ICAgIFJldHVybnM6IChPYmplY3QvU3RyaW5nKVxuICAgIDQwXHQgICovXG4gICAgNDFcdCAgZnVuY3Rpb24gZ2V0RW50aXR5QWN0aW9uIChhcmcwX25hbWUsIGFyZzFfb3B0aW9ucykge1xuICAgIDQyXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDQzXHQgICAgdmFyIG5hbWUgPSBhcmcwX25hbWU7XG4gICAgNDRcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcxX29wdGlvbnMpID8gYXJnMV9vcHRpb25zIDoge307XG4gICAgNDVcdFxuICAgIDQ2XHQgICAgLy9HdWFyZCBjbGF1c2UgZm9yIG9iamVjdHM7IGRpcmVjdCBrZXlzXG4gICAgNDdcdCAgICBpZiAodHlwZW9mIG5hbWUgPT0gXCJvYmplY3RcIikgcmV0dXJuIG5hbWU7XG4gICAgNDhcdCAgICBpZiAoY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tuYW1lXSkgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbbmFtZV0gOiBuYW1lO1xuICAgIDQ5XHRcbiAgICA1MFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICA1MVx0ICAgIHZhciBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbZmFsc2UsIFwiXCJdOyAvL1tlbnRpdHlfYWN0aW9uc19leGlzdHMsIGVudGl0eV9hY3Rpb25zX2tleV07XG4gICAgNTJcdCAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuLi4uXG4gICAxMTdcdFxuICAgMTE4XHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxMTlcdCAgICAgIHZhciBsb2NhbF9hY3Rpb24gPSBmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tpXV07XG4gICAxMjBcdFxuICAgMTIxXHQgICAgICBpZiAobG9jYWxfYWN0aW9uLm9yZGVyID09IG9wdGlvbnMub3JkZXIpIHtcbiAgIDEyMlx0ICAgICAgICByZXR1cm5fYWN0aW9ucy5wdXNoKGxvY2FsX2FjdGlvbik7XG4gICAxMjNcdCAgICAgICAgcmV0dXJuX2tleXMucHVzaChhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldKTtcbiAgIDEyNFx0ICAgICAgfVxuICAgMTI1XHQgICAgfVxuICAgMTI2XHRcbiAgIDEyN1x0ICAgIC8vb3B0aW9ucy5yZXR1cm5fb2JqZWN0IGhhbmRsZXJcbiAgIDEyOFx0ICAgIGlmIChvcHRpb25zLnJldHVybl9vYmplY3QpIHtcbiAgIDEyOVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXR1cm5fYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgIDEzMFx0ICAgICAgICByZXR1cm5fb2JqW3JldHVybl9rZXlzW2ldXSA9IHJldHVybl9hY3Rpb25zW2ldO1xuICAgMTMxXHQgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDEzMlx0ICAgICAgcmV0dXJuIHJldHVybl9vYmo7XG4gICAxMzNcdCAgICB9XG4gICAxMzRcdFxuICAgMTM1XHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAxMzZcdCAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gcmV0dXJuX2FjdGlvbnMgOiByZXR1cm5fa2V5cztcbiAgIDEzN1x0ICB9XG4uLi5cbiAgIDI1NFx0XG4gICAyNTVcdCAgLypcbiAgIDI1Nlx0ICAgIGdldEVudGl0eUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0KCkgLSBGZXRjaGVzIHRoZSBuYXZpZ2F0aW9uIG9iamVjdCBmb3IgZW50aXR5IGFjdGlvbnM7IHRoZSBpbml0aWFsIGNvbnRleHQgbWVudSBmcm9tIHRoZSBsb3dlc3Qgb3JkZXIuXG4gICAyNTdcdFxuICAgMjU4XHQgICAgUmV0dXJuczogKE9iamVjdClcbiAgIDI1OVx0ICAqL1xuICAgMjYwXHQgIGZ1bmN0aW9uIGdldEVudGl0eUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0ICgpIHtcbiAgIDI2MVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDI2Mlx0ICAgIHZhciBmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zO1xuICAgMjYzXHQgICAgdmFyIGxvd2VzdF9vcmRlciA9IGdldEVudGl0eUFjdGlvbnNMb3dlc3RPcmRlcihmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMpO1xuICAgMjY0XHRcbiAgIDI2NVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMjY2XHQgICAgcmV0dXJuIGdldEVudGl0eUFjdGlvbnNBdE9yZGVyKHsgb3JkZXI6IGxvd2VzdF9vcmRlciwgcmV0dXJuX29iamVjdDogdHJ1ZSB9KTtcbiAgIDI2N1x0ICB9XG4gICAyNjhcdH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9icnVzaC9icnVzaF9mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9EZWNsYXJlIGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gYWRkVG9CcnVzaCAoYXJnMF9wb2x5Z29uLCBhcmcxX2RvX25vdF9hZGRfdG9fdW5kb19yZWRvKSB7XG4gICAgIDRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgIDVcdCAgICB2YXIgcG9seWdvbiA9IGFyZzBfcG9seWdvbjtcbiAgICAgNlx0ICAgIHZhciBkb19ub3RfYWRkX3RvX3VuZG9fcmVkbyA9IGFyZzFfZG9fbm90X2FkZF90b191bmRvX3JlZG87XG4gICAgIDdcdFxuICAgICA4XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgICA5XHQgICAgdmFyIGJydXNoX29iaiA9IG1haW4uYnJ1c2g7XG4gICAgMTBcdCAgICB2YXIgb2xkX2JydXNoX29iaiA9IChicnVzaF9vYmouY3VycmVudF9wYXRoKSA/XG4gICAgMTFcdCAgICAgIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYnJ1c2hfb2JqLmN1cnJlbnRfcGF0aCkpIDogdW5kZWZpbmVkO1xuICAgIDEyXHRcbiAgICAxM1x0ICAgIHRyeSB7XG4gICAgMTRcdCAgICAgIC8vMS4gSW5pdGlhbGlzZSBicnVzaC5jdXJyZW50X3BhdGggaWYgbm90IGRlZmluZWQ7IHByb2Nlc3MgZ2VvbWV0cnkgbWFza3NcbiAgICAxNVx0ICAgICAgcG9seWdvbiA9IHByb2Nlc3NCcnVzaChwb2x5Z29uKTtcbiAgICAxNlx0XG4gICAgMTdcdCAgICAgIC8vMi4gTWFrZSBzdXJlIGludGVyc2VjdGlvbl9wb2x5Z29uIGlzIGRlZmluZWQgZm9yIGRlbHRhX3BvbHlnb24gdXNlXG4gICAgMThcdCAgICAgIHZhciBpbnRlcnNlY3Rpb25fcG9seWdvbjtcbiAgICAxOVx0ICAgICAgdHJ5IHsgaW50ZXJzZWN0aW9uX3BvbHlnb24gPSBpbnRlcnNlY3Rpb24oYnJ1c2hfb2JqLmN1cnJlbnRfcGF0aCwgcG9seWdvbik7IH0gY2F0Y2ggKGUpIHt9XG4gICAgMjBcdFxuICAgIDIxXHQgICAgICAvLzMuIE1hcmsgYnJ1c2ggY2hhbmdlIGFuZCB1bmlvbiB3aXRoIHBvbHlnb25cbiAgICAyMlx0ICAgICAgYnJ1c2hfb2JqLmJydXNoX2NoYW5nZSA9IHRydWU7XG4gICAgMjNcdFxuICAgIDI0XHQgICAgICAvLzQuIEFkZCB0byBhY3Rpb25zXG4gICAgMjVcdCAgICAgIHZhciBkZWx0YV9wb2x5Z29uO1xuICAgIDI2XHQgICAgICBpZiAocG9seWdvbilcbiAgICAyN1x0ICAgICAgICB0cnkgeyBkZWx0YV9wb2x5Z29uID0gZGlmZmVyZW5jZShwb2x5Z29uLCBpbnRlcnNlY3Rpb25fcG9seWdvbik7IH0gY2F0Y2ggKGUpIHt9XG4uLi5cbiAgICA0OVx0ICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGwgbWFpbi5jYWNoZS5vbGRfbWFza19jaGFuZ2VzXG4gICAgNTBcdCAgICAgICAgaWYgKG1haW4uY2FjaGUub2xkX21hc2tfY2hhbmdlcylcbiAgICA1MVx0ICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFpbi5jYWNoZS5vbGRfbWFza19jaGFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgIDUyXHQgICAgICAgICAgICByZWRvX2Z1bmN0aW9uX3BhcmFtZXRlcnMucHVzaChKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1haW4uY2FjaGUub2xkX21hc2tfY2hhbmdlc1tpXSkpKTtcbiAgICA1M1x0ICAgICAgICBtYWluLmNhY2hlLm9sZF9tYXNrX2NoYW5nZXMgPSBbXTtcbiAgICA1NFx0XG4gICAgNTVcdCAgICAgICAgcGVyZm9ybUFjdGlvbih7XG4gICAgNTZcdCAgICAgICAgICBhY3Rpb25faWQ6IFwiYWRkX3RvX2JydXNoXCIsXG4gICAgNTdcdCAgICAgICAgICByZWRvX2Z1bmN0aW9uOiBcInNldEVudGl0aWVzQ29vcmRzXCIsXG4gICAgNThcdCAgICAgICAgICByZWRvX2Z1bmN0aW9uX3BhcmFtZXRlcnM6IFt1bmRvX2Z1bmN0aW9uX3BhcmFtZXRlcnNdLFxuICAgIDU5XHQgICAgICAgICAgdW5kb19mdW5jdGlvbjogXCJzZXRFbnRpdGllc0Nvb3Jkc1wiLFxuICAgIDYwXHQgICAgICAgICAgdW5kb19mdW5jdGlvbl9wYXJhbWV0ZXJzOiBbcmVkb19mdW5jdGlvbl9wYXJhbWV0ZXJzXVxuICAgIDYxXHQgICAgICAgIH0pO1xuICAgIDYyXHQgICAgICB9XG4gICAgNjNcdCAgICB9IGNhdGNoIChlKSB7XG4gICAgNjRcdCAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIDY1XHQgICAgfVxuICAgIDY2XHRcbiAgICA2N1x0ICAgIC8vUmVmcmVzaCBicnVzaCBpZiBhY3Rpb24gd2FzIGNhbGxlZCBmcm9tIFVuZG8vUmVkb1xuICAgIDY4XHQgICAgaWYgKGRvX25vdF9hZGRfdG9fdW5kb19yZWRvKVxuICAgIDY5XHQgICAgICByZWZyZXNoQnJ1c2goKTtcbiAgICA3MFx0XG4gICAgNzFcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICA3Mlx0ICAgIHJldHVybiBwb2x5Z29uO1xuICAgIDczXHQgIH1cbi4uLlxuICAgIDk1XHRcbiAgICA5Nlx0ICBmdW5jdGlvbiBkaXNhYmxlQnJ1c2ggKCkge1xuICAgIDk3XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDk4XHQgICAgdmFyIGJydXNoX29iaiA9IG1haW4uYnJ1c2g7XG4gICAgOTlcdFxuICAgMTAwXHQgICAgLy9TZXQgYnJ1c2hfb2JqLmRpc2FibGVfYnJ1c2hcbiAgIDEwMVx0ICAgIGJydXNoX29iai5kaXNhYmxlX2JydXNoID0gdHJ1ZTtcbiAgIDEwMlx0ICAgIGlmIChicnVzaF9vYmouY3Vyc29yKVxuICAgMTAzXHQgICAgICBicnVzaF9vYmouY3Vyc29yLnJlbW92ZSgpO1xuICAgMTA0XHQgICAgdHJ5IHsgcmVmcmVzaEJydXNoQWN0aW9ucygpOyB9IGNhdGNoIChlKSB7fVxuICAgMTA1XHQgIH1cbiAgIDEwNlx0XG4gICAxMDdcdCAgZnVuY3Rpb24gZW5hYmxlQnJ1c2ggKCkge1xuICAgMTA4XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMTA5XHQgICAgdmFyIGJydXNoX29iaiA9IG1haW4uYnJ1c2g7XG4gICAxMTBcdCAgICBcbiAgIDExMVx0ICAgIC8vRGVsZXRlIGJydXNoX29iai5kaXNhYmxlX2JydXNoXG4gICAxMTJcdCAgICBkZWxldGUgYnJ1c2hfb2JqLmRpc2FibGVfYnJ1c2g7XG4gICAxMTNcdCAgICBpZiAoYnJ1c2hfb2JqLmN1cnNvcilcbiAgIDExNFx0ICAgICAgYnJ1c2hfb2JqLmN1cnNvci5yZW1vdmUoKTtcbiAgIDExNVx0ICAgIHRyeSB7IHJlZnJlc2hCcnVzaEFjdGlvbnMoKTsgfSBjYXRjaCAoZSkge31cbiAgIDExNlx0ICB9XG4uLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvbWFwL3ZhcmlhYmxlX2FjdGlvbnNfY29uZmlnLmpzXG4gICAgIDFcdGNvbmZpZy52YXJpYWJsZXMudmFyaWFibGVfYWN0aW9ucyA9IHsgLy9bV0lQXSAtIEZpbmlzaCBjb25maWcgYm9keVxuICAgICAyXHQgIG5hbWU6IFwiVmFyaWFibGUgQWN0aW9uc1wiLFxuICAgICAzXHQgIHNjb3BlX3R5cGU6IFtcImVudGl0aWVzXCJdLFxuICAgICA0XHRcbiAgICAgNVx0ICBlZGl0X3ZhcmlhYmxlOiB7XG4gICAgIDZcdCAgICBpZDogXCJlZGl0X3ZhcmlhYmxlXCIsXG4gICAgIDdcdCAgICBuYW1lOiBcIkVkaXQgVmFyaWFibGVcIixcbiAgICAgOFx0ICAgIG9yZGVyOiAxLFxuICAgICA5XHRcbiAgICAxMFx0ICAgIGludGVyZmFjZToge1xuICAgIDExXHQgICAgICAvL1JvdyAxXG4gICAgMTJcdCAgICAgIHZhcmlhYmxlX2tleV9pbnB1dDoge1xuICAgIDEzXHQgICAgICAgIGlkOiBcInZhcmlhYmxlX2tleV9pbnB1dFwiLFxuICAgIDE0XHQgICAgICAgIG5hbWU6IFwiS2V5XCIsXG4gICAgMTVcdCAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgMTZcdCAgICAgICAgeDogMCxcbiAgICAxN1x0ICAgICAgICB5OiAwLFxuICAgIDE4XHRcbiAgICAxOVx0ICAgICAgICBwbGFjZWhvbGRlcjogXCJWQVJJQUJMRV9PQkoua2V5XCIsXG4gICAgMjBcdCAgICAgICAgZWZmZWN0OiB7XG4gICAgMjFcdCAgICAgICAgICB1cGRhdGVfdmFyaWFibGVfa2V5OiB7XG4gICAgMjJcdCAgICAgICAgICAgIEZST006IFwiVkFSSUFCTEVfT0JKLmtleVwiLFxuICAgIDIzXHQgICAgICAgICAgICBUTzogXCJ2YXJpYWJsZV9rZXlfaW5wdXRcIlxuICAgIDI0XHQgICAgICAgICAgfVxuICAgIDI1XHQgICAgICAgIH1cbiAgICAyNlx0ICAgICAgfSxcbiAgICAyN1x0ICAgICAgYWRkX3N1YnZhcmlhYmxlX2J1dHRvbjoge1xuICAgIDI4XHQgICAgICAgIGlkOiBcImFkZF9zdWJ2YXJpYWJsZV9idXR0b25cIixcbiAgICAyOVx0ICAgICAgICBuYW1lOiBcIkFkZCBTdWJ2YXJpYWJsZVwiLFxuICAgIDMwXHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgMzFcdCAgICAgICAgeDogMSxcbiAgICAzMlx0ICAgICAgICB5OiAwLFxuICAgIDMzXHRcbiAgICAzNFx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICAzNVx0ICAgICAgICAgIGFkZF9zdWJ2YXJpYWJsZTogXCJWQVJJQUJMRV9PQkoua2V5XCJcbiAgICAzNlx0ICAgICAgICB9XG4gICAgMzdcdCAgICAgIH0sXG4gICAgMzhcdCAgICAgIGRlbGV0ZV92YXJpYWJsZV9idXR0b246IHtcbiAgICAzOVx0ICAgICAgICBpZDogXCJkZWxldGVfdmFyaWFibGVfYnV0dG9uXCIsXG4gICAgNDBcdCAgICAgICAgbmFtZTogXCJEZWxldGUgVmFyaWFibGVcIixcbiAgICA0MVx0ICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIDQyXHQgICAgICAgIHg6IDIsXG4gICAgNDNcdCAgICAgICAgeTogMCxcbiAgICA0NFx0ICAgICAgICBcbiAgICA0NVx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICA0Nlx0ICAgICAgICAgIGRlbGV0ZV92YXJpYWJsZTogXCJWQVJJQUJMRV9PQkoua2V5XCJcbiAgICA0N1x0ICAgICAgICB9XG4gICAgNDhcdCAgICAgIH0sXG4gICAgNDlcdFxuICAgIDUwXHQgICAgICAvL1JvdyAyXG4gICAgNTFcdCAgICAgIHNldHRpbmdzX2NoZWNrYm94OiB7XG4gICAgNTJcdCAgICAgICAgaWQ6IFwic2V0dGluZ3NfY2hlY2tib3hcIixcbiAgICA1M1x0ICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgNTRcdCAgICAgICAgeDogMCxcbiAgICA1NVx0ICAgICAgICB5OiAxLFxuICAgIDU2XHQgICAgICAgIFxuICAgIDU3XHQgICAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIDU4XHQgICAgICAgIG9wdGlvbnM6IHtcbiAgICA1OVx0ICAgICAgICAgIGlzX2dsb2JhbF92YXJpYWJsZTogXCJHbG9iYWwgVmFyaWFibGVcIixcbiAgICA2MFx0ICAgICAgICAgIGlzX3ZpZXdfaW5fZ3JhcGg6IFwiVmlldyBpbiBHcmFwaFwiXG4gICAgNjFcdCAgICAgICAgfVxuICAgIDYyXHQgICAgICB9LFxuICAgIDYzXHRcbiAgICA2NFx0ICAgICAgLy9Sb3cgM1xuICAgIDY1XHQgICAgICB6ZXJvX2JvdW5kX2ludGVycG9sYXRpb25fY2hlY2tib3g6IHtcbiAgICA2Nlx0ICAgICAgICBpZDogXCJ6ZXJvX2JvdW5kX2ludGVycG9sYXRpb25fY2hlY2tib3hcIixcbiAgICA2N1x0ICAgICAgICBuYW1lOiBcIlplcm8gQm91bmQgSW50ZXJwb2xhdGlvblwiLFxuICAgIDY4XHQgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICA2OVx0ICAgICAgICB4OiAwLFxuICAgIDcwXHQgICAgICAgIHk6IDIsXG4gICAgNzFcdCAgICAgICAgXG4gICAgNzJcdCAgICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICA3M1x0ICAgICAgICBvcHRpb25zOiB7XG4gICAgNzRcdCAgICAgICAgICB6ZXJvX2JvdW5kX2ludGVycG9sYXRpb246IFwiWmVyby1ib3VuZCBJbnRlcnBvbGF0aW9uXCJcbiAgICA3NVx0ICAgICAgICB9XG4gICAgNzZcdCAgICAgIH0sXG4gICAgNzdcdCAgICAgIGludGVycG9sYXRpb25fc2VsZWN0OiB7XG4gICAgNzhcdCAgICAgICAgaWQ6IFwiaW50ZXJwb2xhdGlvbl9zZWxlY3RcIixcbiAgICA3OVx0ICAgICAgICBuYW1lOiBcIkludGVycG9sYXRpb25cIixcbiAgICA4MFx0ICAgICAgICB0eXBlOiBcInNlbGVjdFwiLFxuICAgIDgxXHQgICAgICAgIHg6IDEsXG4gICAgODJcdCAgICAgICAgeTogMixcbiAgICA4M1x0XG4gICAgODRcdCAgICAgICAgb3B0aW9uczoge1xuICAgIDg1XHQgICAgICAgICAgbm9uZTogXCJOb25lXCIsXG4gICAgODZcdCAgICAgICAgICBsaW5lYXI6IFwiTGluZWFyXCIsXG4gICAgODdcdCAgICAgICAgICBjdWJpY19zcGxpbmU6IFwiQ3ViaWMgU3BsaW5lXCJcbiAgICA4OFx0ICAgICAgICB9XG4gICAgODlcdCAgICAgIH0sXG4gICAgOTBcdFxuICAgIDkxXHQgICAgICAvL1JvdyA0XG4gICAgOTJcdCAgICAgIGN1cnJlbnRfdmFyaWFibGVfdmFsdWVfaW5wdXQ6IHtcbiAgICA5M1x0ICAgICAgICBpZDogXCJjdXJyZW50X3ZhcmlhYmxlX3ZhbHVlX2lucHV0XCIsXG4gICAgOTRcdCAgICAgICAgbmFtZTogXCJDdXJyZW50IFZhbHVlXCIsXG4gICAgOTVcdCAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgOTZcdCAgICAgICAgeDogMCxcbiAgICA5N1x0ICAgICAgICB5OiAzLFxuICAgIDk4XHQgICAgICAgIFxuICAgIDk5XHQgICAgICAgIHBsYWNlaG9sZGVyOiBcIjBcIlxuICAgMTAwXHQgICAgICB9LFxuICAgMTAxXHQgICAgICB2YXJpYWJsZV9oaXN0b3J5OiB7XG4gICAxMDJcdCAgICAgICAgaWQ6IFwidmFyaWFibGVfaGlzdG9yeVwiLFxuICAgMTAzXHQgICAgICAgIG5hbWU6IFwiVmFyaWFibGUgSGlzdG9yeVwiLFxuICAgMTA0XHQgICAgICAgIHR5cGU6IFwiaHRtbFwiLFxuICAgMTA1XHQgICAgICAgIHg6IDAsXG4gICAxMDZcdCAgICAgICAgeTogNCxcbiAgIDEwN1x0ICAgICAgICBcbiAgIDEwOFx0ICAgICAgICBodG1sOiBgPGRpdiBjbGFzcyA9IFwidmFyaWFibGUtaGlzdG9yeS1jb250YWluZXJcIj48L2Rpdj5gXG4gICAxMDlcdCAgICAgIH0gLy9IVE1MIHR5cGU7IHBvcHVsYXRlcyBhbGwga2V5ZnJhbWVzIGZvciB2YXJpYWJsZSBjaGFuLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUGlUeGYxbng5czJRZmJBWTFoR0ZweiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjI3OjMyLjY0OVoiLCJyZXNwb25zZV90ZXh0IjoiQmFzZWQgb24gbXkgcmVzZWFyY2gsIEkgY2FuIG5vdyBwcm92aWRlIHlvdSB3aXRoIGEgY29tcHJlaGVuc2l2ZSBsaXN0IG9mIHRoZSBib2lsZXJwbGF0ZSBjb2RlIGZpbGVzIGluIHRoZSBwcm9qZWN0IHRoYXQgZm9sbG93IHRoZSB0ZW1wbGF0ZSBmb3IgaW1wbGVtZW50aW5nIFVJIEpTT041IGNvbmZpZ3MuIEhlcmUncyB0aGUgbGlzdDpcblxuIyMgRnJhbWV3b3JrIEZpbGVzIChDb3JlIEltcGxlbWVudGF0aW9uKVxuXG4xLiAqKkVudGl0eS1yZWxhdGVkIEZyYW1ld29yayBGaWxlczoqKlxuICAgLSBgc3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanNgIC0gSGFuZGxlcyBlbnRpdHkgYWN0aW9uc1xuICAgLSBgc3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc2AgLSBNYW5hZ2VzIGVudGl0eSBrZXlmcmFtZXNcblxuMi4gKipWYXJpYWJsZS1yZWxhdGVkIEZyYW1ld29yayBGaWxlczoqKlxuICAgLSBgc3JjL2pzL2ZyYW1ld29yay92YXJpYWJsZXMvdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanNgIC0gSGFuZGxlcyB2YXJpYWJsZSBhY3Rpb25zXG4gICAtIGBzcmMvanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9mcmFtZXdvcmsuanNgIC0gQ29yZSB2YXJpYWJsZSBmdW5jdGlvbmFsaXR5XG5cbjMuICoqR3JvdXAtcmVsYXRlZCBGcmFtZXdvcmsgRmlsZXM6KipcbiAgIC0gYHNyYy9qcy9mcmFtZXdvcmsvZ3JvdXBzL2dyb3VwX2FjdGlvbnNfZnJhbWV3b3JrLmpzYCAtIEhhbmRsZXMgZ3JvdXAgYWN0aW9uc1xuICAgLSBgc3JjL2pzL2ZyYW1ld29yay9ncm91cHMvZ3JvdXBfZnJhbWV3b3JrLmpzYCAtIENvcmUgZ3JvdXAgZnVuY3Rpb25hbGl0eVxuXG40LiAqKkJydXNoLXJlbGF0ZWQgRnJhbWV3b3JrIEZpbGVzOioqXG4gICAtIGBzcmMvanMvZnJhbWV3b3JrL2JydXNoL2JydXNoX2FjdGlvbnNfZnJhbWV3b3JrLmpzYCAtIEhhbmRsZXMgYnJ1c2ggYWN0aW9uc1xuICAgLSBgc3JjL2pzL2ZyYW1ld29yay9icnVzaC9icnVzaF9mcmFtZXdvcmsuanNgIC0gQ29yZSBicnVzaCBmdW5jdGlvbmFsaXR5XG5cbjUuICoqT3RoZXIgRnJhbWV3b3JrIEZpbGVzOioqXG4gICAtIGBzcmMvanMvZnJhbWV3b3JrL29wdGltaXNhdGlvbl9mcmFtZXdvcmsuanNgIC0gSW5pdGlhbGl6ZXMgYW5kIG9wdGltaXplcyBhbGwgdGhlIGZyYW1ld29ya3NcbiAgIC0gYHNyYy9qcy9mcmFtZXdvcmsvbWFza3MvbWFza19mcmFtZXdvcmsuanNgIC0gSGFuZGxlcyBtYXNraW5nIGZ1bmN0aW9uYWxpdHlcbiAgIC0gYHNyYy9qcy9mcmFtZXdvcmsvcGFyc2luZ19mcmFtZXdvcmsuanNgIC0gSGFuZGxlcyBwYXJzaW5nIG9mIHZhcmlhYmxlcyBhbmQgb3RoZXIgZGF0YVxuXG4jIyBDb25maWd1cmF0aW9uIEZpbGVzIChKU09ONSBDb25maWdzKVxuXG4xLiAqKkVudGl0eS1yZWxhdGVkIENvbmZpZyBGaWxlczoqKlxuICAgLSBgc3JjL2pzL2ludGVyZmFjZS9tYXAvcG9saXR5X2FjdGlvbnNfY29uZmlnLmpzYCAtIENvbmZpZyBmb3IgcG9saXR5IGFjdGlvbnNcbiAgIC0gYHNyYy9qcy9pbnRlcmZhY2UvbWFwL2tleWZyYW1lX2FjdGlvbnNfY29uZmlnLmpzYCAtIENvbmZpZyBmb3Iga2V5ZnJhbWUgYWN0aW9uc1xuICAgLSBgc3JjL2pzL2ludGVyZmFjZS9tYXAva2V5ZnJhbWVfbmF2aWdhdGlvbl9jb25maWcuanNgIC0gQ29uZmlnIGZvciBrZXlmcmFtZSBuYXZpZ2F0aW9uXG5cbjIuICoqVmFyaWFibGUtcmVsYXRlZCBDb25maWcgRmlsZXM6KipcbiAgIC0gYHNyYy9qcy9pbnRlcmZhY2UvbWFwL3ZhcmlhYmxlX2FjdGlvbnNfY29uZmlnLmpzYCAtIENvbmZpZyBmb3IgdmFyaWFibGUgYWN0aW9uc1xuXG4zLiAqKlNldHRpbmdzIENvbmZpZyBGaWxlczoqKlxuICAgLSBgc3JjL2pzL2ludGVyZmFjZS9sZWZ0X3NpZGViYXIvc2V0dGluZ3NfZ2xvYmFsX2NvbmZpZy5qc2AgLSBHbG9iYWwgc2V0dGluZ3MgY29uZmlndXJhdGlvblxuXG4jIyBVSSBGcmFtZXdvcmsgRmlsZXNcblxuMS4gKipVSS1yZWxhdGVkIEZyYW1ld29yayBGaWxlczoqKlxuICAgLSBgc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanNgIC0gQ29yZSBVSSBmdW5jdGlvbmFsaXR5XG4gICAtIGBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qc2AgLSBCcm93c2VyIFVJIGZ1bmN0aW9uYWxpdHlcbiAgIC0gYHNyYy9qcy9pbnRlcmZhY2UvdWlfaW5pdGlhbGlzYXRpb24uanNgIC0gVUkgaW5pdGlhbGl6YXRpb25cbiAgIC0gYHNyYy9qcy9pbnRlcmZhY2UvdWlfY29uZmlnLmpzYCAtIFVJIGNvbmZpZ3VyYXRpb25cblxuMi4gKipIaWVyYXJjaHkgYW5kIEdyb3VwcyBVSToqKlxuICAgLSBgc3JjL1VGL2pzL0Jyb3dzZXJVSS9oaWVyYXJjaHlfZnJhbWV3b3JrLmpzYCAtIEhpZXJhcmNoeSBVSSBmdW5jdGlvbmFsaXR5XG4gICAtIGBzcmMvVUYvanMvQnJvd3NlclVJL2dyb3Vwc19mcmFtZXdvcmsuanNgIC0gR3JvdXBzIFVJIGZ1bmN0aW9uYWxpdHlcblxuVGhlc2UgZmlsZXMgZm9sbG93IGEgY29uc2lzdGVudCBwYXR0ZXJuIHdoZXJlIHRoZSBmcmFtZXdvcmsgZmlsZXMgaW1wbGVtZW50IHRoZSBjb3JlIGZ1bmN0aW9uYWxpdHksIGFuZCB0aGUgY29uZmlnIGZpbGVzIGRlZmluZSB0aGUgVUkgSlNPTjUgY29uZmlndXJhdGlvbnMgdGhhdCBhcmUgdXNlZCBieSB0aGUgZnJhbWV3b3JrLiBUaGUgc3lzdGVtIGFwcGVhcnMgdG8gYmUgZGVzaWduZWQgYXJvdW5kIGVudGl0aWVzLCB2YXJpYWJsZXMsIGdyb3VwcywgYW5kIGJydXNoZXMsIHdpdGggYWN0aW9ucyBhbmQga2V5ZnJhbWVzIGZvciBlYWNoIG9mIHRoZXNlIGNvbXBvbmVudHMuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiJkNGVhMWRkYi1iYzZjLTRkODgtYjcwZS0wZDMwZGMyOWQxZDciLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImZhMzhjMzI0LTBmNzItNDg3Mi05MTRhLWFjYTUwNTc4NjI5YyIsInJlcXVlc3RfbWVzc2FnZSI6IkluIHRlcm1zIG9mIHRoZSBjb3JlIGltcGxlbWVudGF0aW9uLCB3aGF0IG9wdGlvbmluZyB3b3VsZCB3ZSBuZWVkIHRvIHJlZHVjZSB0aGUgYm9pbGVycGxhdGUsIGkuZS4gaG93IHdvdWxkIHdlIGNvbnN0cnVjdCBhIGZ1bmNpdG9uLWJhc2VkIGltcGxlbWVudGF0aW9uIHdpdGggYW4gb3B0aW9ucyB0aGF0IGhhcyB0aGUgZXhhY3Qgc2FtZSBmdW5jdGlvbmFsaXR5PyBSZW1lbWJlciB0aGF0IGFsbCB0aGVzZSBib2lsZXJwbGF0ZSBpbXBsZW1lbnRhdGlvbnMgZGlmZmVyIHZlcnkgc2xpZ2h0bHkuIEtlZXAgaXQgaW4gdGhlIGNvZGluZyBzdHlsZSBvZiB0aGUgcHJvamVjdCB3aGVuIGltcGxlbWVudGluZyB5b3VyIG5ldyBmdW5jdGlvbiwgYW5kIHB1dCBpdCBpbnNpZGUgdWlfZnJhbWV3b3JrLmpzIChzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcykuIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IkluIHRlcm1zIG9mIHRoZSBjb3JlIGltcGxlbWVudGF0aW9uLCB3aGF0IG9wdGlvbmluZyB3b3VsZCB3ZSBuZWVkIHRvIHJlZHVjZSB0aGUgYm9pbGVycGxhdGUsIGkuZS4gaG93IHdvdWxkIHdlIGNvbnN0cnVjdCBhIGZ1bmNpdG9uLWJhc2VkIGltcGxlbWVudGF0aW9uIHdpdGggYW4gb3B0aW9ucyB0aGF0IGhhcyB0aGUgZXhhY3Qgc2FtZSBmdW5jdGlvbmFsaXR5PyBSZW1lbWJlciB0aGF0IGFsbCB0aGVzZSBib2lsZXJwbGF0ZSBpbXBsZW1lbnRhdGlvbnMgZGlmZmVyIHZlcnkgc2xpZ2h0bHkuIEtlZXAgaXQgaW4gdGhlIGNvZGluZyBzdHlsZSBvZiB0aGUgcHJvamVjdCB3aGVuIGltcGxlbWVudGluZyB5b3VyIG5ldyBmdW5jdGlvbiwgYW5kIHB1dCBpdCBpbnNpZGUgdWlfZnJhbWV3b3JrLmpzIChzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcykuIn1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFZOUU1NGh3R1hYeG0yRzRib044eDlSIiwidG9vbF9uYW1lIjoidmlldyIsImlucHV0X2pzb24iOiJ7XCJwYXRoXCI6IFwic3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanNcIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIGhlbHAgeW91IGNyZWF0ZSBhIGZ1bmN0aW9uLWJhc2VkIGltcGxlbWVudGF0aW9uIHRvIHJlZHVjZSB0aGUgYm9pbGVycGxhdGUgY29kZSBhY3Jvc3MgdGhlc2UgZnJhbWV3b3JrIGZpbGVzLiBMZXQgbWUgZmlyc3QgZXhhbWluZSB0aGUgYHVpX2ZyYW1ld29yay5qc2AgZmlsZSB0byB1bmRlcnN0YW5kIGl0cyBjdXJyZW50IHN0cnVjdHVyZSBhbmQgY29kaW5nIHN0eWxlLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJJbiB0ZXJtcyBvZiB0aGUgY29yZSBpbXBsZW1lbnRhdGlvbiwgd2hhdCBvcHRpb25pbmcgd291bGQgd2UgbmVlZCB0byByZWR1Y2UgdGhlIGJvaWxlcnBsYXRlLCBpLmUuIGhvdyB3b3VsZCB3ZSBjb25zdHJ1Y3QgYSBmdW5jaXRvbi1iYXNlZCBpbXBsZW1lbnRhdGlvbiB3aXRoIGFuIG9wdGlvbnMgdGhhdCBoYXMgdGhlIGV4YWN0IHNhbWUgZnVuY3Rpb25hbGl0eT8gUmVtZW1iZXIgdGhhdCBhbGwgdGhlc2UgYm9pbGVycGxhdGUgaW1wbGVtZW50YXRpb25zIGRpZmZlciB2ZXJ5IHNsaWdodGx5LiBLZWVwIGl0IGluIHRoZSBjb2Rpbmcgc3R5bGUgb2YgdGhlIHByb2plY3Qgd2hlbiBpbXBsZW1lbnRpbmcgeW91ciBuZXcgZnVuY3Rpb24sIGFuZCBwdXQgaXQgaW5zaWRlIHVpX2ZyYW1ld29yay5qcyAoc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMpLiJ9fSx7ImlkIjoxLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjMyOjM3LjY4NloiLCJyZXNwb25zZV90ZXh0IjoiSSdsbCBoZWxwIHlvdSBjcmVhdGUgYSBmdW5jdGlvbi1iYXNlZCBpbXBsZW1lbnRhdGlvbiB0byByZWR1Y2UgdGhlIGJvaWxlcnBsYXRlIGNvZGUgYWNyb3NzIHRoZXNlIGZyYW1ld29yayBmaWxlcy4gTGV0IG1lIGZpcnN0IGV4YW1pbmUgdGhlIGB1aV9mcmFtZXdvcmsuanNgIGZpbGUgdG8gdW5kZXJzdGFuZCBpdHMgY3VycmVudCBzdHJ1Y3R1cmUgYW5kIGNvZGluZyBzdHlsZS5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIyNDI0YmJiYy00ZTliLTQyYzItODZjZS01ZTU5NDI1YTY0NDciLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEyOXBNemhVUURiM3BtMnRyZWRHR3NrIiwidG9vbF9uYW1lIjoidmlldyIsImlucHV0X2pzb24iOiJ7XCJwYXRoXCI6IFwic3JjL2pzL3VpX2ZyYW1ld29yay5qc1wifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBjaGVjayB0aGUgY29ycmVjdCBwYXRoIGZvciB0aGUgVUkgZnJhbWV3b3JrIGZpbGU6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIG5vdCBmb3VuZDogc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMuIERpZCB5b3UgbWVhbiBvbmUgb2YgdGhlc2U/IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLCBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcyIsImlzX2Vycm9yIjp0cnVlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxWTlFNTRod0dYWHhtMkc0Ym9OOHg5UiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjMyOjQ0LjU0MloiLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIGNoZWNrIHRoZSBjb3JyZWN0IHBhdGggZm9yIHRoZSBVSSBmcmFtZXdvcmsgZmlsZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIzZmU0M2ViNC0wYTc0LTQzYWEtODMzYy0xOWY1M2Y3NTZmN2MiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFXZkFZb040Y0xFOU1pQVFNdUpXNHpjIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIHRoZSBleGFjdCBwYXRoIG9mIHVpX2ZyYW1ld29yay5qcyBpbiB0aGUgcHJvamVjdFwifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSB0cnkgdGhlIHN1Z2dlc3RlZCBwYXRoOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBub3QgZm91bmQ6IHNyYy9qcy91aV9mcmFtZXdvcmsuanMuIERpZCB5b3UgbWVhbiBvbmUgb2YgdGhlc2U/IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLCBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcyIsImlzX2Vycm9yIjp0cnVlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMjlwTXpoVVFEYjNwbTJ0cmVkR0dzayJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjMyOjQ3LjY4OFoiLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIHRyeSB0aGUgc3VnZ2VzdGVkIHBhdGg6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNzVkZmM1ODQtOWYzOS00YTU5LThkMTEtN2IwNmFiMjViNTY4IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxS1U5TnJDcmZkWTlBa2FSeVNLc1l4dSIsInRvb2xfbmFtZSI6InZpZXciLCJpbnB1dF9qc29uIjoie1wicGF0aFwiOiBcInNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzXCJ9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEknbGwgbG9vayBhdCB0aGUgY29ycmVjdCBVSSBmcmFtZXdvcmsgZmlsZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9pbmRleC5odG1sXG4uLi5cbiAgICAxOFx0XG4gICAgMTlcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2Nzcy9sZWZ0X3NpZGViYXIvaGllcmFyY2h5X2NvbnRhaW5lci9sZWZ0X3NpZGViYXIuY3NzXCIgdHlwZSA9IFwidGV4dC9jc3NcIj5cbiAgICAyMFx0XHRcdDxsaW5rIHJlbCA9IFwic3R5bGVzaGVldFwiIGhyZWYgPSBcIi4vY3NzL2xlZnRfc2lkZWJhci9kYXRlX2NvbnRhaW5lci9kYXRlX3VpLmNzc1wiIHR5cGUgPSBcInRleHQvY3NzXCI+XG4gICAgMjFcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2Nzcy9sZWZ0X3NpZGViYXIvZW50aXRpZXNfY29udGFpbmVyL2VudGl0eV9wYW5lbC5jc3NcIiB0eXBlID0gXCJ0ZXh0L2Nzc1wiPlxuICAgIDIyXHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9jc3MvbGVmdF9zaWRlYmFyL2hpZXJhcmNoeV9jb250YWluZXIvZmlsZS9maWxlX3VpLmNzc1wiIHR5cGUgPSBcInRleHQvY3NzXCI+XG4gICAgMjNcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2Nzcy9sZWZ0X3NpZGViYXIvaGllcmFyY2h5X2NvbnRhaW5lci9oaWVyYXJjaHkvZ3JvdXBfYWN0aW9uc191aS5jc3NcIiB0eXBlID0gXCJ0ZXh0L2Nzc1wiPlxuICAgIDI0XHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9jc3MvbGVmdF9zaWRlYmFyL2hpZXJhcmNoeV9jb250YWluZXIvaGllcmFyY2h5L2hpZXJhcmNoeV9jb2xvdXJzLmNzc1wiIHR5cGUgPSBcInRleHQvY3NzXCI+XG4uLi5cbiAgICA0MVx0XG4gICAgNDJcdFx0XHQ8IS0tIEhUTUwyQ2FudmFzLCBMZWFmbGV0LmpzLCBMZWFmbGV0IEdlb2Rlc3ksIE1hcHRhbGtzL0dMLCBTb3J0YWJsZSwgVGhyZWUuanMsIFRpcHB5LmpzLCBUdXJmLmpzIC0tPlxuICAgIDQzXHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9saWJyYXJpZXMvbWFwdGFsa3MuY3NzXCI+XG4gICAgNDRcdFx0XHQ8c2NyaXB0IHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiIHNyYyA9IFwiLi9saWJyYXJpZXMvbWFwdGFsa3MubWluLmpzXCI+PC9zY3JpcHQ+XG4gICAgNDVcdFx0XHQ8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBzcmMgPSBcIi4vbGlicmFyaWVzL2RhdC5ndWkubWluLmpzXCI+PC9zY3JpcHQ+XG4gICAgNDZcdFx0XHRcdDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cIi4vbGlicmFyaWVzL21hcHRhbGtzZ2wuanNcIj48L3NjcmlwdD5cbiAgICA0N1x0XHRcdFx0PHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjPVwiLi9saWJyYXJpZXMvdGhyZWUubWluLmpzXCI+PC9zY3JpcHQ+XG4gICAgNDhcdFx0XHRcdDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cIi4vbGlicmFyaWVzL0dMVEZMb2FkZXIuanNcIj48L3NjcmlwdD5cbiAgICA0OVx0XHRcdFx0PHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjPVwiLi9saWJyYXJpZXMvbWFwdGFsa3MudGhyZWUuanNcIj48L3NjcmlwdD5cbiAgICA1MFx0XHRcdFx0PHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjPVwiLi9saWJyYXJpZXMvc3RhdHMubWluLmpzXCI+PC9zY3JpcHQ+XG4gICAgNTFcdFx0XHQ8c2NyaXB0IHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiIHNyYyA9IFwiLi9saWJyYXJpZXMvbGVhZmxldC5taW4uanNcIj48L3NjcmlwdD5cbi4uLlxuICAgIDYwXHRcbiAgICA2MVx0XHRcdDwhLS0gQ29sb3JwaWNrZXIsIExlYWRlckxpbmUsIExlYWZsZXQsIFNvcnRhYmxlLCBUaXBweSwgVHVyZiBDU1MgLS0+XG4gICAgNjJcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2xpYnJhcmllcy9jb2xvcnBpY2tlci5jc3NcIj5cbiAgICA2M1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2xpYnJhcmllcy9jb2xvcnBpY2tlci5paWZlLmpzXCI+PC9zY3JpcHQ+XG4gICAgNjRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9saWJyYXJpZXMvbGVhZGVyLWxpbmUubWluLmpzXCI+PC9zY3JpcHQ+XG4gICAgNjVcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2xpYnJhcmllcy9sZWFmbGV0LmNzc1wiPlxuICAgIDY2XHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9saWJyYXJpZXMvc2NhbGUuY3NzXCIvPlxuICAgIDY3XHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9saWJyYXJpZXMvb2wuY3NzXCIgdHlwZT1cInRleHQvY3NzXCI+XG4gICAgNjhcdFx0XHRcbiAgICA2OVx0XHRcdDwhLS0gVUYsIENTUyBJbXBvcnRzIC0tPlxuICAgIDcwXHQgICAgPGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiVUYvY3NzL0Jyb3dzZXJVSS9jb250ZXh0X21lbnVzLmNzc1wiPlxuICAgIDcxXHQgICAgPGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiVUYvY3NzL0Jyb3dzZXJVSS93aW5kb3dzLmNzc1wiPlxuICAgIDcyXHRcbiAgICA3M1x0ICAgIDwhLS0gVUYsIEpTIEltcG9ydHMgLS0+XG4gICAgNzRcdCAgICA8c2NyaXB0IHNyYyA9IFwiVUYvanMvQUJSUy9mcmFtZXdvcmtfQUJSUy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuLi4uXG4gICAgOTJcdFxuICAgIDkzXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS9iYXNpY19odG1sLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAgOTRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvQnJvd3NlclVJL2NvbnRleHRfbWVudXNfaGVscGVyX2Z1bmN0aW9ucy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgIDk1XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS9jb250ZXh0X21lbnVzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAgOTZcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvQnJvd3NlclVJL2NvbnRleHRfbWVudXNfcmVhZC5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgIDk3XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS9jb250ZXh0X21lbnVzX3dyaXRlLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAgOThcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvQnJvd3NlclVJL2dyb3Vwc19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgICA5OVx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9Ccm93c2VyVUkvaGllcmFyY2h5X2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTAwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbi4uLlxuICAgMTE2XHRcbiAgIDExN1x0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9udW1iZXJzL2Jhc2ljX251bWJlcnMuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDExOFx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9udW1iZXJzL3Jhbmdlc19udW1iZXJzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAxMTlcdFxuICAgMTIwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL29iamVjdHMvYmFzaWNfb2JqZWN0cy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTIxXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL29iamVjdHMvbWF0aHNfb2JqZWN0cy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTIyXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL29iamVjdHMvc21hcnRfc2VhcmNoX29iamVjdHMuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDEyM1x0XG4gICAxMjRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvcGF0aGZpbmRpbmcvYV9zdGFyX3BhdGhmaW5kaW5nLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAxMjVcdFxuICAgMTI2XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3N0YXRpc3RpY3MvYmFzaWNfZGVtb2dyYXBoaWNzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAxMjdcdFxuICAgMTI4XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3N0cmluZ3MvYmFzaWNfc3RyaW5ncy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTI5XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3N0cmluZ3MvY2xlYW5pbmdfc3RyaW5ncy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTMwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3N0cmluZ3Mvc3BsaXRfc3RyaW5ncy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTMxXHRcbiAgIDEzMlx0XHRcdDwhLS0gSW1wb3J0IGNvbmZpZyAtLT5cbiAgIDEzM1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS91aV9jb25maWcuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDEzNFx0XHQ8L2hlYWQ+XG4gICAxMzVcdFx0PGJvZHk+XG4gICAxMzZcdFx0XHQ8IS0tIE1hcCBjb250YWluZXIgLS0+XG4gICAxMzdcdFx0XHQ8ZGl2IGlkID0gXCJtYXBcIiBjbGFzcyA9IFwibWFwLWNvbnRhaW5lclwiPjwvZGl2PlxuICAgMTM4XHRcbiAgIDEzOVx0XHRcdDwhLS0gVG9wYmFyIFVJIC0tPlxuICAgMTQwXHRcdFx0PGRpdiBpZCA9IFwidG9wYmFyXCIgY2xhc3MgPSBcInRvcGJhci1jb250YWluZXJcIj5cbiAgIDE0MVx0XHRcdFx0PHVsPlxuICAgMTQyXHRcdFx0XHRcdDxsaSBjbGFzcyA9IFwiZmlsZVwiPjxhIGhyZWYgPSBcIiNcIj5GaWxlPC9hPjwvbGk+XG4gICAxNDNcdFx0XHRcdFx0PGxpIGNsYXNzID0gXCJ1bmRvX3JlZG9cIj48YSBocmVmID0gXCIjXCI+VW5kby9SZWRvPC9hPjwvbGk+XG4gICAxNDRcdFx0XHRcdFx0PGxpIGNsYXNzID0gXCJtYXAgYWN0aXZlXCI+PGEgaHJlZiA9IFwiI1wiPk1hcDwvYT48L2xpPlxuICAgMTQ1XHRcdFx0XHQ8L3VsPlxuLi4uXG4gICAxNzFcdFxuICAgMTcyXHRcdFx0XHRcdFx0PCEtLSBGaWxlIE1hbmFnZW1lbnQgQnV0dG9ucyAtLT5cbiAgIDE3M1x0XHRcdFx0XHRcdDxkaXYgaWQgPSBcImZpbGUtaW50ZXJhY3Rpb24tY29udGFpbmVyXCI+XG4gICAxNzRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlID0gXCJ0ZXh0XCIgaWQgPSBcInNhdmUtZmlsZS1pbnB1dFwiIHZhbHVlID0gXCJhdXRvc2F2ZS5qc1wiPjwvaW5wdXQ+XG4gICAxNzVcdFx0XHRcdFx0XHRcdDxidXR0b24gaWQgPSBcInNhdmUtZmlsZS1idXR0b25cIj5TYXZlPC9idXR0b24+XG4gICAxNzZcdFx0XHRcdFx0XHQ8L2Rpdj5cbiAgIDE3N1x0XHRcdFx0XHRcdDxkaXYgaWQgPSBcImZpbGUtaGllcmFyY2h5XCIgY2xhc3MgPSBcImhpZXJhcmNoeVwiPlxuICAgMTc4XHRcdFx0XHRcdFx0PC9kaXY+XG4gICAxNzlcdFx0XHRcdFx0PC9kaXY+XG4gICAxODBcdFx0XHRcdDwvZGl2PlxuICAgMTgxXHRcdFx0XHQ8ZGl2IGlkID0gXCJ1bmRvLXJlZG8tdGFiXCIgY2xhc3MgPSBcInVuZG8tcmVkby1jb250YWluZXIgaGlkZGVuXCIgcGFnZSA9IFwidHJ1ZVwiPlxuICAgMTgyXHRcdFx0XHRcdDxkaXYgaWQgPSBcInVuZG8tcmVkby1jb250YWluZXJcIiBjbGFzcyA9IFwiaGllcmFyY2h5LWJvZHktY29udGFpbmVyXCI+XG4gICAxODNcdFx0XHRcdFx0XHQ8ZGl2IGlkID0gXCJ1bmRvLXJlZG8taGVhZGVyXCIgY2xhc3MgPSBcImhpZXJhcmNoeS1oZWFkZXJcIj5VTkRPL1JFRE88L2Rpdj5cbiAgIDE4NFx0XHRcdFx0XHRcdDxociBjbGFzcyA9IFwiaGllcmFyY2h5LWhlYWRlci1saW5lXCI+XG4gICAxODVcdFx0XHRcdFx0XHQ8YnI+XG4gICAxODZcdFxuICAgMTg3XHRcdFx0XHRcdFx0PCEtLSBVbmRvL1JlZG8gQ29udGFpbmVyIC0tPlxuICAgMTg4XHRcdFx0XHRcdFx0PGRpdiBjbGFzcyA9IFwidW5kby1yZWRvLWNhbnZhcy1jb250YWluZXJcIj5cbiAgIDE4OVx0XHRcdFx0XHRcdFx0PGNhbnZhcyBpZCA9IFwidW5kby1yZWRvLXVpLWNvbnRhaW5lclwiPjwvY2FudmFzPlxuICAgMTkwXHRcdFx0XHRcdFx0PC9kaXY+XG4uLi5cbiAgIDI3NVx0XG4gICAyNzZcdFx0XHRcdDwhLS0gQnJ1c2ggYWN0aW9ucyBjb250YWluZXIgLS0+XG4gICAyNzdcdFx0XHRcdDxkaXYgaWQgPSBcImJydXNoLWFjdGlvbnMtY29udGV4dC1tZW51XCIgY2xhc3MgPSBcImJydXNoLWFjdGlvbnMtY29udGFpbmVyXCI+PC9kaXY+XG4gICAyNzhcdFx0XHQ8L2Rpdj5cbiAgIDI3OVx0XG4gICAyODBcdFx0XHQ8IS0tIFBvcHVwIENvbnRhaW5lcnMgLS0+XG4gICAyODFcdFx0XHQ8ZGl2IGlkID0gXCJlbnRpdHktcGFuZWwtY29udGFpbmVyXCIgY2xhc3MgPSBcImVudGl0eS1wYW5lbC1jb250YWluZXIgYm90dG9tLWxlZnRcIj5cbiAgIDI4Mlx0XHRcdDwvZGl2PlxuICAgMjgzXHRcbiAgIDI4NFx0XHRcdDwhLS0gSW1wb3J0IEFCUlMgYW5kIFVuZG8vUmVkbyAtLT5cbiAgIDI4NVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9BQlJTL3NhdmVfbG9hZC5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMjg2XHRcbiAgIDI4N1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9hY3Rpb25zL3VuZG9fcmVkb19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDI4OFx0XHRcdFx0PCEtLSBFbnRpdHkgQWN0aW9ucyAtLT5cbiAgIDI4OVx0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2FjdGlvbnMvZW50aXRpZXMvYXBwbHlfcGF0aF90b19rZXlmcmFtZXMuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDI5MFx0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2FjdGlvbnMvZW50aXRpZXMvY2xlYW5fa2V5ZnJhbWVzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAyOTFcdFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9hY3Rpb25zL2VudGl0aWVzL2VkaXRfZW50aXR5X25vZGVzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAyOTJcdFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9hY3Rpb25zL2VudGl0aWVzL3NldF9lbnRpdHlfZmlsbC5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMjkzXHRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy9lbnRpdGllcy9zZXRfZW50aXR5X3N0cm9rZS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMjk0XHRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy9lbnRpdGllcy9zZXRfZW50aXR5X3pvb21fbGV2ZWwuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbi4uLlxuICAgMjk3XHRcbiAgIDI5OFx0XHRcdDwhLS0gSW1wb3J0IGZyYW1ld29yayAtLT5cbiAgIDI5OVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9icnVzaC9icnVzaF9hY3Rpb25zX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzAwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2JydXNoL2JydXNoX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzAxXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2Nvb3Jkcy9jb29yZHNfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMDJcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvZGF0ZS9kYXRlX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzAzXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzA0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwNVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfZGVsdGFfYWN0aW9uc19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwNlx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzA3XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2dyb3Vwcy9ncm91cF9hY3Rpb25zX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzA4XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2dyb3Vwcy9ncm91cF9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwOVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9oaXN0b3J5L2hpc3RvcnlfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMTBcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvbWFwL3BvbGl0eV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMxMVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9tYXAvcHJvamVjdGlvbl9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMxMlx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9tYXAvdGlsZV9sYXllcnNfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMTNcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvbWFwL3R1cmZfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMTRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvbWFwL3JlbmRlcmluZ19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMxNVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9tYXNrcy9tYXNrX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzE2XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzE3XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMxOFx0XG4gICAzMTlcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvb3B0aW1pc2F0aW9uX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzIwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL3BhcnNpbmdfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMjFcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvc2V0dGluZ3NfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMjJcdFxuICAgMzIzXHRcdFx0PCEtLSBJbXBvcnQgbG9jYWxpc2F0aW9uIC0tPlxuICAgMzI0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL21hcC9lbnRpdHlfbG9jYWxpc2F0aW9uLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMjVcdFxuICAgMzI2XHRcdFx0PCEtLSBJbXBvcnQgVUkgLS0+XG4gICAzMjdcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbGVmdF9zaWRlYmFyL2RhdGVfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMyOFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9sZWZ0X3NpZGViYXIvZmlsZV91aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzI5XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL2xlZnRfc2lkZWJhci91bmRvX3JlZG9fdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbi4uLlxuICAgMzM5XHRcbiAgIDM0MFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZW50aXR5X2FjdGlvbnNfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0MVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZW50aXR5X2N1c3RvbWlzYXRpb25fdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0Mlx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZW50aXR5X2tleWZyYW1lc191aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzQzXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL21hcC9lbnRpdHlfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0NFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZW50aXR5X3ZhcmlhYmxlc191aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzQ1XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL21hcC9ncmFwaF91aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzQ2XHRcbiAgIDM0N1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvbWFwX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzQ4XHRcbiAgIDM0OVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9yaWdodF9zaWRlYmFyL2JydXNoX2FjdGlvbnNfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM1MFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9yaWdodF9zaWRlYmFyL21hcF9icnVzaF91aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PiA8IS0tIFtXSVBdIC0gREVQUkVDQVRFIC0tPlxuICAgMzUxXHRcbiAgIDM1Mlx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS90b3BiYXIvdG9wYmFyX3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNTNcdFxuICAgMzU0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzU1XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL3VpX2luaXRpYWxpc2F0aW9uLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4uLi5cblBhdGg6IHNyYy9qcy9zdGFydHVwLmpzXG4gICAgIDFcdC8vSW1wb3J0IG1vZHVsZXNcbiAgICAgMlx0d2luZG93LmNoaWxkX3Byb2Nlc3MgPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTtcbiAgICAgM1x0d2luZG93LmZzID0gcmVxdWlyZShcImZzXCIpO1xuICAgICA0XHR3aW5kb3cucGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuICAgICA1XHRcbiAgICAgNlx0Ly9Mb2FkIGNvbmZpZ1xuICAgICA3XHR7XG4gICAgIDhcdCAgZ2xvYmFsLmxvYWRfb3JkZXIgPSB7XG4gICAgIDlcdCAgICBsb2FkX2RpcmVjdG9yaWVzOiBbXG4gICAgMTBcdCAgICAgIFwiY29uZmlnXCIsXG4gICAgMTFcdCAgICAgIFwiLi9qcy9pbnRlcmZhY2UvKl9jb25maWcuanNcIixcbiAgICAxMlx0ICAgICAgXCJVRlwiXG4gICAgMTNcdCAgICBdLFxuICAgIDE0XHQgICAgbG9hZF9maWxlczogW1xuICAgIDE1XHQgICAgICBcIi5jb25maWdfYmFja2VuZC5qc1wiXG4gICAgMTZcdCAgICBdXG4gICAgMTdcdCAgfTtcbiAgICAxOFx0ICBsb2FkQ29uZmlnKCk7XG4gICAgMTlcdH1cbiAgICAyMFx0XG4gICAgMjFcdC8vSW5pdCBnbG9iYWxcbiAgICAyMlx0e1xuICAgIDIzXHQgIC8vRGVjbGFyZSBsb2NhbCBpbml0aWFsaXNhdGlvbiBjb25zdGFudHNcbiAgICAyNFx0ICB2YXIgY3VycmVudF9kYXRlID0gbmV3IERhdGUoKTtcbiAgICAyNVx0XG4gICAgMjZcdCAgLy9Jbml0aWFsaXNlIGdsb2JhbC5pbnRlcmZhY2VzXG4gICAgMjdcdCAgZ2xvYmFsLmludGVyZmFjZXMgPSB7fTtcbiAgICAyOFx0XG4gICAgMjlcdCAgLy9Jbml0aWFsaXNlIGdsb2JhbC5tYWluXG4gICAgMzBcdCAgZ2xvYmFsLm1haW4gPSB7fTtcbi4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS91aV9jb25maWcuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIGNvbmZpZyBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgIDJcdGlmICghZ2xvYmFsLmNvbmZpZykgZ2xvYmFsLmNvbmZpZyA9IHt9O1xuICAgICAzXHRcbiAgICAgNFx0Ly9Jbml0aWFsaXNlIGhlbHBlciBmdW5jdGlvbnNcbiAgICAgNVx0e1xuICAgICA2XHQgIGZ1bmN0aW9uIGdldFVJU2VsZWN0b3IgKGFyZzBfa2V5LCBhcmcxX3JldHVybl9hcnJheSkge1xuICAgICA3XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgICA4XHQgICAgdmFyIGtleSA9IGFyZzBfa2V5O1xuICAgICA5XHQgICAgdmFyIHJldHVybl9hcnJheSA9IGFyZzFfcmV0dXJuX2FycmF5O1xuICAgIDEwXHRcbiAgICAxMVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxMlx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgICAxM1x0ICAgIHZhciBjb21tb25fc2VsZWN0b3JzID0gY29tbW9uX2RlZmluZXMuc2VsZWN0b3JzO1xuICAgIDE0XHRcbiAgICAxNVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDE2XHQgICAgaWYgKGNvbW1vbl9zZWxlY3RvcnNba2V5XSkge1xuICAgIDE3XHQgICAgICByZXR1cm4gKCFyZXR1cm5fYXJyYXkpID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb21tb25fc2VsZWN0b3JzW2tleV0pIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb21tb25fc2VsZWN0b3JzW2tleV0pO1xuICAgIDE4XHQgICAgfSBlbHNlIHtcbiAgICAxOVx0ICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IGZpbmQgc2VsZWN0b3IgaW4gY29uZmlnLmRlZmluZXMuY29tbW9uOmAsIGtleSk7XG4gICAgMjBcdCAgICB9XG4gICAgMjFcdCAgfVxuICAgIDIyXHR9XG4uLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvbGVmdF9zaWRlYmFyL3NldHRpbmdzX2dsb2JhbF9jb25maWcuanNcbiAgICAgMVx0Y29uZmlnLnNldHRpbmdzLmdsb2JhbCA9IHtcbiAgICAgMlx0ICBvcmRlcjogMSxcbiAgICAgM1x0ICBcbiAgICAgNFx0ICBnbG9iYWxfc2V0dGluZ3NfaHRtbDoge1xuICAgICA1XHQgICAgaWQ6IGBnbG9iYWxfc2V0dGluZ3NfaGVhZGVyYCxcbiAgICAgNlx0ICAgIHR5cGU6IFwiaHRtbFwiLFxuICAgICA3XHRcbiAgICAgOFx0ICAgIGlubmVySFRNTDogYFxuICAgICA5XHQgICAgICA8ZGl2IGNsYXNzID0gXCJwcmltYXJ5LWhlYWRlclwiPkdsb2JhbCBTZXR0aW5nczwvZGl2PlxuICAgIDEwXHQgICAgYCxcbiAgICAxMVx0ICB9LFxuICAgIDEyXHQgIGdsb2JhbF9kZWZhdWx0X3NhdmVfZmlsZToge1xuICAgIDEzXHQgICAgaWQ6IFwiZ2xvYmFsX2RlZmF1bHRfc2F2ZV9maWxlXCIsXG4gICAgMTRcdCAgICB0eXBlOiBcInRleHRcIixcbiAgICAxNVx0XG4gICAgMTZcdCAgICBuYW1lOiBcIkRlZmF1bHQgc2F2ZSBmaWxlIG9uIHN0YXJ0dXA6XCIsXG4gICAgMTdcdCAgICBhdHRyaWJ1dGVzOiB7XG4gICAgMThcdCAgICAgIHZhbHVlOiBcIi4vYXV0b3NhdmUuanNcIlxuICAgIDE5XHQgICAgfVxuICAgIDIwXHQgIH0sXG4gICAgMjFcdCAgZ2xvYmFsX3VpX2xheW91dF90b2dnbGVzOiB7IC8vW1dJUF0gLSBGdW5jdGlvbmFsaXR5IG5vdCB5ZXQgYWRkZWRcbiAgICAyMlx0ICAgIGlkOiBgZ2xvYmFsX3VpX2xheW91dF90b2dnbGVzYCxcbiAgICAyM1x0ICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAyNFx0XG4gICAgMjVcdCAgICBvcHRpb25zOiB7XG4gICAgMjZcdCAgICAgIFwiYW5jaG9yX2VudGl0eV9wb3B1cHNcIjogXCJBbmNob3IgRW50aXR5IFBvcHVwc1wiLFxuICAgIDI3XHQgICAgICBcImhpZGVfZW50aXR5X2RhdGFfZ3JhcGhfYnlfZGVmYXVsdFwiOiBcIkhpZGUgRW50aXR5IERhdGEgR3JhcGggYnkgRGVmYXVsdFwiXG4gICAgMjhcdCAgICB9XG4gICAgMjlcdCAgfSxcbiAgICAzMFx0ICBkb2N1bWVudF9zZXR0aW5nc19odG1sOiB7XG4gICAgMzFcdCAgICBpZDogYGRvY3VtZW50X3NldHRpbmdzX2hlYWRlcmAsXG4gICAgMzJcdCAgICB0eXBlOiBcImh0bWxcIixcbiAgICAzM1x0XG4gICAgMzRcdCAgICBpbm5lckhUTUw6IGBcbiAgICAzNVx0ICAgICAgPGRpdiBjbGFzcyA9IFwicHJpbWFyeS1oZWFkZXJcIj5Eb2N1bWVudCBTZXR0aW5nczwvZGl2PlxuICAgIDM2XHQgICAgYCxcbiAgICAzN1x0ICB9XG4gICAgMzhcdH07Li4uXG5QYXRoOiBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKipcbiAgICAgNFx0ICAgKiBjcmVhdGVTZWN0aW9uKCkgLSBDcmVhdGVzIGEgZm9sZGFibGUgZWxlbWVudCB0aGF0IGNhbiBiZSBtaW5pbWlzZWQvZXhwYW5kZWQuXG4gICAgIDVcdCAgICogQHBhcmFtIHtPYmplY3R9IFthcmcwX29wdGlvbnNdXG4gICAgIDZcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLmV4cGFuZF9jbGFzcz1cInVmLWV4cGFuZGVkXCJdIC0gVGhlIGNsYXNzIHRvIGFkZCB3aGVuIHRoZSBzZWN0aW9uIGlzIGV4cGFuZGVkLlxuICAgICA3XHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5taW5pbWlzZV9jbGFzcz1cInVmLW1pbmltaXNlZFwiXSAtIFRoZSBjbGFzcyB0byBhZGQgd2hlbiB0aGUgc2VjdGlvbiBpcyBjb2xsYXBzZWQuXG4gICAgIDhcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNlbGVjdG9yXSAtIFRoZSBzZWxlY3RvciBvZiB0aGUgZWxlbWVudHMgdGhhdCBjYW4gYmUgbWluaW1pc2VkL2V4cGFuZGVkLiBOb3RlIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgY292ZXJlZCBieSB0aGUgc2VsZWN0b3Igd2lsbCBoYXZlIHRoZSBjaGV2cm9uIGNvbnRyb2xsZXIuXG4gICAgIDlcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNlbGVjdG9yX2NsYXNzPVwidWYtY2hldnJvbiBtaW5pbWlzZVwiXSAtIFRoZSBjbGFzcyB0byBhZGQgdG8gdGhlIGNoZXZyb24gY29udHJvbGxlci5cbiAgICAxMFx0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMuc3JjPVwiLi9VRi9nZngvY2hldnJvbl9pY29uLnBuZ1wiXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGNoZXZyb24gaW1hZ2UuXG4gICAgMTFcdCAgICogIEBwYXJhbSB7Qm9vbGVhbn0gW2FyZzBfb3B0aW9ucy5pc19jb2xsYXBzZWQ9ZmFsc2VdIC0gV2hldGhlciB0aGUgc2VjdGlvbiBzaG91bGQgc3RhcnQgaW4gYSBjb2xsYXBzZWQgc3RhdGUuXG4gICAgMTJcdCAgICovXG4gICAgMTNcdCAgZnVuY3Rpb24gY3JlYXRlU2VjdGlvbiAoYXJnMF9vcHRpb25zKSB7XG4gICAgMTRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgMTVcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAgMTZcdFxuICAgIDE3XHQgICAgLy9Jbml0aWFsaXNlIG9wdGlvbnNcbiAgICAxOFx0ICAgIGlmICghb3B0aW9ucy5leHBhbmRfY2xhc3MpIG9wdGlvbnMuZXhwYW5kX2NsYXNzID0gXCJ1Zi1leHBhbmRlZFwiO1xuICAgIDE5XHQgICAgaWYgKCFvcHRpb25zLm1pbmltaXNlX2NsYXNzKSBvcHRpb25zLm1pbmltaXNlX2NsYXNzID0gXCJ1Zi1taW5pbWlzZWRcIjtcbiAgICAyMFx0ICAgIGlmICghb3B0aW9ucy5zZWxlY3Rvcikgb3B0aW9ucy5zZWxlY3RvciA9IFwiXCI7XG4gICAgMjFcdCAgICBpZiAoIW9wdGlvbnMuc2VsZWN0b3JfY2xhc3MpIG9wdGlvbnMuc2VsZWN0b3JfY2xhc3MgPSBcInVmLWNoZXZyb24gbWluaW1pc2VcIjtcbiAgICAyMlx0ICAgIGlmICghb3B0aW9ucy5zcmMpIG9wdGlvbnMuc3JjID0gXCIuL1VGL2dmeC9jaGV2cm9uX2ljb24ucG5nXCI7XG4gICAgMjNcdCAgICBpZiAob3B0aW9ucy5pc19jb2xsYXBzZWQgPT09IHVuZGVmaW5lZCkgb3B0aW9ucy5pc19jb2xsYXBzZWQgPSBmYWxzZTtcbiAgICAyNFx0XG4gICAgMjVcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMjZcdCAgICB2YXIgYWxsX2NvbGxhcHNpYmxlX2VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgLy9TZXQgY2hldnJvbiBpbWFnZSBvbiBmaXJzdCBjb2xsYXBzaWJsZSBlbFxuICAgIDI5XHQgICAgdmFyIGNoZXZyb25fYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAzMFx0ICAgICAgY2hldnJvbl9idG4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgb3B0aW9ucy5zZWxlY3Rvcl9jbGFzcyk7XG4gICAgMzFcdCAgICAgIGNoZXZyb25fYnRuLnNldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiLCBmYWxzZSk7XG4gICAgMzJcdCAgICAgIGNoZXZyb25fYnRuLnNyYyA9IG9wdGlvbnMuc3JjO1xuICAgIDMzXHRcbiAgICAzNFx0ICAgIC8vQWRkIGNoZXZyb24gdG8gZmlyc3QgZWxlbWVudCBpZiBpdCBleGlzdHNcbiAgICAzNVx0ICAgIGlmIChhbGxfY29sbGFwc2libGVfZWxzLmxlbmd0aCA+IDApIHtcbiAgICAzNlx0ICAgICAgdmFyIGZpcnN0X2VsID0gYWxsX2NvbGxhcHNpYmxlX2Vsc1swXTtcbiAgICAzN1x0ICAgICAgZmlyc3RfZWwuYXBwZW5kQ2hpbGQoY2hldnJvbl9idG4sIGZpcnN0X2VsLmZpcnN0Q2hpbGQpO1xuICAgIDM4XHQgICAgfVxuLi4uXG5QYXRoOiBzcmMvVUYvanMvQUJSUy9mcmFtZXdvcmtfQUJSUy5qc1xuICAgICAxXHQvL0FCUlMgLSBSZXF1aXJlcyBmczsgSlNPTlBhY2sgZm9yIEpTT04gY29tcHJlc3Npb24gZmVhdHVyZXNcbiAgICAgMlx0e1xuICAgICAzXHQgIC8qXG4gICAgIDRcdCAgICBjaGFuZ2VTYXZlRGlyZWN0b3J5KCkgLSBDaGFuZ2VzIHRoZSBkZWZhdWx0IHNhdmUgZGlyZWN0b3J5IHRvIGEgZGVmaW5lZCBwYXRoLlxuICAgICA1XHQgICAgYXJnMF9wYXRoOiAoU3RyaW5nKSAtIFRoZSBwYXRoIHN0cmluZyB0byBjaGFuZ2UgdGhlIHNhdmUgZGlyZWN0b3J5IHRvLlxuICAgICA2XHQgICovXG4gICAgIDdcdCAgZnVuY3Rpb24gY2hhbmdlU2F2ZURpcmVjdG9yeSAoYXJnMF9wYXRoKSB7XG4gICAgIDhcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgIDlcdCAgICB2YXIgcGF0aCA9IGFyZzBfcGF0aDtcbiAgICAxMFx0XG4gICAgMTFcdCAgICAvL1NldCBnbG9iYWwgdmFyYWlibGVcbiAgICAxMlx0ICAgIGdsb2JhbC5BQlJTX2RpcmVjdG9yeSA9IHBhdGg7XG4gICAgMTNcdCAgfVxuLi4uXG5QYXRoOiBzcmMvanMvaW50ZXJmYWNlL3VpX2luaXRpYWxpc2F0aW9uLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBVSSBmdW5jdGlvbiAtIG1hc3RlclxuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gaW5pdGlhbGlzZVVJICgpIHtcbiAgICAgNFx0ICAgIC8vSW5pdGlhbGlzZSBsZWZ0X3NpZGViYXJcbiAgICAgNVx0ICAgIGluaXREYXRlVUkoKTtcbiAgICAgNlx0ICAgIGluaXRIaWVyYXJjaHlVSSgpO1xuICAgICA3XHQgICAgaW5pdFNjcmlwdHNVSSgpO1xuICAgICA4XHQgICAgaW5pdFNldHRpbmdzVUkoKTtcbiAgICAgOVx0XG4gICAgMTBcdCAgICAvL0luaXRpYWxpc2UgdG9wYmFyXG4gICAgMTFcdCAgICBpbml0VG9wYmFyVUkoKTtcbiAgICAxMlx0ICB9XG4gICAgMTNcdH1cbi4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9VSSB3aW5kb3cgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBjbG9zZVBvcHVwICgpIHtcbiAgICAgNFx0ICAgIG1hcC5jbG9zZVBvcHVwKCk7XG4gICAgIDVcdCAgfVxuICAgICA2XHRcbiAgICAgN1x0ICBmdW5jdGlvbiBoaWRlRWxlbWVudCAoYXJnMF9lbGVtZW50KSB7XG4gICAgIDhcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgIDlcdCAgICB2YXIgZWxlbWVudCA9IGFyZzBfZWxlbWVudDtcbiAgICAxMFx0XG4gICAgMTFcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTJcdCAgICB2YXIgY2xhc3NfbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgMTNcdFxuICAgIDE0XHQgICAgaWYgKCFjbGFzc19uYW1lLmluY2x1ZGVzKFwiIGhpZGRlblwiKSlcbiAgICAxNVx0ICAgICAgKGNsYXNzX25hbWUpID9cbiAgICAxNlx0ICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGAke2NsYXNzX25hbWV9IGhpZGRlbmApIDpcbiAgICAxN1x0ICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiIGhpZGRlblwiKTtcbiAgICAxOFx0ICB9XG4uLi5cblBhdGg6IHNyYy9jb25maWcvZGVmaW5lcy9jb21tb25fZGVmaW5lcy5qc1xuLi4uXG4gICAgMTVcdFxuICAgIDE2XHQgICAgLy9JbnRlcmZhY2UgLSBCb3R0b21iYXJcbiAgICAxN1x0ICAgICAgYnJ1c2hfYWN0aW9uc19jb250YWluZXI6IGAjYnJ1c2gtYWN0aW9ucy1jb250ZXh0LW1lbnVgLFxuICAgIDE4XHQgICAgLy9JbnRlcmZhY2UgLSBMZWZ0IFNpZGViYXJcbiAgICAxOVx0ICAgIC8vRmlsZXMgLSBTYXZlL0xvYWRcbiAgICAyMFx0ICAgICAgZmlsZXNfaGllcmFyY2h5OiBgLmZpbGUtY29udGFpbmVyIC5oaWVyYXJjaHlgLFxuICAgIDIxXHQgICAgICBmaWxlc19pbnRlcmFjdGlvbl9jb250YWluZXI6IGAuZmlsZS1jb250YWluZXIgI2ZpbGUtaW50ZXJhY3Rpb24tY29udGFpbmVyYCxcbiAgICAyMlx0ICAgICAgICBmaWxlc19pbnRlcmFjdGlvbl9zYXZlX2ZpbGVfYnV0dG9uOiBgLmZpbGUtY29udGFpbmVyICNmaWxlLWludGVyYWN0aW9uLWNvbnRhaW5lciAjc2F2ZS1maWxlLWJ1dHRvbmAsXG4gICAgMjNcdCAgICAgICAgZmlsZXNfaW50ZXJhY3Rpb25fc2F2ZV9maWxlX2lucHV0OiBgLmZpbGUtY29udGFpbmVyICNmaWxlLWludGVyYWN0aW9uLWNvbnRhaW5lciAjc2F2ZS1maWxlLWlucHV0YCxcbiAgICAyNFx0ICAgIC8vSGllcmFyY2h5XG4gICAgMjVcdCAgICAgIGhpZXJhcmNoeTogYCNoaWVyYXJjaHlgLCAvL1RoZSBxdWVyeSBzZWxlY3RvciBmb3IgdGhlIGFjdHVhbCBoaWVyYXJjaHkgdGFiIG9yIHN1cGVyY29udGFpbmVyLlxuICAgIDI2XHQgICAgICBoaWVyYXJjaHlfY29udGFpbmVyOiBgI2hpZXJhcmNoeS1jb250YWluZXJgLCAvL1RoZSBxdWVyeSBzZWxlY3RvciBmb3IgdGhlIGFjdHVhbCBoaWVyYXJjaHkgY29udGFpbmVyLlxuICAgIDI3XHQgICAgICAgIGdyb3VwX2FjdGlvbnNfY29udGV4dF9tZW51X2FuY2hvcjogYCNjb250ZXh0LW1lbnUtY29udGFpbmVyYCxcbiAgICAyOFx0ICAgIC8vU2NyaXB0c1xuLi4uXG5QYXRoOiBzcmMvVUYvanMvQnJvd3NlclVJL2hpZXJhcmNoeV9mcmFtZXdvcmsuanNcbi4uLlxuICAgIDgxXHRcbiAgICA4Mlx0ICAgIC8vQ3JlYXRlIGNvbnRyb2xzX2RpdlxuICAgIDgzXHQgICAge1xuICAgIDg0XHQgICAgICB2YXIgY29udHJvbHNfZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICA4NVx0ICAgICAgY29udHJvbHNfZGl2LmNsYXNzTmFtZSA9IFwiY29udHJvbHNcIjtcbiAgICA4Nlx0XG4gICAgODdcdCAgICAgIC8vQWRkIEdyb3VwIGJ1dHRvblxuICAgIDg4XHQgICAgICBpZiAoIW9wdGlvbnMuaGlkZV9hZGRfZ3JvdXApIHtcbiAgICA4OVx0ICAgICAgICB2YXIgYWRkX2dyb3VwX2J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgOTBcdCAgICAgICAgYWRkX2dyb3VwX2J1dHRvbi50ZXh0Q29udGVudCA9IGBBZGQgR3JvdXBgO1xuICAgIDkxXHQgICAgICAgIGFkZF9ncm91cF9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICA5Mlx0ICAgICAgICAgIGFkZEdyb3VwKGhpZXJhcmNoeV9pZCk7XG4gICAgOTNcdCAgICAgICAgfSk7XG4gICAgOTRcdCAgICAgICAgY29udHJvbHNfZGl2LmFwcGVuZENoaWxkKGFkZF9ncm91cF9idXR0b24pO1xuICAgIDk1XHQgICAgICB9XG4gICAgOTZcdFxuICAgIDk3XHQgICAgICAvL0FkZCBFbnRpdHkgYnV0dG9uXG4gICAgOThcdCAgICAgIGlmICghb3B0aW9ucy5oaWRlX2FkZF9lbnRpdHkpIHtcbiAgICA5OVx0ICAgICAgICB2YXIgYWRkX2VudGl0eV9idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgMTAwXHQgICAgICAgIGFkZF9lbnRpdHlfYnV0dG9uLnRleHRDb250ZW50ID0gYEFkZCBFbnRpdHlgO1xuICAgMTAxXHQgICAgICAgIGFkZF9lbnRpdHlfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAxMDJcdCAgICAgICAgICBhZGRFbnRpdHkoaGllcmFyY2h5X2lkKTtcbiAgIDEwM1x0ICAgICAgICB9KTtcbiAgIDEwNFx0ICAgICAgICBjb250cm9sc19kaXYuYXBwZW5kQ2hpbGQoYWRkX2VudGl0eV9idXR0b24pO1xuICAgMTA1XHQgICAgICB9XG4gICAxMDZcdFxuICAgMTA3XHQgICAgICAvL1BvcHVsYXRlIGNvbnRyb2xzX2RpdlxuICAgMTA4XHQgICAgICBoaWVyYXJjaHlfZWwuYXBwZW5kQ2hpbGQoY29udHJvbHNfZGl2KTtcbiAgIDEwOVx0ICAgIH1cbiAgIDEuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFXZkFZb040Y0xFOU1pQVFNdUpXNHpjIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6MzI6NTMuMzUyWiIsInJlc3BvbnNlX3RleHQiOiJOb3cgSSdsbCBsb29rIGF0IHRoZSBjb3JyZWN0IFVJIGZyYW1ld29yayBmaWxlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjlhOTRlYTMxLTIxNzUtNDQ3NC1iOGNlLTA5OWIwOTk3MGQxMyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVMzdFRzWEVCc0VqZmNSTDFQdko4UE0iLCJ0b29sX25hbWUiOiJ2aWV3IiwiaW5wdXRfanNvbiI6IntcInBhdGhcIjogXCJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24vc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanNcIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgdHJ5IHRoZSBmdWxsIHBhdGg6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIG5vdCBmb3VuZDogc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMuIERpZCB5b3UgbWVhbiBvbmUgb2YgdGhlc2U/IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLCBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcyIsImlzX2Vycm9yIjp0cnVlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxS1U5TnJDcmZkWTlBa2FSeVNLc1l4dSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjMyOjU3LjI0NFoiLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIHRyeSB0aGUgZnVsbCBwYXRoOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImUyMDdkODRjLTEzZjAtNDAzNC05ODIxLTg5NTM1OWJmNzJlZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVE4Q3ZKczhOa3dOamVING1HVHdmUkgiLCJ0b29sX25hbWUiOiJ2aWV3IiwiaW5wdXRfanNvbiI6IntcInBhdGhcIjogXCJzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qc1wifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSB0cnkgb25lIG9mIHRoZSBzdWdnZXN0ZWQgcGF0aHM6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIG5vdCBmb3VuZDogRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uL3NyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLiBEaWQgeW91IG1lYW4gb25lIG9mIHRoZXNlPyBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcywgc3JjL1VGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanMiLCJpc19lcnJvciI6dHJ1ZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVMzdFRzWEVCc0VqZmNSTDFQdko4UE0ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzozMzowMC44MjFaIiwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSB0cnkgb25lIG9mIHRoZSBzdWdnZXN0ZWQgcGF0aHM6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiM2NjYjQwOWQtYTRiZi00YTI1LWJjMzQtMWY0YTY3OTc3OGMxIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxR1pYYk4xOEpzcUpIUkhBQWFFOGJ3NiIsInRvb2xfbmFtZSI6ImxhdW5jaC1wcm9jZXNzIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJkaXIgXFxcIkQ6XFxcXFByb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvblxcXFxzcmNcXFxcanNcXFxcaW50ZXJmYWNlXFxcIiAvYlwiLCBcIndhaXRcIjogdHJ1ZSwgXCJtYXhfd2FpdF9zZWNvbmRzXCI6IDEwfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSB0cnkgdG8gZmluZCB0aGUgZmlsZSB1c2luZyBhIGRpZmZlcmVudCBhcHByb2FjaDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgbm90IGZvdW5kOiBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcy4gRGlkIHlvdSBtZWFuIG9uZSBvZiB0aGVzZT8gc3JjL1VGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanMsIHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzIiwiaXNfZXJyb3IiOnRydWUsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFROEN2SnM4Tmt3TmplSDRtR1R3ZlJIIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6MzM6MDMuNjM5WiIsInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgdHJ5IHRvIGZpbmQgdGhlIGZpbGUgdXNpbmcgYSBkaWZmZXJlbnQgYXBwcm9hY2g6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNTI1Yjc0M2ItZDg2Zi00OWJiLTg3ODMtNjFiZjlkNTBhNDYxIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxWDU0UXFXYWY0WnQ5dFFFU1hmbmc1byIsInRvb2xfbmFtZSI6ImxhdW5jaC1wcm9jZXNzIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJkaXIgXFxcInNyY1xcXFxqc1xcXFxpbnRlcmZhY2VcXFwiIC9iXCIsIFwid2FpdFwiOiB0cnVlLCBcIm1heF93YWl0X3NlY29uZHNcIjogMTB9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIHRyeSBhZ2FpbiB0byBmaW5kIHRoZSBVSSBmcmFtZXdvcmsgZmlsZSB3aXRoIHRoZSB1cGRhdGVkIHdvcmtpbmcgZGlyZWN0b3J5OlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG4gICAgICAgIDxyZXR1cm4tY29kZT5cbiAgICAgICAgMVxuICAgICAgICA8L3JldHVybi1jb2RlPlxuICAgICAgICA8c3Rkb3V0PlxuICAgICAgICBcdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbMzg7NTs5bVx1MDAxYltIZGlyIDogRGFzIHp3ZWl0ZSBQZmFkZnJhZ21lbnQgZGFyZiBrZWluIExhdWZ3ZXJrIG9kZXIgVU5DLU5hbWUgc2Vpbi5cblBhcmFtZXRlcm5hbWU6IHBhdGgyXG5JbiBaZWlsZToxIFplaWNoZW46MVxuKyBkaXIgXCJEOlxcUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uXFxzcmNcXGpzXFxpbnRlcmZhY2VcIiAvYlxuKyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuICAgICsgQ2F0ZWdvcnlJbmZvICAgICAgICAgIDogSW52YWxpZEFyZ3VtZW50OiAoRDpcXFByb2plY3QgMTcwNi4uLnJjXFxqc1xcaW50ZXJmYWNlOlN0cmluZykgW0dldC1DaGlsZEl0ZW1dLCBBcmd1bWVudEV4YyBcbiAgIGVwdGlvblxuICAgICsgRnVsbHlRdWFsaWZpZWRFcnJvcklkIDogRGlyQXJndW1lbnRFcnJvcixNaWNyb3NvZnQuUG93ZXJTaGVsbC5Db21tYW5kcy5HZXRDaGlsZEl0ZW1Db21tYW5kXG4gXG5cdTAwMWJdMDtDOlxcV0lORE9XU1xcU3lzdGVtMzJcXFdpbmRvd3NQb3dlclNoZWxsXFx2MS4wXFxwb3dlcnNoZWxsLmV4ZVx1MDAwN1x1MDAxYls/MjVoXHUwMDFiW21cbiAgICAgICAgPC9zdGRvdXQ+XG4gICAgICAgIDxzdGRlcnI+XG4gICAgICAgIFxuICAgICAgICA8L3N0ZGVycj4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFHWlhiTjE4SnNxSkhSSEFBYUU4Ync2In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjoyLCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjMzOjA4LjM3OVoiLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIHRyeSBhZ2FpbiB0byBmaW5kIHRoZSBVSSBmcmFtZXdvcmsgZmlsZSB3aXRoIHRoZSB1cGRhdGVkIHdvcmtpbmcgZGlyZWN0b3J5OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImRjMzRmMTM0LTM0N2QtNDJjMy05YjRhLWU3NWU0NDU2MGE1ZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTFjbnhacE44NVJkb25rM3Jwdk5pTVIiLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwicG93ZXJzaGVsbCAtQ29tbWFuZCBcXFwiR2V0LUNoaWxkSXRlbSAtUGF0aCAnc3JjXFxcXGpzXFxcXGludGVyZmFjZScgLUZpbGVcXFwiXCIsIFwid2FpdFwiOiB0cnVlLCBcIm1heF93YWl0X3NlY29uZHNcIjogMTB9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIHRyeSBhIGRpZmZlcmVudCBhcHByb2FjaDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUgYXJlIHRoZSByZXN1bHRzIGZyb20gZXhlY3V0aW5nIHRoZSBjb21tYW5kLlxuICAgICAgICA8cmV0dXJuLWNvZGU+XG4gICAgICAgIDFcbiAgICAgICAgPC9yZXR1cm4tY29kZT5cbiAgICAgICAgPHN0ZG91dD5cbiAgICAgICAgXHUwMDFiWz85MDAxaFx1MDAxYls/MTAwNGhcdTAwMWJbPzI1bFx1MDAxYlsySlx1MDAxYlttXHUwMDFiWzM4OzU7OW1cdTAwMWJbSGRpciA6IERhcyB6d2VpdGUgUGZhZGZyYWdtZW50IGRhcmYga2VpbiBMYXVmd2VyayBvZGVyIFVOQy1OYW1lIHNlaW4uXG5QYXJhbWV0ZXJuYW1lOiBwYXRoMlxuSW4gWmVpbGU6MSBaZWljaGVuOjFcbisgZGlyIFwic3JjXFxqc1xcaW50ZXJmYWNlXCIgL2Jcbisgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuICAgICsgQ2F0ZWdvcnlJbmZvICAgICAgICAgIDogSW52YWxpZEFyZ3VtZW50OiAoRDpcXFByb2plY3QgMTcwNi4uLnJjXFxqc1xcaW50ZXJmYWNlOlN0cmluZykgW0dldC1DaGlsZEl0ZW1dLCBBcmd1bWVudEV4YyBcbiAgIGVwdGlvblxuICAgICsgRnVsbHlRdWFsaWZpZWRFcnJvcklkIDogRGlyQXJndW1lbnRFcnJvcixNaWNyb3NvZnQuUG93ZXJTaGVsbC5Db21tYW5kcy5HZXRDaGlsZEl0ZW1Db21tYW5kXG4gXG5cdTAwMWJdMDtDOlxcV0lORE9XU1xcU3lzdGVtMzJcXFdpbmRvd3NQb3dlclNoZWxsXFx2MS4wXFxwb3dlcnNoZWxsLmV4ZVx1MDAwN1x1MDAxYls/MjVoXHUwMDFiW21cbiAgICAgICAgPC9zdGRvdXQ+XG4gICAgICAgIDxzdGRlcnI+XG4gICAgICAgIFxuICAgICAgICA8L3N0ZGVycj4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFYNTRRcVdhZjRadDl0UUVTWGZuZzVvIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjozLCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjMzOjEyLjU2N1oiLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIHRyeSBhIGRpZmZlcmVudCBhcHByb2FjaDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2MjU1ZmYyNy1kMjFkLTQ2ZDMtYWUzZS0yZDNmOTI1ZDYyMzgiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE5YmtoVDRVcXYzQmNjc0RrYVZOcDk2IiwidG9vbF9uYW1lIjoidmlldyIsImlucHV0X2pzb24iOiJ7XCJwYXRoXCI6IFwic3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanNcIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgSSBjYW4gc2VlIHRoZSBmaWxlIGV4aXN0cy4gTGV0IG1lIHZpZXcgaXRzIGNvbnRlbnRzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG4gICAgICAgIDxyZXR1cm4tY29kZT5cbiAgICAgICAgMFxuICAgICAgICA8L3JldHVybi1jb2RlPlxuICAgICAgICA8c3Rkb3V0PlxuICAgICAgICBcdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbMzsxSCAgICBWZXJ6ZWljaG5pczogRDpcXFByb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvblxcc3JjXFxqc1xcaW50ZXJmYWNlXHUwMDFiWzY7MUhNb2RlICAgICAgICAgICAgICAgICBMYXN0V3JpdGVUaW1lICAgICAgICAgTGVuZ3RoIE5hbWVcbi0tLS0gICAgICAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0gICAgICAgICAtLS0tLS0gLS0tLVxuLWEtLS0tICAgICAgICAyMi4wMi4yMDI1ICAgICAwOTozOCAgICAgICAgICAgIDcxOSB1aV9jb25maWcuanNcbi1hLS0tLSAgICAgICAgMDguMDguMjAyNCAgICAgMTU6NTAgICAgICAgICAgIDIxNzAgdWlfZnJhbWV3b3JrLmpzXG4tYS0tLS0gICAgICAgIDE0LjA1LjIwMjUgICAgIDE5OjIyICAgICAgICAgICAgMjQzIHVpX2luaXRpYWxpc2F0aW9uLmpzXHUwMDFiWzEzOzFIXHUwMDFiXTA7QzpcXFdJTkRPV1NcXFN5c3RlbTMyXFxXaW5kb3dzUG93ZXJTaGVsbFxcdjEuMFxccG93ZXJzaGVsbC5leGVcdTAwMDdcdTAwMWJbPzI1aFxuICAgICAgICA8L3N0ZG91dD5cbiAgICAgICAgPHN0ZGVycj5cbiAgICAgICAgXG4gICAgICAgIDwvc3RkZXJyPiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTFjbnhacE44NVJkb25rM3Jwdk5pTVIifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjQsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6MzM6MjEuMzg2WiIsInJlc3BvbnNlX3RleHQiOiJOb3cgSSBjYW4gc2VlIHRoZSBmaWxlIGV4aXN0cy4gTGV0IG1lIHZpZXcgaXRzIGNvbnRlbnRzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImFhOTE0YTA4LThmMzctNDI3ZS1hOTdiLWU4YWUxYzExMDNiMCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUNxSjdOVmppVzdnc3oxUmg5S1FpejUiLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwicG93ZXJzaGVsbCAtQ29tbWFuZCBcXFwiR2V0LUNvbnRlbnQgJ3NyY1xcXFxqc1xcXFxpbnRlcmZhY2VcXFxcdWlfZnJhbWV3b3JrLmpzJ1xcXCJcIiwgXCJ3YWl0XCI6IHRydWUsIFwibWF4X3dhaXRfc2Vjb25kc1wiOiAxMH0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgdHJ5IGEgZGlmZmVyZW50IGFwcHJvYWNoIHRvIHZpZXcgdGhlIGZpbGU6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIG5vdCBmb3VuZDogc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMuIERpZCB5b3UgbWVhbiBvbmUgb2YgdGhlc2U/IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLCBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcyIsImlzX2Vycm9yIjp0cnVlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOWJraFQ0VXF2M0JjY3NEa2FWTnA5NiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzozMzoyNi41ODZaIiwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSB0cnkgYSBkaWZmZXJlbnQgYXBwcm9hY2ggdG8gdmlldyB0aGUgZmlsZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI3ZGIwMDQzNy0zMzMyLTQ0MDgtOGQ1ZC0xMGYxYTEwNTYwMTIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFWcHBQVUNNalczcFNEZnI0OXBVZEpuIiwidG9vbF9uYW1lIjoibGF1bmNoLXByb2Nlc3MiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInBvd2Vyc2hlbGwgLUNvbW1hbmQgXFxcIkdldC1Db250ZW50ICdzcmNcXFxcanNcXFxcZnJhbWV3b3JrXFxcXGVudGl0aWVzXFxcXGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzJyAtVG90YWxDb3VudCA1MFxcXCJcIiwgXCJ3YWl0XCI6IHRydWUsIFwibWF4X3dhaXRfc2Vjb25kc1wiOiAxMH0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgSSBuZWVkIHRvIGV4YW1pbmUgdGhlIGZyYW1ld29yayBmaWxlcyB0byB1bmRlcnN0YW5kIHRoZWlyIGNvbW1vbiBwYXR0ZXJucy4gTGV0IG1lIGxvb2sgYXQgb25lIG9mIHRoZSBmcmFtZXdvcmsgZmlsZXM6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbiAgICAgICAgPHJldHVybi1jb2RlPlxuICAgICAgICAwXG4gICAgICAgIDwvcmV0dXJuLWNvZGU+XG4gICAgICAgIDxzdGRvdXQ+XG4gICAgICAgIFx1MDAxYls/OTAwMWhcdTAwMWJbPzEwMDRoXHUwMDFiWz8yNWxcdTAwMWJbMkpcdTAwMWJbbVx1MDAxYltILy9VSSB3aW5kb3cgZnVuY3Rpb25zXG57XG4gIGZ1bmN0aW9uIGNsb3NlUG9wdXAgKCkge1xuICAgIG1hcC5jbG9zZVBvcHVwKCk7XG4gIH1cdTAwMWJbNzsxSCAgZnVuY3Rpb24gaGlkZUVsZW1lbnQgKGFyZzBfZWxlbWVudCkge1xuICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICB2YXIgZWxlbWVudCA9IGFyZzBfZWxlbWVudDtcdTAwMWJbMTE7MUggICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIHZhciBjbGFzc19uYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcdTAwMWJbMTQ7MUggICAgaWYgKCFjbGFzc19uYW1lLmluY2x1ZGVzKFwiIGhpZGRlblwiKSlcbiAgICAgIChjbGFzc19uYW1lKSA/XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYCR7Y2xhc3NfbmFtZX0gaGlkZGVuYCkgOlxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiIGhpZGRlblwiKTtcbiAgfVx1MDAxYlsyMDsxSCAgZnVuY3Rpb24gdXBkYXRlU2lkZWJhckhvdmVyICgpIHtcbiAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgdmFyIGFsbF9ob3ZlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuaGllcmFyY2h5LWVsZW1lbnRzLWNvbnRhaW5lciBkaXY6aG92ZXJgKTtcbiAgICB2YXIgYWxsX2xlZ2FjeV9ob3ZlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuaG92ZXJgKTtcdTAwMWJbMjU7MUggICAgLy9DbGVhciBhbGwgZWxlbWVudHMgd2l0aCAuaG92ZXIgY2xhc3Ncblx1MDAxYl0wO0M6XFxXSU5ET1dTXFxTeXN0ZW0zMlxcV2luZG93c1Bvd2VyU2hlbGxcXHYxLjBcXHBvd2Vyc2hlbGwuZXhlXHUwMDA3XHUwMDFiWz8yNWhcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9sZWdhY3lfaG92ZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgYWxsX2xlZ2FjeV9ob3ZlcnNbaV0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcbiAgICAgICAgYWxsX2xlZ2FjeV9ob3ZlcnNbaV0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikucmVwbGFjZShcIiBob3ZlclwiLCBcIlwiKVxuICAgICAgKTtcblxuICAgIC8vU2V0IG9ubHkgbGFzdCBob3ZlciB0byBiZSBob3ZlcmVkXG4gICAgaWYgKGFsbF9ob3ZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGxvY2FsX2NsYXNzID0gYWxsX2hvdmVyc1thbGxfaG92ZXJzLmxlbmd0aCAtIDFdLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuXG4gICAgICAobG9jYWxfY2xhc3MpID9cbiAgICAgICAgYWxsX2hvdmVyc1thbGxfaG92ZXJzLmxlbmd0aCAtIDFdLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXG4gICAgICAgICAgbG9jYWxfY2xhc3MgKyBcIiBob3ZlclwiXG4gICAgICAgICkgOlxuICAgICAgICBhbGxfaG92ZXJzW2FsbF9ob3ZlcnMubGVuZ3RoIC0gMV0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCIgaG92ZXJcIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlRWxlbWVudFZpc2liaWxpdHkgKGFyZzBfZWxlbWVudCwgYXJnMV9idXR0b25fZWxlbWVudCkge1xuICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICB2YXIgZWxlbWVudCA9IGFyZzBfZWxlbWVudDtcbiAgICB2YXIgYnRuX2VsZW1lbnQgPSBhcmcxX2J1dHRvbl9lbGVtZW50O1xuXG4gICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIHZhciBjbGFzc19uYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICB2YXIgaXNfdmlzaWJsZSA9IHRydWU7XG5cbiAgICBpZiAoY2xhc3NfbmFtZSlcbiAgICAgIGlmIChjbGFzc19uYW1lLmluY2x1ZGVzKFwiIGhpZGRlblwiKSlcbiAgICAgICAgaXNfdmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgKGlzX3Zpc2libGUpID9cbiAgICAgIGhpZGVFbGVtZW50KGVsZW1lbnQpIDpcbiAgICAgIHNob3dFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgLy9TZXQgYnV0dG9uIGVsZW1lbnQgY2xhc3MgaWYgcHJlc2VudFxuICAgIGlmIChidG5fZWxlbWVudClcbiAgICAgIChpc192aXNpYmxlKSA/XG4gICAgICAgIGJ0bl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGJ0bl9lbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLnJlcGxhY2UoXCIgbWluaW1pc2UtaWNvblwiLCBcIiByZXZlcnNlLW1pbmltaXNlXG5cdTAwMWJbMjQ7MTIwSGUtaWNvblwiKSkgOlxuICAgICAgICBidG5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBidG5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKS5yZXBsYWNlKFwiIHJldmVyc2UtbWluaW1pc2UtaWNvblwiLCBcIiBtaW5pbWlzZVxuXHUwMDFiWzI0OzEyMEhlLWljb25cIikpO1xuICB9XG59XG5cbiAgICAgICAgPC9zdGRvdXQ+XG4gICAgICAgIDxzdGRlcnI+XG4gICAgICAgIFxuICAgICAgICA8L3N0ZGVycj4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFDcUo3TlZqaVc3Z3N6MVJoOUtRaXo1In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo1LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjMzOjMwLjQwMloiLCJyZXNwb25zZV90ZXh0IjoiTm93IEkgbmVlZCB0byBleGFtaW5lIHRoZSBmcmFtZXdvcmsgZmlsZXMgdG8gdW5kZXJzdGFuZCB0aGVpciBjb21tb24gcGF0dGVybnMuIExldCBtZSBsb29rIGF0IG9uZSBvZiB0aGUgZnJhbWV3b3JrIGZpbGVzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjczNzVlMmRmLTY1MTgtNGQ1Mi05NTE0LWFmODQwYmQ4MjM1YSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVR3UVVlS0N5N3JSd05KV0cyYTU2U0siLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwicG93ZXJzaGVsbCAtQ29tbWFuZCBcXFwiR2V0LUNvbnRlbnQgJ3NyY1xcXFxqc1xcXFxmcmFtZXdvcmtcXFxcdmFyaWFibGVzXFxcXHZhcmlhYmxlX2FjdGlvbnNfZnJhbWV3b3JrLmpzJyAtVG90YWxDb3VudCA1MFxcXCJcIiwgXCJ3YWl0XCI6IHRydWUsIFwibWF4X3dhaXRfc2Vjb25kc1wiOiAxMH0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgbGV0IG1lIGxvb2sgYXQgb25lIG9mIHRoZSBmcmFtZXdvcmsgZmlsZXMgdGhhdCBmb2xsb3dzIHRoZSBwYXR0ZXJuIHdlIHdhbnQgdG8gb3B0aW1pemU6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbiAgICAgICAgPHJldHVybi1jb2RlPlxuICAgICAgICAwXG4gICAgICAgIDwvcmV0dXJuLWNvZGU+XG4gICAgICAgIDxzdGRvdXQ+XG4gICAgICAgIFx1MDAxYls/OTAwMWhcdTAwMWJbPzEwMDRoXHUwMDFiWz8yNWxcdTAwMWJbMkpcdTAwMWJbbVx1MDAxYltILy9Jbml0aWFsaXNlIEVudGl0eSBLZXlmcmFtZXMgYWN0aW9uc1xue1xuICBmdW5jdGlvbiBkZWxldGVLZXlmcmFtZSAoYXJnMF9lbnRpdHlfaWQsIGFyZzFfdGltZXN0YW1wKSB7IC8vW1dJUF0gLSBEZWxldGluZyBhIGtleWZyYW1lIHNob3VsZCB1cGRhdGUgdGhlIGJpbyBhbmQgY2xvc2UgdGhlIGtleWZyYW1lIGNvbnRleHQgbWVudXMuIEl0IGN1cnJlbnRseSBkb2VzIG5vdFxuICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICB2YXIgZW50aXR5X2lkID0gYXJnMF9lbnRpdHlfaWQ7XG4gICAgdmFyIHRpbWVzdGFtcCA9IGFyZzFfdGltZXN0YW1wO1x1MDAxYls5OzFIICAgIC8vRGVsZXRlIGtleWZyYW1lOyB1cGRhdGUgYmlvIFtXSVBdIC0gTWFrZSBzdXJlIHRvIHVwZGF0ZSBiaW9cbiAgICBjbG9zZUVudGl0eUtleWZyYW1lQ29udGV4dE1lbnVzKGVudGl0eV9pZCk7XG4gICAgZGVsZXRlSGlzdG9yeUZyYW1lKGVudGl0eV9pZCwgdGltZXN0YW1wKTtcdTAwMWJbMTM7MUggICAgcHJpbnRFbnRpdHlCaW8oZW50aXR5X2lkKTtcbiAgfVx1MDAxYlsxNjsxSCAgZnVuY3Rpb24gZWRpdEtleWZyYW1lIChhcmcwX2VudGl0eV9pZCwgYXJnMV90aW1lc3RhbXApIHtcbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgdmFyIGVudGl0eV9pZCA9IGFyZzBfZW50aXR5X2lkO1xuICAgIHZhciB0aW1lc3RhbXAgPSBhcmcxX3RpbWVzdGFtcDtcdTAwMWJbMjE7MUggICAgLy9DbG9zZSBlbnRpdHkgVUksIGNhbGwgZWRpdEVudGl0eSgpXG4gICAgY2xvc2VFbnRpdHlDb250ZXh0TWVudSgpO1xuICAgIHNldERhdGUodGltZXN0YW1wKTtcbiAgICBlZGl0RW50aXR5KGVudGl0eV9pZCk7XG5cdTAwMWJdMDtDOlxcV0lORE9XU1xcU3lzdGVtMzJcXFdpbmRvd3NQb3dlclNoZWxsXFx2MS4wXFxwb3dlcnNoZWxsLmV4ZVx1MDAwN1x1MDAxYls/MjVoXG4gICAgcGVyZm9ybUFjdGlvbih7XG4gICAgICBhY3Rpb25faWQ6IFwiZWRpdF9rZXlmcmFtZVwiLFxuICAgICAgcmVkb19mdW5jdGlvbjogXCJlZGl0S2V5ZnJhbWVcIixcbiAgICAgIHJlZG9fZnVuY3Rpb25fcGFyYW1ldGVyczogW2VudGl0eV9pZCwgdGltZXN0YW1wXSxcbiAgICAgIHVuZG9fZnVuY3Rpb246IFwidW5kb0VkaXRLZXlmcmFtZVwiLFxuICAgICAgdW5kb19mdW5jdGlvbl9wYXJhbWV0ZXJzOiBbZW50aXR5X2lkXVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbW92ZUtleWZyYW1lIChhcmcwX2VudGl0eV9pZCwgYXJnMV9kYXRlLCBhcmcyX2RhdGUpIHsgLy9bV0lQXSAtIFRoaXMgc2hvdWxkIHVwZGF0ZSB0aGUgYmlvIGFuZCBhZGp1c3QgYW55IG9wZVxuXHUwMDFiWzI0OzEyMEhlbiBjb250ZXh0IG1lbnVzIHRpZWQgdG8gYSBrZXlmcmFtZS4gKCdwbGFjZWhvbGRlcjogXCJ0aW1lc3RhbXBcIicpIEl0IGRvZXMgbm90LlxuICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICB2YXIgZW50aXR5X2lkID0gYXJnMF9lbnRpdHlfaWQ7XG4gICAgdmFyIGVudHJ5X2RhdGUgPSBhcmcxX2RhdGU7XG4gICAgdmFyIG1vdmVfdG9fZGF0ZSA9IGFyZzJfZGF0ZTtcblxuICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICB2YXIgY29tbW9uX3NlbGVjdG9ycyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbi5zZWxlY3RvcnM7XG4gICAgdmFyIGVudGl0eV9lbCA9IGdldEVudGl0eUVsZW1lbnQoZW50aXR5X2lkKTtcblxuICAgIHZhciBlbnRpdHlfb2JqID0gZ2V0RW50aXR5KGVudGl0eV9pZCk7XG4gICAgdmFyIGhpc3RvcnlfZW50cnkgPSBnZXRBYnNvbHV0ZUhpc3RvcnlGcmFtZShlbnRpdHlfaWQsIGVudHJ5X2RhdGUpO1xuICAgIHZhciBuZXdfdGltZXN0YW1wID0gZ2V0VGltZXN0YW1wKG1vdmVfdG9fZGF0ZSk7XG4gICAgdmFyIG9sZF90aW1lc3RhbXAgPSBnZXRUaW1lc3RhbXAoY29udmVydFRpbWVzdGFtcFRvRGF0ZShlbnRyeV9kYXRlKSk7XG4gICAgdmFyIHBvcHVwX2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmVudGl0eS11aS1wYW5lW2NsYXNzfj0nJHtlbnRpdHlfaWR9J11gKTtcblxuICAgIC8vTW92ZSBoaXN0b3J5X2VudHJ5IHRvIG5ldyB0aW1lc3RhbXBcblxuICAgICAgICA8L3N0ZG91dD5cbiAgICAgICAgPHN0ZGVycj5cbiAgICAgICAgXG4gICAgICAgIDwvc3RkZXJyPiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVZwcFBVQ01qVzNwU0RmcjQ5cFVkSm4ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjYsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6MzM6MzUuOTAxWiIsInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0IG1lIGxvb2sgYXQgb25lIG9mIHRoZSBmcmFtZXdvcmsgZmlsZXMgdGhhdCBmb2xsb3dzIHRoZSBwYXR0ZXJuIHdlIHdhbnQgdG8gb3B0aW1pemU6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMmY0ZjlmMDktODJlZi00ZGEwLTk5MjQtODYyOWUwZmQ5ZTUwIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMWpId3lTYXdvaGh0MmFCTGdSTmhXQyIsInRvb2xfbmFtZSI6ImxhdW5jaC1wcm9jZXNzIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJwb3dlcnNoZWxsIC1Db21tYW5kIFxcXCJHZXQtQ29udGVudCAnc3JjXFxcXGpzXFxcXGZyYW1ld29ya1xcXFxlbnRpdGllc1xcXFxlbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanMnIC1Ub3RhbENvdW50IDUwXFxcIlwiLCBcIndhaXRcIjogdHJ1ZSwgXCJtYXhfd2FpdF9zZWNvbmRzXCI6IDEwfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBsb29rIGF0IGFub3RoZXIgZnJhbWV3b3JrIGZpbGUgdG8gdW5kZXJzdGFuZCB0aGUgY29tbW9uIHBhdHRlcm5zOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG4gICAgICAgIDxyZXR1cm4tY29kZT5cbiAgICAgICAgMFxuICAgICAgICA8L3JldHVybi1jb2RlPlxuICAgICAgICA8c3Rkb3V0PlxuICAgICAgICBcdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbSC8vSW5pdGlhbGlzZSBmdW5jdGlvbnNcbntcbiAgLyoqXG4gICAqIGdldEFsbFZhcmlhYmxlQWN0aW9ucygpIC0gRmV0Y2hlcyBhbGwgdmFyaWFibGUgYWN0aW9ucyBhcyBlaXRoZXIgYW4gYXJyYXkgb2Yga2V5cyBvciBvYmplY3RzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2FyZzBfb3B0aW9uc11cbiAgICogIEBwYXJhbSB7Ym9vbGVhbn0gW2FyZzBfb3B0aW9ucy5yZXR1cm5fa2V5cz1mYWxzZV0gLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7QXJyYXk8T2JqZWN0PnxBcnJheTxTdHJpbmc+fVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0QWxsVmFyaWFibGVBY3Rpb25zIChhcmcwX29wdGlvbnMpIHtcbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1x1MDAxYlsxNTsxSCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgdmFyIGNvbW1vbl9kZWZpbmVzID0gY29uZmlnLmRlZmluZXMuY29tbW9uO1xuICAgIHZhciBmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucztcbiAgICB2YXIgcmV0dXJuX2FjdGlvbnMgPSBbXTtcbiAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcdTAwMWJbMjE7MUggICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zXG4gICAgdmFyIGFsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKCFjb21tb25fZGVmaW5lcy5yZXNlcnZlZF92YXJpYWJsZV9hY3Rpb25zLmluY2x1ZGVzKGFsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1tpXSkpIHtcblx1MDAxYl0wO0M6XFxXSU5ET1dTXFxTeXN0ZW0zMlxcV2luZG93c1Bvd2VyU2hlbGxcXHYxLjBcXHBvd2Vyc2hlbGwuZXhlXHUwMDA3XHUwMDFiWz8yNWhcbiAgICAgICAgcmV0dXJuX2FjdGlvbnMucHVzaChmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1thbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbaV1dKTtcbiAgICAgICAgcmV0dXJuX2tleXMucHVzaChhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbaV0pO1xuICAgICAgfVxuXG4gICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5cykgPyByZXR1cm5fYWN0aW9ucyA6IHJldHVybl9rZXlzO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldFZhcmlhYmxlQWN0aW9uKCkgLSBGZXRjaGVzIGEgdmFyaWFibGUgYWN0aW9uLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXJnMF9uYW1lIC0gVGhlIG5hbWUvSUQgb2YgdGhlIHZhcmlhYmxlIGFjdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IFthcmcxX29wdGlvbnNdXG4gICAqICBAcGFyYW0ge2Jvb2xlYW59IFthcmcxX29wdGlvbnMucmV0dXJuX2tleT1mYWxzZV0gLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBrZXkgaW5zdGVhZCBvZiB0aGUgb2JqZWNcblx1MDAxYlsyNDsxMjBIY3QuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R8U3RyaW5nfVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmFyaWFibGVBY3Rpb24gKGFyZzBfbmFtZSwgYXJnMV9vcHRpb25zKSB7XG4gICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIHZhciBuYW1lID0gYXJnMF9uYW1lO1xuICAgIHZhciBvcHRpb25zID0gKGFyZzFfb3B0aW9ucykgPyBhcmcxX29wdGlvbnMgOiB7fTtcblxuICAgIC8vR3VhcmQgY2xhdXNlIGZvciBvYmplY3RzOyBkaXJlY3Qga2V5c1xuICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcIm9iamVjdFwiKSByZXR1cm4gbmFtZTtcbiAgICBpZiAoY29uZmlnLmZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW25hbWVdKSByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW25hbWVdIFxuXHUwMDFiWzI0OzEyMEggOiBuYW1lO1xuXG4gICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVHdRVWVLQ3k3clJ3TkpXRzJhNTZTSyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NywiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzozMzo0MS43MjRaIiwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBsb29rIGF0IGFub3RoZXIgZnJhbWV3b3JrIGZpbGUgdG8gdW5kZXJzdGFuZCB0aGUgY29tbW9uIHBhdHRlcm5zOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImM2NmQyZWNhLWQ5ZTItNDEwMS1iYTE2LWI5OWEyZDVkODQyOSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVZTVWZrN1ZFVlZjdENnNTQyZEI4TWUiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwiaW5zdHJ1Y3Rpb25fcmVtaW5kZXJcIjogXCJBTFdBWVMgQlJFQUsgRE9XTiBFRElUUyBJTlRPIFNNQUxMRVIgQ0hVTktTIE9GIEFUIE1PU1QgMjAwIExJTkVTIEVBQ0guXCIsIFwicGF0aFwiOiBcInNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzXCIsIFwib2xkX3N0cl8xXCI6IFwiLy9VSSB3aW5kb3cgZnVuY3Rpb25zXFxue1xcbiAgZnVuY3Rpb24gY2xvc2VQb3B1cCAoKSB7XFxuICAgIG1hcC5jbG9zZVBvcHVwKCk7XFxuICB9XFxuXFxuICBmdW5jdGlvbiBoaWRlRWxlbWVudCAoYXJnMF9lbGVtZW50KSB7XFxuICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcXG4gICAgdmFyIGVsZW1lbnQgPSBhcmcwX2VsZW1lbnQ7XFxuXFxuICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcXG4gICAgdmFyIGNsYXNzX25hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcXFwiY2xhc3NcXFwiKTtcXG5cXG4gICAgaWYgKCFjbGFzc19uYW1lLmluY2x1ZGVzKFxcXCIgaGlkZGVuXFxcIikpXFxuICAgICAgKGNsYXNzX25hbWUpID9cXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFxcXCJjbGFzc1xcXCIsIGAke2NsYXNzX25hbWV9IGhpZGRlbmApIDpcXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFxcXCJjbGFzc1xcXCIsIFxcXCIgaGlkZGVuXFxcIik7XFxuICB9XFxuXFxuICBmdW5jdGlvbiB1cGRhdGVTaWRlYmFySG92ZXIgKCkge1xcbiAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXFxuICAgIHZhciBhbGxfaG92ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLmhpZXJhcmNoeS1lbGVtZW50cy1jb250YWluZXIgZGl2OmhvdmVyYCk7XFxuICAgIHZhciBhbGxfbGVnYWN5X2hvdmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5ob3ZlcmApO1xcblxcbiAgICAvL0NsZWFyIGFsbCBlbGVtZW50cyB3aXRoIC5ob3ZlciBjbGFzc1xcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9sZWdhY3lfaG92ZXJzLmxlbmd0aDsgaSsrKVxcbiAgICAgIGFsbF9sZWdhY3lfaG92ZXJzW2ldLnNldEF0dHJpYnV0ZShcXFwiY2xhc3NcXFwiLFxcbiAgICAgICAgYWxsX2xlZ2FjeV9ob3ZlcnNbaV0uZ2V0QXR0cmlidXRlKFxcXCJjbGFzc1xcXCIpLnJlcGxhY2UoXFxcIiBob3ZlclxcXCIsIFxcXCJcXFwiKVxcbiAgICAgICk7XFxuXFxuICAgIC8vU2V0IG9ubHkgbGFzdCBob3ZlciB0byBiZSBob3ZlcmVkXFxuICAgIGlmIChhbGxfaG92ZXJzLmxlbmd0aCA+IDApIHtcXG4gICAgICB2YXIgbG9jYWxfY2xhc3MgPSBhbGxfaG92ZXJzW2FsbF9ob3ZlcnMubGVuZ3RoIC0gMV0uZ2V0QXR0cmlidXRlKFxcXCJjbGFzc1xcXCIpO1xcblxcbiAgICAgIChsb2NhbF9jbGFzcykgP1xcbiAgICAgICAgYWxsX2hvdmVyc1thbGxfaG92ZXJzLmxlbmd0aCAtIDFdLnNldEF0dHJpYnV0ZShcXFwiY2xhc3NcXFwiLFxcbiAgICAgICAgICBsb2NhbF9jbGFzcyArIFxcXCIgaG92ZXJcXFwiXFxuICAgICAgICApIDpcXG4gICAgICAgIGFsbF9ob3ZlcnNbYWxsX2hvdmVycy5sZW5ndGggLSAxXS5zZXRBdHRyaWJ1dGUoXFxcImNsYXNzXFxcIiwgXFxcIiBob3ZlclxcXCIpO1xcbiAgICB9XFxuICB9XFxuXFxuICBmdW5jdGlvbiB0b2dnbGVFbGVtZW50VmlzaWJpbGl0eSAoYXJnMF9lbGVtZW50LCBhcmcxX2J1dHRvbl9lbGVtZW50KSB7XFxuICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcXG4gICAgdmFyIGVsZW1lbnQgPSBhcmcwX2VsZW1lbnQ7XFxuICAgIHZhciBidG5fZWxlbWVudCA9IGFyZzFfYnV0dG9uX2VsZW1lbnQ7XFxuXFxuICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcXG4gICAgdmFyIGNsYXNzX25hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcXFwiY2xhc3NcXFwiKTtcXG4gICAgdmFyIGlzX3Zpc2libGUgPSB0cnVlO1xcblxcbiAgICBpZiAoY2xhc3NfbmFtZSlcXG4gICAgICBpZiAoY2xhc3NfbmFtZS5pbmNsdWRlcyhcXFwiIGhpZGRlblxcXCIpKVxcbiAgICAgICAgaXNfdmlzaWJsZSA9IGZhbHNlO1xcblxcbiAgICAoaXNfdmlzaWJsZSkgP1xcbiAgICAgIGhpZGVFbGVtZW50KGVsZW1lbnQpIDpcXG4gICAgICBzaG93RWxlbWVudChlbGVtZW50KTtcXG5cXG4gICAgLy9TZXQgYnV0dG9uIGVsZW1lbnQgY2xhc3MgaWYgcHJlc2VudFxcbiAgICBpZiAoYnRuX2VsZW1lbnQpXFxuICAgICAgKGlzX3Zpc2libGUpID9cXG4gICAgICAgIGJ0bl9lbGVtZW50LnNldEF0dHJpYnV0ZShcXFwiY2xhc3NcXFwiLCBidG5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoXFxcImNsYXNzXFxcIikucmVwbGFjZShcXFwiIG1pbmltaXNlLWljb25cXFwiLCBcXFwiIHJldmVyc2UtbWluaW1pc2UtaWNvblxcXCIpKSA6XFxuICAgICAgICBidG5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXFxcImNsYXNzXFxcIiwgYnRuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKFxcXCJjbGFzc1xcXCIpLnJlcGxhY2UoXFxcIiByZXZlcnNlLW1pbmltaXNlLWljb25cXFwiLCBcXFwiIG1pbmltaXNlLWljb25cXFwiKSk7XFxuICB9XFxufVwiLCBcIm5ld19zdHJfMVwiOiBcIi8vVUkgd2luZG93IGZ1bmN0aW9uc1xcbntcXG4gIGZ1bmN0aW9uIGNsb3NlUG9wdXAgKCkge1xcbiAgICBtYXAuY2xvc2VQb3B1cCgpO1xcbiAgfVxcblxcbiAgZnVuY3Rpb24gaGlkZUVsZW1lbnQgKGFyZzBfZWxlbWVudCkge1xcbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXFxuICAgIHZhciBlbGVtZW50ID0gYXJnMF9lbGVtZW50O1xcblxcbiAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXFxuICAgIHZhciBjbGFzc19uYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXFxcImNsYXNzXFxcIik7XFxuXFxuICAgIGlmICghY2xhc3NfbmFtZS5pbmNsdWRlcyhcXFwiIGhpZGRlblxcXCIpKVxcbiAgICAgIChjbGFzc19uYW1lKSA/XFxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcXFwiY2xhc3NcXFwiLCBgJHtjbGFzc19uYW1lfSBoaWRkZW5gKSA6XFxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcXFwiY2xhc3NcXFwiLCBcXFwiIGhpZGRlblxcXCIpO1xcbiAgfVxcblxcbiAgZnVuY3Rpb24gdXBkYXRlU2lkZWJhckhvdmVyICgpIHtcXG4gICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICB2YXIgYWxsX2hvdmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5oaWVyYXJjaHktZWxlbWVudHMtY29udGFpbmVyIGRpdjpob3ZlcmApO1xcbiAgICB2YXIgYWxsX2xlZ2FjeV9ob3ZlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuaG92ZXJgKTtcXG5cXG4gICAgLy9DbGVhciBhbGwgZWxlbWVudHMgd2l0aCAuaG92ZXIgY2xhc3NcXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfbGVnYWN5X2hvdmVycy5sZW5ndGg7IGkrKylcXG4gICAgICBhbGxfbGVnYWN5X2hvdmVyc1tpXS5zZXRBdHRyaWJ1dGUoXFxcImNsYXNzXFxcIixcXG4gICAgICAgIGFsbF9sZWdhY3lfaG92ZXJzW2ldLmdldEF0dHJpYnV0ZShcXFwiY2xhc3NcXFwiKS5yZXBsYWNlKFxcXCIgaG92ZXJcXFwiLCBcXFwiXFxcIilcXG4gICAgICApO1xcblxcbiAgICAvL1NldCBvbmx5IGxhc3QgaG92ZXIgdG8gYmUgaG92ZXJlZFxcbiAgICBpZiAoYWxsX2hvdmVycy5sZW5ndGggPiAwKSB7XFxuICAgICAgdmFyIGxvY2FsX2NsYXNzID0gYWxsX2hvdmVyc1thbGxfaG92ZXJzLmxlbmd0aCAtIDFdLmdldEF0dHJpYnV0ZShcXFwiY2xhc3NcXFwiKTtcXG5cXG4gICAgICAobG9jYWxfY2xhc3MpID9cXG4gICAgICAgIGFsbF9ob3ZlcnNbYWxsX2hvdmVycy5sZW5ndGggLSAxXS5zZXRBdHRyaWJ1dGUoXFxcImNsYXNzXFxcIixcXG4gICAgICAgICAgbG9jYWxfY2xhc3MgKyBcXFwiIGhvdmVyXFxcIlxcbiAgICAgICAgKSA6XFxuICAgICAgICBhbGxfaG92ZXJzW2FsbF9ob3ZlcnMubGVuZ3RoIC0gMV0uc2V0QXR0cmlidXRlKFxcXCJjbGFzc1xcXCIsIFxcXCIgaG92ZXJcXFwiKTtcXG4gICAgfVxcbiAgfVxcblxcbiAgZnVuY3Rpb24gdG9nZ2xlRWxlbWVudFZpc2liaWxpdHkgKGFyZzBfZWxlbWVudCwgYXJnMV9idXR0b25fZWxlbWVudCkge1xcbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXFxuICAgIHZhciBlbGVtZW50ID0gYXJnMF9lbGVtZW50O1xcbiAgICB2YXIgYnRuX2VsZW1lbnQgPSBhcmcxX2J1dHRvbl9lbGVtZW50O1xcblxcbiAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXFxuICAgIHZhciBjbGFzc19uYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXFxcImNsYXNzXFxcIik7XFxuICAgIHZhciBpc192aXNpYmxlID0gdHJ1ZTtcXG5cXG4gICAgaWYgKGNsYXNzX25hbWUpXFxuICAgICAgaWYgKGNsYXNzX25hbWUuaW5jbHVkZXMoXFxcIiBoaWRkZW5cXFwiKSlcXG4gICAgICAgIGlzX3Zpc2libGUgPSBmYWxzZTtcXG5cXG4gICAgKGlzX3Zpc2libGUpID9cXG4gICAgICBoaWRlRWxlbWVudChlbGVtZW50KSA6XFxuICAgICAgc2hvd0VsZW1lbnQoZWxlbWVudCk7XFxuXFxuICAgIC8vU2V0IGJ1dHRvbiBlbGVtZW50IGNsYXNzIGlmIHByZXNlbnRcXG4gICAgaWYgKGJ0bl9lbGVtZW50KVxcbiAgICAgIChpc192aXNpYmxlKSA/XFxuICAgICAgICBidG5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXFxcImNsYXNzXFxcIiwgYnRuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKFxcXCJjbGFzc1xcXCIpLnJlcGxhY2UoXFxcIiBtaW5pbWlzZS1pY29uXFxcIiwgXFxcIiByZXZlcnNlLW1pbmltaXNlLWljb25cXFwiKSkgOlxcbiAgICAgICAgYnRuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFxcXCJjbGFzc1xcXCIsIGJ0bl9lbGVtZW50LmdldEF0dHJpYnV0ZShcXFwiY2xhc3NcXFwiKS5yZXBsYWNlKFxcXCIgcmV2ZXJzZS1taW5pbWlzZS1pY29uXFxcIiwgXFxcIiBtaW5pbWlzZS1pY29uXFxcIikpO1xcbiAgfVxcblxcbiAgLyoqXFxuICAgKiBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoKSAtIENyZWF0ZXMgc3RhbmRhcmQgZnJhbWV3b3JrIGZ1bmN0aW9ucyB0byByZWR1Y2UgYm9pbGVycGxhdGUgY29kZS5cXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmcwX29wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBmcmFtZXdvcmsgZnVuY3Rpb25zLlxcbiAgICogIEBwYXJhbSB7U3RyaW5nfSBhcmcwX29wdGlvbnMubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBmcmFtZXdvcmsgKGUuZy4sIFxcXCJlbnRpdHlfYWN0aW9uc1xcXCIsIFxcXCJ2YXJpYWJsZV9hY3Rpb25zXFxcIikuXFxuICAgKiAgQHBhcmFtIHtTdHJpbmd9IGFyZzBfb3B0aW9ucy5jb25maWdLZXkgLSBUaGUga2V5IGluIHRoZSBjb25maWcgb2JqZWN0IHdoZXJlIHRoZSBkYXRhIGlzIHN0b3JlZC5cXG4gICAqICBAcGFyYW0ge1N0cmluZ30gYXJnMF9vcHRpb25zLmZsYXR0ZW5lZEtleSAtIFRoZSBrZXkgaW4gdGhlIGNvbmZpZyBvYmplY3Qgd2hlcmUgdGhlIGZsYXR0ZW5lZCBkYXRhIGlzIHN0b3JlZC5cXG4gICAqICBAcGFyYW0ge0FycmF5PFN0cmluZz59IFthcmcwX29wdGlvbnMucmVzZXJ2ZWRLZXldIC0gT3B0aW9uYWwuIFRoZSBrZXkgaW4gY29tbW9uX2RlZmluZXMgZm9yIHJlc2VydmVkIGl0ZW1zLlxcbiAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNpbmd1bGFyTmFtZV0gLSBPcHRpb25hbC4gVGhlIHNpbmd1bGFyIG5hbWUgdXNlZCBpbiBmdW5jdGlvbiBuYW1lcyAoZGVmYXVsdHMgdG8gbmFtZSB3aXRob3V0IHRyYWlsaW5nICdzJykuXFxuICAgKiAgQHBhcmFtIHtCb29sZWFufSBbYXJnMF9vcHRpb25zLnVzZU1vZGVybkpTRG9jPWZhbHNlXSAtIE9wdGlvbmFsLiBXaGV0aGVyIHRvIHVzZSBtb2Rlcm4gSlNEb2MgY29tbWVudHMgaW5zdGVhZCBvZiB0cmFkaXRpb25hbCBjb21tZW50cy5cXG4gICAqIFxcbiAgICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBnZW5lcmF0ZWQgZnJhbWV3b3JrIGZ1bmN0aW9ucy5cXG4gICAqL1xcbiAgZnVuY3Rpb24gY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zIChhcmcwX29wdGlvbnMpIHtcXG4gICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xcbiAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XFxuXFxuICAgIC8vVmFsaWRhdGUgcmVxdWlyZWQgb3B0aW9uc1xcbiAgICBpZiAoIW9wdGlvbnMubmFtZSkgdGhyb3cgbmV3IEVycm9yKFxcXCJjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnM6IG5hbWUgaXMgcmVxdWlyZWRcXFwiKTtcXG4gICAgaWYgKCFvcHRpb25zLmNvbmZpZ0tleSkgdGhyb3cgbmV3IEVycm9yKFxcXCJjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnM6IGNvbmZpZ0tleSBpcyByZXF1aXJlZFxcXCIpO1xcbiAgICBpZiAoIW9wdGlvbnMuZmxhdHRlbmVkS2V5KSB0aHJvdyBuZXcgRXJyb3IoXFxcImNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uczogZmxhdHRlbmVkS2V5IGlzIHJlcXVpcmVkXFxcIik7XFxuXFxuICAgIC8vU2V0IGRlZmF1bHQgb3B0aW9uc1xcbiAgICB2YXIgc2luZ3VsYXJOYW1lID0gb3B0aW9ucy5zaW5ndWxhck5hbWUgfHwgb3B0aW9ucy5uYW1lLnJlcGxhY2UoL3MkLywgXFxcIlxcXCIpO1xcbiAgICB2YXIgY2FwaXRhbGl6ZWROYW1lID0gc2luZ3VsYXJOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc2luZ3VsYXJOYW1lLnNsaWNlKDEpO1xcbiAgICB2YXIgdXNlTW9kZXJuSlNEb2MgPSBvcHRpb25zLnVzZU1vZGVybkpTRG9jIHx8IGZhbHNlO1xcbiAgICBcXG4gICAgLy9DcmVhdGUgZnVuY3Rpb24gb2JqZWN0IHRvIHJldHVyblxcbiAgICB2YXIgZnJhbWV3b3JrRnVuY3Rpb25zID0ge307XFxuXFxuICAgIC8vQ3JlYXRlIGdldEFsbFggZnVuY3Rpb25cXG4gICAgdmFyIGdldEFsbEZ1bmN0aW9uTmFtZSA9IFxcXCJnZXRBbGxcXFwiICsgY2FwaXRhbGl6ZWROYW1lICsgXFxcInNcXFwiO1xcbiAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0QWxsRnVuY3Rpb25OYW1lXSA9IGZ1bmN0aW9uKGFyZzBfb3B0aW9ucykge1xcbiAgICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcXG4gICAgICB2YXIgZnVuY09wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xcblxcbiAgICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcXG4gICAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XFxuICAgICAgdmFyIGZsYXR0ZW5lZF9pdGVtcyA9IGNvbmZpZ1tvcHRpb25zLmZsYXR0ZW5lZEtleV07XFxuICAgICAgdmFyIHJldHVybl9pdGVtcyA9IFtdO1xcbiAgICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1xcblxcbiAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfaXRlbXNcXG4gICAgICB2YXIgYWxsX2ZsYXR0ZW5lZF9pdGVtcyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9pdGVtcyk7XFxuICAgICAgXFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICB2YXIgc2hvdWxkSW5jbHVkZSA9IHRydWU7XFxuICAgICAgICBcXG4gICAgICAgIC8vQ2hlY2sgaWYgaXRlbSBpcyByZXNlcnZlZFxcbiAgICAgICAgaWYgKG9wdGlvbnMucmVzZXJ2ZWRLZXkgJiYgY29tbW9uX2RlZmluZXNbb3B0aW9ucy5yZXNlcnZlZEtleV0pIHtcXG4gICAgICAgICAgaWYgKGNvbW1vbl9kZWZpbmVzW29wdGlvbnMucmVzZXJ2ZWRLZXldLmluY2x1ZGVzKGFsbF9mbGF0dGVuZWRfaXRlbXNbaV0pKSB7XFxuICAgICAgICAgICAgc2hvdWxkSW5jbHVkZSA9IGZhbHNlO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIGlmIChzaG91bGRJbmNsdWRlKSB7XFxuICAgICAgICAgIHJldHVybl9pdGVtcy5wdXNoKGZsYXR0ZW5lZF9pdGVtc1thbGxfZmxhdHRlbmVkX2l0ZW1zW2ldXSk7XFxuICAgICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF9pdGVtc1tpXSk7XFxuICAgICAgICB9XFxuICAgICAgfVxcblxcbiAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxcbiAgICAgIHJldHVybiAoIWZ1bmNPcHRpb25zLnJldHVybl9rZXlzKSA/IHJldHVybl9pdGVtcyA6IHJldHVybl9rZXlzO1xcbiAgICB9O1xcblxcbiAgICAvL0NyZWF0ZSBnZXRYIGZ1bmN0aW9uXFxuICAgIHZhciBnZXRGdW5jdGlvbk5hbWUgPSBcXFwiZ2V0XFxcIiArIGNhcGl0YWxpemVkTmFtZTtcXG4gICAgZnJhbWV3b3JrRnVuY3Rpb25zW2dldEZ1bmN0aW9uTmFtZV0gPSBmdW5jdGlvbihhcmcwX25hbWUsIGFyZzFfb3B0aW9ucykge1xcbiAgICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcXG4gICAgICB2YXIgbmFtZSA9IGFyZzBfbmFtZTtcXG4gICAgICB2YXIgZnVuY09wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xcblxcbiAgICAgIC8vR3VhcmQgY2xhdXNlIGZvciBvYmplY3RzOyBkaXJlY3Qga2V5c1xcbiAgICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcXFwib2JqZWN0XFxcIikgcmV0dXJuIG5hbWU7XFxuICAgICAgaWYgKGNvbmZpZ1tvcHRpb25zLmZsYXR0ZW5lZEtleV1bbmFtZV0pIHJldHVybiAoIWZ1bmNPcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnW29wdGlvbnMuZmxhdHRlbmVkS2V5XVtuYW1lXSA6IG5hbWU7XFxuXFxuICAgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICAgIHZhciBpdGVtX2V4aXN0cyA9IFtmYWxzZSwgXFxcIlxcXCJdOyAvL1tpdGVtX2V4aXN0cywgaXRlbV9rZXldXFxuICAgICAgdmFyIHNlYXJjaF9uYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcXG4gICAgICBcXG4gICAgICAvL0lEIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXFxuICAgICAge1xcbiAgICAgICAgLy9JdGVyYXRlIG92ZXIgY29uZmlnLmFsbF9pdGVtc1xcbiAgICAgICAgdmFyIGFsbF9pdGVtcyA9IGNvbmZpZ1tcXFwiYWxsX1xcXCIgKyBvcHRpb25zLm5hbWVdIHx8IFtdO1xcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfaXRlbXMubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gYWxsX2l0ZW1zW2ldO1xcbiAgICAgICAgICBcXG4gICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLmlkICYmIGxvY2FsX3ZhbHVlLmlkLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxcbiAgICAgICAgICAgIGl0ZW1fZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XFxuICAgICAgICB9XFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9pdGVtcy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBhbGxfaXRlbXNbaV07XFxuICAgICAgICAgIFxcbiAgICAgICAgICBpZiAobG9jYWxfdmFsdWUuaWQgJiYgbG9jYWxfdmFsdWUuaWQudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcXG4gICAgICAgICAgICBpdGVtX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgICBcXG4gICAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcXG4gICAgICB7XFxuICAgICAgICAvL0l0ZXJhdGUgb3ZlciBjb25maWcuYWxsX2l0ZW1zXFxuICAgICAgICB2YXIgYWxsX2l0ZW1zID0gY29uZmlnW1xcXCJhbGxfXFxcIiArIG9wdGlvbnMubmFtZV0gfHwgW107XFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9pdGVtcy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBhbGxfaXRlbXNbaV07XFxuICAgICAgICAgIFxcbiAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSAmJiBsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxcbiAgICAgICAgICAgIGl0ZW1fZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XFxuICAgICAgICB9XFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9pdGVtcy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBhbGxfaXRlbXNbaV07XFxuICAgICAgICAgIFxcbiAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSAmJiBsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXFxuICAgICAgICAgICAgaXRlbV9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgXFxuICAgICAgLy9SZXR1cm4gc3RhdGVtZW50XFxuICAgICAgaWYgKGl0ZW1fZXhpc3RzWzBdKVxcbiAgICAgICAgcmV0dXJuICghZnVuY09wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWdbb3B0aW9ucy5mbGF0dGVuZWRLZXldW2l0ZW1fZXhpc3RzWzFdXSA6IGl0ZW1fZXhpc3RzWzFdO1xcbiAgICB9O1xcblxcbiAgICAvL0NyZWF0ZSBnZXRYQXRPcmRlciBmdW5jdGlvblxcbiAgICB2YXIgZ2V0QXRPcmRlckZ1bmN0aW9uTmFtZSA9IFxcXCJnZXRcXFwiICsgY2FwaXRhbGl6ZWROYW1lICsgXFxcInNBdE9yZGVyXFxcIjtcXG4gICAgZnJhbWV3b3JrRnVuY3Rpb25zW2dldEF0T3JkZXJGdW5jdGlvbk5hbWVdID0gZnVuY3Rpb24oYXJnMF9vcHRpb25zKSB7XFxuICAgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xcbiAgICAgIHZhciBmdW5jT3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XFxuICAgICAgXFxuICAgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICAgIHZhciBmbGF0dGVuZWRfaXRlbXMgPSBjb25maWdbb3B0aW9ucy5mbGF0dGVuZWRLZXldO1xcbiAgICAgIHZhciBvcmRlciA9IChmdW5jT3B0aW9ucy5vcmRlciAhPSB1bmRlZmluZWQpID8gZnVuY09wdGlvbnMub3JkZXIgOiAxO1xcbiAgICAgIHZhciByZXR1cm5faXRlbXMgPSBbXTtcXG4gICAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcXG4gICAgICB2YXIgcmV0dXJuX29iaiA9IHt9O1xcbiAgICAgIFxcbiAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfaXRlbXNcXG4gICAgICB2YXIgYWxsX2ZsYXR0ZW5lZF9pdGVtcyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9pdGVtcyk7XFxuICAgICAgXFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICB2YXIgbG9jYWxfaXRlbSA9IGZsYXR0ZW5lZF9pdGVtc1thbGxfZmxhdHRlbmVkX2l0ZW1zW2ldXTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYgKGxvY2FsX2l0ZW0ub3JkZXIgPT0gb3JkZXIpIHtcXG4gICAgICAgICAgcmV0dXJuX2l0ZW1zLnB1c2gobG9jYWxfaXRlbSk7XFxuICAgICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF9pdGVtc1tpXSk7XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICAgIFxcbiAgICAgIC8vb3B0aW9ucy5yZXR1cm5fb2JqZWN0IGhhbmRsZXJcXG4gICAgICBpZiAoZnVuY09wdGlvbnMucmV0dXJuX29iamVjdCkge1xcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXR1cm5faXRlbXMubGVuZ3RoOyBpKyspXFxuICAgICAgICAgIHJldHVybl9vYmpbcmV0dXJuX2tleXNbaV1dID0gcmV0dXJuX2l0ZW1zW2ldO1xcbiAgICAgICAgLy9SZXR1cm4gc3RhdGVtZW50XFxuICAgICAgICByZXR1cm4gcmV0dXJuX29iajtcXG4gICAgICB9XFxuICAgICAgXFxuICAgICAgLy9SZXR1cm4gc3RhdGVtZW50XFxuICAgICAgcmV0dXJuICghZnVuY09wdGlvbnMucmV0dXJuX2tleXMpID8gcmV0dXJuX2l0ZW1zIDogcmV0dXJuX2tleXM7XFxuICAgIH07XFxuXFxuICAgIC8vQ3JlYXRlIGdldFhMb3dlc3RPcmRlciBmdW5jdGlvblxcbiAgICB2YXIgZ2V0TG93ZXN0T3JkZXJGdW5jdGlvbk5hbWUgPSBcXFwiZ2V0XFxcIiArIGNhcGl0YWxpemVkTmFtZSArIFxcXCJzTG93ZXN0T3JkZXJcXFwiO1xcbiAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0TG93ZXN0T3JkZXJGdW5jdGlvbk5hbWVdID0gZnVuY3Rpb24oYXJnMF9mbGF0dGVuZWRfaXRlbXMpIHtcXG4gICAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXFxuICAgICAgdmFyIGZsYXR0ZW5lZF9pdGVtcyA9IGFyZzBfZmxhdHRlbmVkX2l0ZW1zIHx8IGNvbmZpZ1tvcHRpb25zLmZsYXR0ZW5lZEtleV07XFxuICAgICAgXFxuICAgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICAgIHZhciBhbGxfZmxhdHRlbmVkX2l0ZW1zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX2l0ZW1zKTtcXG4gICAgICB2YXIgbG93ZXN0X29yZGVyID0gSW5maW5pdHk7XFxuICAgICAgXFxuICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF9pdGVtc1xcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF9pdGVtcy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgdmFyIGxvY2FsX2l0ZW0gPSBmbGF0dGVuZWRfaXRlbXNbYWxsX2ZsYXR0ZW5lZF9pdGVtc1tpXV07XFxuICAgICAgICBcXG4gICAgICAgIGlmIChsb2NhbF9pdGVtLm9yZGVyICYmIGxvY2FsX2l0ZW0ub3JkZXIgPCBsb3dlc3Rfb3JkZXIpXFxuICAgICAgICAgIGxvd2VzdF9vcmRlciA9IGxvY2FsX2l0ZW0ub3JkZXI7XFxuICAgICAgfVxcbiAgICAgIFxcbiAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxcbiAgICAgIHJldHVybiAobG93ZXN0X29yZGVyICE9IEluZmluaXR5KSA/IGxvd2VzdF9vcmRlciA6IDE7XFxuICAgIH07XFxuXFxuICAgIC8vQ3JlYXRlIGdldFhOYXZpZ2F0aW9uT2JqZWN0IGZ1bmN0aW9uXFxuICAgIHZhciBnZXROYXZpZ2F0aW9uT2JqZWN0RnVuY3Rpb25OYW1lID0gXFxcImdldFxcXCIgKyBjYXBpdGFsaXplZE5hbWUgKyBcXFwic05hdmlnYXRpb25PYmplY3RcXFwiO1xcbiAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0TmF2aWdhdGlvbk9iamVjdEZ1bmN0aW9uTmFtZV0gPSBmdW5jdGlvbigpIHtcXG4gICAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXFxuICAgICAgdmFyIGZsYXR0ZW5lZF9pdGVtcyA9IGNvbmZpZ1tvcHRpb25zLmZsYXR0ZW5lZEtleV07XFxuICAgICAgdmFyIGxvd2VzdF9vcmRlciA9IGZyYW1ld29ya0Z1bmN0aW9uc1tnZXRMb3dlc3RPcmRlckZ1bmN0aW9uTmFtZV0oZmxhdHRlbmVkX2l0ZW1zKTtcXG4gICAgICBcXG4gICAgICAvL1JldHVybiBzdGF0ZW1lbnRcXG4gICAgICByZXR1cm4gZnJhbWV3b3JrRnVuY3Rpb25zW2dldEF0T3JkZXJGdW5jdGlvbk5hbWVdKHsgb3JkZXI6IGxvd2VzdF9vcmRlciwgcmV0dXJuX29iamVjdDogdHJ1ZSB9KTtcXG4gICAgfTtcXG5cXG4gICAgcmV0dXJuIGZyYW1ld29ya0Z1bmN0aW9ucztcXG4gIH1cXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlcl8xXCI6IDEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJfMVwiOiA2Nn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJCYXNlZCBvbiBteSBhbmFseXNpcyBvZiB0aGUgZnJhbWV3b3JrIGZpbGVzLCBJIGNhbiBub3cgY3JlYXRlIGEgZnVuY3Rpb24tYmFzZWQgaW1wbGVtZW50YXRpb24gdG8gcmVkdWNlIHRoZSBib2lsZXJwbGF0ZSBjb2RlLiBJJ2xsIGFkZCB0aGlzIHRvIHRoZSBgdWlfZnJhbWV3b3JrLmpzYCBmaWxlOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG4gICAgICAgIDxyZXR1cm4tY29kZT5cbiAgICAgICAgMFxuICAgICAgICA8L3JldHVybi1jb2RlPlxuICAgICAgICA8c3Rkb3V0PlxuICAgICAgICBcdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbSC8vSW5pdGlhbGlzZSBFbnRpdHkgQWN0aW9ucyBmcmFtZXdvcmtcbntcbiAgLypcbiAgICBnZXRBbGxFbnRpdHlBY3Rpb25zKCkgLSBGZXRjaGVzIGFsbCBlbnRpdHkgYWN0aW9ucyBhcyBlaXRoZXIgYW4gYXJyYXkgb2Yga2V5cyBvciBvYmplY3RzLlxuICAgIGFyZzBfb3B0aW9uczogKE9iamVjdClcbiAgICAgIHJldHVybl9rZXlzOiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0Llx1MDAxYls4OzFIICAgIFJldHVybnM6IChBcnJheTxPYmplY3Q+L0FycmF5PFN0cmluZz4pXG4gICovXG4gIGZ1bmN0aW9uIGdldEFsbEVudGl0eUFjdGlvbnMgKGFyZzBfb3B0aW9ucykge1xuICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XHUwMDFiWzE0OzFIICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnM7XG4gICAgdmFyIHJldHVybl9hY3Rpb25zID0gW107XG4gICAgdmFyIHJldHVybl9rZXlzID0gW107XHUwMDFiWzIwOzFIICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNcbiAgICB2YXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyk7XHUwMDFiWzIzOzFIICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgICAgIGlmICghY29tbW9uX2RlZmluZXMucmVzZXJ2ZWRfZW50aXR5X2FjdGlvbnMuaW5jbHVkZXMoYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tpXSkpIHtcbiAgICAgICAgcmV0dXJuX2FjdGlvbnMucHVzaChmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tpXV0pO1xuXHUwMDFiXTA7QzpcXFdJTkRPV1NcXFN5c3RlbTMyXFxXaW5kb3dzUG93ZXJTaGVsbFxcdjEuMFxccG93ZXJzaGVsbC5leGVcdTAwMDdcdTAwMWJbPzI1aFxuICAgICAgICByZXR1cm5fa2V5cy5wdXNoKGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV0pO1xuICAgICAgfVxuXG4gICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fYWN0aW9ucykgPyByZXR1cm5fYWN0aW9ucyA6IHJldHVybl9rZXlzO1xuICB9XG5cbiAgLypcbiAgICBnZXRFbnRpdHlBY3Rpb24oKSAtIEZldGNoZXMgYW4gZW50aXR5IGFjdGlvbi5cbiAgICBhcmcwX25hbWU6IChTdHJpbmcpIC0gVGhlIG5hbWUvSUQgb2YgdGhlIGVudGl0eSBhY3Rpb24gY2F0ZWdvcnkuXG4gICAgYXJnMV9vcHRpb25zOiAoT2JqZWN0KVxuICAgICAgcmV0dXJuX2tleTogKEJvb2xlYW4pIC0gT3B0aW9uYWwuIFdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUga2V5LiBGYWxzZSBieSBkZWZhdWx0LlxuXG4gICAgUmV0dXJuczogKE9iamVjdC9TdHJpbmcpXG4gICovXG4gIGZ1bmN0aW9uIGdldEVudGl0eUFjdGlvbiAoYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgdmFyIG5hbWUgPSBhcmcwX25hbWU7XG4gICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuXG4gICAgLy9HdWFyZCBjbGF1c2UgZm9yIG9iamVjdHM7IGRpcmVjdCBrZXlzXG4gICAgaWYgKHR5cGVvZiBuYW1lID09IFwib2JqZWN0XCIpIHJldHVybiBuYW1lO1xuICAgIGlmIChjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW25hbWVdKSByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tuYW1lXSA6IG5hXG5cdTAwMWJbMjQ7MTIwSGFtZTtcblxuICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcblxuICAgICAgICA8L3N0ZG91dD5cbiAgICAgICAgPHN0ZGVycj5cbiAgICAgICAgXG4gICAgICAgIDwvc3RkZXJyPiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTFqSHd5U2F3b2hodDJhQkxnUk5oV0MifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjgsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6MzM6NDYuMDQ4WiIsInJlc3BvbnNlX3RleHQiOiJCYXNlZCBvbiBteSBhbmFseXNpcyBvZiB0aGUgZnJhbWV3b3JrIGZpbGVzLCBJIGNhbiBub3cgY3JlYXRlIGEgZnVuY3Rpb24tYmFzZWQgaW1wbGVtZW50YXRpb24gdG8gcmVkdWNlIHRoZSBib2lsZXJwbGF0ZSBjb2RlLiBJJ2xsIGFkZCB0aGlzIHRvIHRoZSBgdWlfZnJhbWV3b3JrLmpzYCBmaWxlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImRiMjIzZWM0LThiOTYtNDFjZS1iOWUyLWFlMGQ3ZWFmNWEwOCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUt1aTlzVlJTeXVzUHZ0a1p5Zm9BRFYiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwiaW5zdHJ1Y3Rpb25fcmVtaW5kZXJcIjogXCJBTFdBWVMgQlJFQUsgRE9XTiBFRElUUyBJTlRPIFNNQUxMRVIgQ0hVTktTIE9GIEFUIE1PU1QgMjAwIExJTkVTIEVBQ0guXCIsIFwicGF0aFwiOiBcInNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzXCIsIFwib2xkX3N0cl8xXCI6IFwiICAgIHJldHVybiBmcmFtZXdvcmtGdW5jdGlvbnM7XFxuICB9XFxufVwiLCBcIm5ld19zdHJfMVwiOiBcIiAgICByZXR1cm4gZnJhbWV3b3JrRnVuY3Rpb25zO1xcbiAgfVxcblxcbiAgLyoqXFxuICAgKiBVc2FnZSBleGFtcGxlIGZvciBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnM6XFxuICAgKiBcXG4gICAqIC8vIEZvciBlbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanNcXG4gICAqIHZhciBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zID0gY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zKHtcXG4gICAqICAgbmFtZTogXFxcImVudGl0eV9hY3Rpb25zXFxcIixcXG4gICAqICAgY29uZmlnS2V5OiBcXFwiZW50aXR5X2FjdGlvbnNcXFwiLFxcbiAgICogICBmbGF0dGVuZWRLZXk6IFxcXCJmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNcXFwiLFxcbiAgICogICByZXNlcnZlZEtleTogXFxcInJlc2VydmVkX2VudGl0eV9hY3Rpb25zXFxcIlxcbiAgICogfSk7XFxuICAgKiBcXG4gICAqIC8vIFRoZW4gYXNzaWduIHRoZSBmdW5jdGlvbnMgdG8gdGhlIGdsb2JhbCBzY29wZVxcbiAgICogd2luZG93LmdldEFsbEVudGl0eUFjdGlvbnMgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEFsbEVudGl0eUFjdGlvbnM7XFxuICAgKiB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb247XFxuICAgKiB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXIgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbnNBdE9yZGVyO1xcbiAgICogd2luZG93LmdldEVudGl0eUFjdGlvbnNMb3dlc3RPcmRlciA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyO1xcbiAgICogd2luZG93LmdldEVudGl0eUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0ID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdDtcXG4gICAqIFxcbiAgICogLy8gRm9yIHZhcmlhYmxlX2FjdGlvbnNfZnJhbWV3b3JrLmpzXFxuICAgKiB2YXIgdmFyaWFibGVBY3Rpb25zRnVuY3Rpb25zID0gY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zKHtcXG4gICAqICAgbmFtZTogXFxcInZhcmlhYmxlX2FjdGlvbnNcXFwiLFxcbiAgICogICBjb25maWdLZXk6IFxcXCJ2YXJpYWJsZXNcXFwiLFxcbiAgICogICBmbGF0dGVuZWRLZXk6IFxcXCJmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1xcXCIsXFxuICAgKiAgIHJlc2VydmVkS2V5OiBcXFwicmVzZXJ2ZWRfdmFyaWFibGVfYWN0aW9uc1xcXCJcXG4gICAqIH0pO1xcbiAgICogXFxuICAgKiAvLyBUaGVuIGFzc2lnbiB0aGUgZnVuY3Rpb25zIHRvIHRoZSBnbG9iYWwgc2NvcGVcXG4gICAqIHdpbmRvdy5nZXRBbGxWYXJpYWJsZUFjdGlvbnMgPSB2YXJpYWJsZUFjdGlvbnNGdW5jdGlvbnMuZ2V0QWxsVmFyaWFibGVBY3Rpb25zO1xcbiAgICogd2luZG93LmdldFZhcmlhYmxlQWN0aW9uID0gdmFyaWFibGVBY3Rpb25zRnVuY3Rpb25zLmdldFZhcmlhYmxlQWN0aW9uO1xcbiAgICogd2luZG93LmdldFZhcmlhYmxlQWN0aW9uc0F0T3JkZXIgPSB2YXJpYWJsZUFjdGlvbnNGdW5jdGlvbnMuZ2V0VmFyaWFibGVBY3Rpb25zQXRPcmRlcjtcXG4gICAqIHdpbmRvdy5nZXRWYXJpYWJsZUFjdGlvbnNMb3dlc3RPcmRlciA9IHZhcmlhYmxlQWN0aW9uc0Z1bmN0aW9ucy5nZXRWYXJpYWJsZUFjdGlvbnNMb3dlc3RPcmRlcjtcXG4gICAqIHdpbmRvdy5nZXRWYXJpYWJsZUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0ID0gdmFyaWFibGVBY3Rpb25zRnVuY3Rpb25zLmdldFZhcmlhYmxlQWN0aW9uc05hdmlnYXRpb25PYmplY3Q7XFxuICAgKi9cXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlcl8xXCI6IDI1NywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlcl8xXCI6IDI1OX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgSSdsbCBjcmVhdGUgYSB1c2FnZSBleGFtcGxlIHRvIGRlbW9uc3RyYXRlIGhvdyB0byB1c2UgdGhlIG5ldyBmdW5jdGlvbiB0byByZXBsYWNlIHRoZSBib2lsZXJwbGF0ZSBjb2RlLiBJJ2xsIGFkZCB0aGlzIHRvIHRoZSBlbmQgb2YgdGhlIGZpbGU6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgMVx0Ly9VSSB3aW5kb3cgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBjbG9zZVBvcHVwICgpIHtcbiAgICAgNFx0ICAgIG1hcC5jbG9zZVBvcHVwKCk7XG4gICAgIDVcdCAgfVxuICAgICA2XHRcbiAgICAgN1x0ICBmdW5jdGlvbiBoaWRlRWxlbWVudCAoYXJnMF9lbGVtZW50KSB7XG4gICAgIDhcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgIDlcdCAgICB2YXIgZWxlbWVudCA9IGFyZzBfZWxlbWVudDtcbiAgICAxMFx0XG4gICAgMTFcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTJcdCAgICB2YXIgY2xhc3NfbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgMTNcdFxuICAgIDE0XHQgICAgaWYgKCFjbGFzc19uYW1lLmluY2x1ZGVzKFwiIGhpZGRlblwiKSlcbiAgICAxNVx0ICAgICAgKGNsYXNzX25hbWUpID9cbiAgICAxNlx0ICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGAke2NsYXNzX25hbWV9IGhpZGRlbmApIDpcbiAgICAxN1x0ICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiIGhpZGRlblwiKTtcbiAgICAxOFx0ICB9XG4gICAgMTlcdFxuICAgIDIwXHQgIGZ1bmN0aW9uIHVwZGF0ZVNpZGViYXJIb3ZlciAoKSB7XG4gICAgMjFcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMjJcdCAgICB2YXIgYWxsX2hvdmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5oaWVyYXJjaHktZWxlbWVudHMtY29udGFpbmVyIGRpdjpob3ZlcmApO1xuICAgIDIzXHQgICAgdmFyIGFsbF9sZWdhY3lfaG92ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLmhvdmVyYCk7XG4gICAgMjRcdFxuICAgIDI1XHQgICAgLy9DbGVhciBhbGwgZWxlbWVudHMgd2l0aCAuaG92ZXIgY2xhc3NcbiAgICAyNlx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2xlZ2FjeV9ob3ZlcnMubGVuZ3RoOyBpKyspXG4gICAgMjdcdCAgICAgIGFsbF9sZWdhY3lfaG92ZXJzW2ldLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXG4gICAgMjhcdCAgICAgICAgYWxsX2xlZ2FjeV9ob3ZlcnNbaV0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikucmVwbGFjZShcIiBob3ZlclwiLCBcIlwiKVxuICAgIDI5XHQgICAgICApO1xuICAgIDMwXHRcbiAgICAzMVx0ICAgIC8vU2V0IG9ubHkgbGFzdCBob3ZlciB0byBiZSBob3ZlcmVkXG4gICAgMzJcdCAgICBpZiAoYWxsX2hvdmVycy5sZW5ndGggPiAwKSB7XG4gICAgMzNcdCAgICAgIHZhciBsb2NhbF9jbGFzcyA9IGFsbF9ob3ZlcnNbYWxsX2hvdmVycy5sZW5ndGggLSAxXS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAzNFx0XG4gICAgMzVcdCAgICAgIChsb2NhbF9jbGFzcykgP1xuICAgIDM2XHQgICAgICAgIGFsbF9ob3ZlcnNbYWxsX2hvdmVycy5sZW5ndGggLSAxXS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFxuICAgIDM3XHQgICAgICAgICAgbG9jYWxfY2xhc3MgKyBcIiBob3ZlclwiXG4gICAgMzhcdCAgICAgICAgKSA6XG4gICAgMzlcdCAgICAgICAgYWxsX2hvdmVyc1thbGxfaG92ZXJzLmxlbmd0aCAtIDFdLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiIGhvdmVyXCIpO1xuICAgIDQwXHQgICAgfVxuICAgIDQxXHQgIH1cbiAgICA0Mlx0XG4gICAgNDNcdCAgZnVuY3Rpb24gdG9nZ2xlRWxlbWVudFZpc2liaWxpdHkgKGFyZzBfZWxlbWVudCwgYXJnMV9idXR0b25fZWxlbWVudCkge1xuICAgIDQ0XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDQ1XHQgICAgdmFyIGVsZW1lbnQgPSBhcmcwX2VsZW1lbnQ7XG4gICAgNDZcdCAgICB2YXIgYnRuX2VsZW1lbnQgPSBhcmcxX2J1dHRvbl9lbGVtZW50O1xuICAgIDQ3XHRcbiAgICA0OFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICA0OVx0ICAgIHZhciBjbGFzc19uYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICA1MFx0ICAgIHZhciBpc192aXNpYmxlID0gdHJ1ZTtcbiAgICA1MVx0XG4gICAgNTJcdCAgICBpZiAoY2xhc3NfbmFtZSlcbiAgICA1M1x0ICAgICAgaWYgKGNsYXNzX25hbWUuaW5jbHVkZXMoXCIgaGlkZGVuXCIpKVxuICAgIDU0XHQgICAgICAgIGlzX3Zpc2libGUgPSBmYWxzZTtcbiAgICA1NVx0XG4gICAgNTZcdCAgICAoaXNfdmlzaWJsZSkgP1xuICAgIDU3XHQgICAgICBoaWRlRWxlbWVudChlbGVtZW50KSA6XG4gICAgNThcdCAgICAgIHNob3dFbGVtZW50KGVsZW1lbnQpO1xuICAgIDU5XHRcbiAgICA2MFx0ICAgIC8vU2V0IGJ1dHRvbiBlbGVtZW50IGNsYXNzIGlmIHByZXNlbnRcbiAgICA2MVx0ICAgIGlmIChidG5fZWxlbWVudClcbiAgICA2Mlx0ICAgICAgKGlzX3Zpc2libGUpID9cbiAgICA2M1x0ICAgICAgICBidG5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBidG5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKS5yZXBsYWNlKFwiIG1pbmltaXNlLWljb25cIiwgXCIgcmV2ZXJzZS1taW5pbWlzZS1pY29uXCIpKSA6XG4gICAgNjRcdCAgICAgICAgYnRuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYnRuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikucmVwbGFjZShcIiByZXZlcnNlLW1pbmltaXNlLWljb25cIiwgXCIgbWluaW1pc2UtaWNvblwiKSk7XG4gICAgNjVcdCAgfVxuICAgIDY2XHRcbiAgICA2N1x0ICAvKipcbiAgICA2OFx0ICAgKiBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoKSAtIENyZWF0ZXMgc3RhbmRhcmQgZnJhbWV3b3JrIGZ1bmN0aW9ucyB0byByZWR1Y2UgYm9pbGVycGxhdGUgY29kZS5cbiAgICA2OVx0ICAgKiBAcGFyYW0ge09iamVjdH0gYXJnMF9vcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgZnJhbWV3b3JrIGZ1bmN0aW9ucy5cbiAgICA3MFx0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IGFyZzBfb3B0aW9ucy5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGZyYW1ld29yayAoZS5nLiwgXCJlbnRpdHlfYWN0aW9uc1wiLCBcInZhcmlhYmxlX2FjdGlvbnNcIikuXG4gICAgNzFcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBhcmcwX29wdGlvbnMuY29uZmlnS2V5IC0gVGhlIGtleSBpbiB0aGUgY29uZmlnIG9iamVjdCB3aGVyZSB0aGUgZGF0YSBpcyBzdG9yZWQuXG4gICAgNzJcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBhcmcwX29wdGlvbnMuZmxhdHRlbmVkS2V5IC0gVGhlIGtleSBpbiB0aGUgY29uZmlnIG9iamVjdCB3aGVyZSB0aGUgZmxhdHRlbmVkIGRhdGEgaXMgc3RvcmVkLlxuICAgIDczXHQgICAqICBAcGFyYW0ge0FycmF5PFN0cmluZz59IFthcmcwX29wdGlvbnMucmVzZXJ2ZWRLZXldIC0gT3B0aW9uYWwuIFRoZSBrZXkgaW4gY29tbW9uX2RlZmluZXMgZm9yIHJlc2VydmVkIGl0ZW1zLlxuICAgIDc0XHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5zaW5ndWxhck5hbWVdIC0gT3B0aW9uYWwuIFRoZSBzaW5ndWxhciBuYW1lIHVzZWQgaW4gZnVuY3Rpb24gbmFtZXMgKGRlZmF1bHRzIHRvIG5hbWUgd2l0aG91dCB0cmFpbGluZyAncycpLlxuICAgIDc1XHQgICAqICBAcGFyYW0ge0Jvb2xlYW59IFthcmcwX29wdGlvbnMudXNlTW9kZXJuSlNEb2M9ZmFsc2VdIC0gT3B0aW9uYWwuIFdoZXRoZXIgdG8gdXNlIG1vZGVybiBKU0RvYyBjb21tZW50cyBpbnN0ZWFkIG9mIHRyYWRpdGlvbmFsIGNvbW1lbnRzLlxuICAgIDc2XHQgICAqXG4gICAgNzdcdCAgICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBnZW5lcmF0ZWQgZnJhbWV3b3JrIGZ1bmN0aW9ucy5cbiAgICA3OFx0ICAgKi9cbiAgICA3OVx0ICBmdW5jdGlvbiBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMgKGFyZzBfb3B0aW9ucykge1xuICAgIDgwXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDgxXHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xuICAgIDgyXHRcbiAgICA4M1x0ICAgIC8vVmFsaWRhdGUgcmVxdWlyZWQgb3B0aW9uc1xuICAgIDg0XHQgICAgaWYgKCFvcHRpb25zLm5hbWUpIHRocm93IG5ldyBFcnJvcihcImNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uczogbmFtZSBpcyByZXF1aXJlZFwiKTtcbiAgICA4NVx0ICAgIGlmICghb3B0aW9ucy5jb25maWdLZXkpIHRocm93IG5ldyBFcnJvcihcImNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uczogY29uZmlnS2V5IGlzIHJlcXVpcmVkXCIpO1xuICAgIDg2XHQgICAgaWYgKCFvcHRpb25zLmZsYXR0ZW5lZEtleSkgdGhyb3cgbmV3IEVycm9yKFwiY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zOiBmbGF0dGVuZWRLZXkgaXMgcmVxdWlyZWRcIik7XG4gICAgODdcdFxuICAgIDg4XHQgICAgLy9TZXQgZGVmYXVsdCBvcHRpb25zXG4gICAgODlcdCAgICB2YXIgc2luZ3VsYXJOYW1lID0gb3B0aW9ucy5zaW5ndWxhck5hbWUgfHwgb3B0aW9ucy5uYW1lLnJlcGxhY2UoL3MkLywgXCJcIik7XG4gICAgOTBcdCAgICB2YXIgY2FwaXRhbGl6ZWROYW1lID0gc2luZ3VsYXJOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc2luZ3VsYXJOYW1lLnNsaWNlKDEpO1xuICAgIDkxXHQgICAgdmFyIHVzZU1vZGVybkpTRG9jID0gb3B0aW9ucy51c2VNb2Rlcm5KU0RvYyB8fCBmYWxzZTtcbiAgICA5Mlx0XG4gICAgOTNcdCAgICAvL0NyZWF0ZSBmdW5jdGlvbiBvYmplY3QgdG8gcmV0dXJuXG4gICAgOTRcdCAgICB2YXIgZnJhbWV3b3JrRnVuY3Rpb25zID0ge307XG4gICAgOTVcdFxuICAgIDk2XHQgICAgLy9DcmVhdGUgZ2V0QWxsWCBmdW5jdGlvblxuICAgIDk3XHQgICAgdmFyIGdldEFsbEZ1bmN0aW9uTmFtZSA9IFwiZ2V0QWxsXCIgKyBjYXBpdGFsaXplZE5hbWUgKyBcInNcIjtcbiAgICA5OFx0ICAgIGZyYW1ld29ya0Z1bmN0aW9uc1tnZXRBbGxGdW5jdGlvbk5hbWVdID0gZnVuY3Rpb24oYXJnMF9vcHRpb25zKSB7XG4gICAgOTlcdCAgICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgIDEwMFx0ICAgICAgdmFyIGZ1bmNPcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgIDEwMVx0XG4gICAxMDJcdCAgICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDEwM1x0ICAgICAgdmFyIGNvbW1vbl9kZWZpbmVzID0gY29uZmlnLmRlZmluZXMuY29tbW9uO1xuICAgMTA0XHQgICAgICB2YXIgZmxhdHRlbmVkX2l0ZW1zID0gY29uZmlnW29wdGlvbnMuZmxhdHRlbmVkS2V5XTtcbiAgIDEwNVx0ICAgICAgdmFyIHJldHVybl9pdGVtcyA9IFtdO1xuICAgMTA2XHQgICAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgIDEwN1x0XG4gICAxMDhcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfaXRlbXNcbiAgIDEwOVx0ICAgICAgdmFyIGFsbF9mbGF0dGVuZWRfaXRlbXMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfaXRlbXMpO1xuICAgMTEwXHRcbiAgIDExMVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAxMTJcdCAgICAgICAgdmFyIHNob3VsZEluY2x1ZGUgPSB0cnVlO1xuICAgMTEzXHRcbiAgIDExNFx0ICAgICAgICAvL0NoZWNrIGlmIGl0ZW0gaXMgcmVzZXJ2ZWRcbiAgIDExNVx0ICAgICAgICBpZiAob3B0aW9ucy5yZXNlcnZlZEtleSAmJiBjb21tb25fZGVmaW5lc1tvcHRpb25zLnJlc2VydmVkS2V5XSkge1xuICAgMTE2XHQgICAgICAgICAgaWYgKGNvbW1vbl9kZWZpbmVzW29wdGlvbnMucmVzZXJ2ZWRLZXldLmluY2x1ZGVzKGFsbF9mbGF0dGVuZWRfaXRlbXNbaV0pKSB7XG4gICAxMTdcdCAgICAgICAgICAgIHNob3VsZEluY2x1ZGUgPSBmYWxzZTtcbiAgIDExOFx0ICAgICAgICAgIH1cbiAgIDExOVx0ICAgICAgICB9XG4gICAxMjBcdFxuICAgMTIxXHQgICAgICAgIGlmIChzaG91bGRJbmNsdWRlKSB7XG4gICAxMjJcdCAgICAgICAgICByZXR1cm5faXRlbXMucHVzaChmbGF0dGVuZWRfaXRlbXNbYWxsX2ZsYXR0ZW5lZF9pdGVtc1tpXV0pO1xuICAgMTIzXHQgICAgICAgICAgcmV0dXJuX2tleXMucHVzaChhbGxfZmxhdHRlbmVkX2l0ZW1zW2ldKTtcbiAgIDEyNFx0ICAgICAgICB9XG4gICAxMjVcdCAgICAgIH1cbiAgIDEyNlx0XG4gICAxMjdcdCAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMTI4XHQgICAgICByZXR1cm4gKCFmdW5jT3B0aW9ucy5yZXR1cm5fa2V5cykgPyByZXR1cm5faXRlbXMgOiByZXR1cm5fa2V5cztcbiAgIDEyOVx0ICAgIH07XG4gICAxMzBcdFxuICAgMTMxXHQgICAgLy9DcmVhdGUgZ2V0WCBmdW5jdGlvblxuICAgMTMyXHQgICAgdmFyIGdldEZ1bmN0aW9uTmFtZSA9IFwiZ2V0XCIgKyBjYXBpdGFsaXplZE5hbWU7XG4gICAxMzNcdCAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0RnVuY3Rpb25OYW1lXSA9IGZ1bmN0aW9uKGFyZzBfbmFtZSwgYXJnMV9vcHRpb25zKSB7XG4gICAxMzRcdCAgICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgIDEzNVx0ICAgICAgdmFyIG5hbWUgPSBhcmcwX25hbWU7XG4gICAxMzZcdCAgICAgIHZhciBmdW5jT3B0aW9ucyA9IChhcmcxX29wdGlvbnMpID8gYXJnMV9vcHRpb25zIDoge307XG4gICAxMzdcdFxuICAgMTM4XHQgICAgICAvL0d1YXJkIGNsYXVzZSBmb3Igb2JqZWN0czsgZGlyZWN0IGtleXNcbiAgIDEzOVx0ICAgICAgaWYgKHR5cGVvZiBuYW1lID09IFwib2JqZWN0XCIpIHJldHVybiBuYW1lO1xuICAgMTQwXHQgICAgICBpZiAoY29uZmlnW29wdGlvbnMuZmxhdHRlbmVkS2V5XVtuYW1lXSkgcmV0dXJuICghZnVuY09wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWdbb3B0aW9ucy5mbGF0dGVuZWRLZXldW25hbWVdIDogbmFtZTtcbiAgIDE0MVx0XG4gICAxNDJcdCAgICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDE0M1x0ICAgICAgdmFyIGl0ZW1fZXhpc3RzID0gW2ZhbHNlLCBcIlwiXTsgLy9baXRlbV9leGlzdHMsIGl0ZW1fa2V5XVxuICAgMTQ0XHQgICAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgMTQ1XHRcbiAgIDE0Nlx0ICAgICAgLy9JRCBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgMTQ3XHQgICAgICB7XG4gICAxNDhcdCAgICAgICAgLy9JdGVyYXRlIG92ZXIgY29uZmlnLmFsbF9pdGVtc1xuICAgMTQ5XHQgICAgICAgIHZhciBhbGxfaXRlbXMgPSBjb25maWdbXCJhbGxfXCIgKyBvcHRpb25zLm5hbWVdIHx8IFtdO1xuICAgMTUwXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAxNTFcdCAgICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBhbGxfaXRlbXNbaV07XG4gICAxNTJcdFxuICAgMTUzXHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLmlkICYmIGxvY2FsX3ZhbHVlLmlkLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgMTU0XHQgICAgICAgICAgICBpdGVtX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgMTU1XHQgICAgICAgIH1cbiAgIDE1Nlx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgMTU3XHQgICAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gYWxsX2l0ZW1zW2ldO1xuICAgMTU4XHRcbiAgIDE1OVx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5pZCAmJiBsb2NhbF92YWx1ZS5pZC50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMTYwXHQgICAgICAgICAgICBpdGVtX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgMTYxXHQgICAgICAgIH1cbiAgIDE2Mlx0ICAgICAgfVxuICAgMTYzXHRcbiAgIDE2NFx0ICAgICAgLy9OYW1lIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXG4gICAxNjVcdCAgICAgIHtcbiAgIDE2Nlx0ICAgICAgICAvL0l0ZXJhdGUgb3ZlciBjb25maWcuYWxsX2l0ZW1zXG4gICAxNjdcdCAgICAgICAgdmFyIGFsbF9pdGVtcyA9IGNvbmZpZ1tcImFsbF9cIiArIG9wdGlvbnMubmFtZV0gfHwgW107XG4gICAxNjhcdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgIDE2OVx0ICAgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGFsbF9pdGVtc1tpXTtcbiAgIDE3MFx0XG4gICAxNzFcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSAmJiBsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgMTcyXHQgICAgICAgICAgICBpdGVtX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgMTczXHQgICAgICAgIH1cbiAgIDE3NFx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgMTc1XHQgICAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gYWxsX2l0ZW1zW2ldO1xuICAgMTc2XHRcbiAgIDE3N1x0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lICYmIGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgIDE3OFx0ICAgICAgICAgICAgaXRlbV9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgIDE3OVx0ICAgICAgICB9XG4gICAxODBcdCAgICAgIH1cbiAgIDE4MVx0XG4gICAxODJcdCAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMTgzXHQgICAgICBpZiAoaXRlbV9leGlzdHNbMF0pXG4gICAxODRcdCAgICAgICAgcmV0dXJuICghZnVuY09wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWdbb3B0aW9ucy5mbGF0dGVuZWRLZXldW2l0ZW1fZXhpc3RzWzFdXSA6IGl0ZW1fZXhpc3RzWzFdO1xuICAgMTg1XHQgICAgfTtcbiAgIDE4Nlx0XG4gICAxODdcdCAgICAvL0NyZWF0ZSBnZXRYQXRPcmRlciBmdW5jdGlvblxuICAgMTg4XHQgICAgdmFyIGdldEF0T3JkZXJGdW5jdGlvbk5hbWUgPSBcImdldFwiICsgY2FwaXRhbGl6ZWROYW1lICsgXCJzQXRPcmRlclwiO1xuICAgMTg5XHQgICAgZnJhbWV3b3JrRnVuY3Rpb25zW2dldEF0T3JkZXJGdW5jdGlvbk5hbWVdID0gZnVuY3Rpb24oYXJnMF9vcHRpb25zKSB7XG4gICAxOTBcdCAgICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgIDE5MVx0ICAgICAgdmFyIGZ1bmNPcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgIDE5Mlx0XG4gICAxOTNcdCAgICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDE5NFx0ICAgICAgdmFyIGZsYXR0ZW5lZF9pdGVtcyA9IGNvbmZpZ1tvcHRpb25zLmZsYXR0ZW5lZEtleV07XG4gICAxOTVcdCAgICAgIHZhciBvcmRlciA9IChmdW5jT3B0aW9ucy5vcmRlciAhPSB1bmRlZmluZWQpID8gZnVuY09wdGlvbnMub3JkZXIgOiAxO1xuICAgMTk2XHQgICAgICB2YXIgcmV0dXJuX2l0ZW1zID0gW107XG4gICAxOTdcdCAgICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1xuICAgMTk4XHQgICAgICB2YXIgcmV0dXJuX29iaiA9IHt9O1xuICAgMTk5XHRcbiAgIDIwMFx0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF9pdGVtc1xuICAgMjAxXHQgICAgICB2YXIgYWxsX2ZsYXR0ZW5lZF9pdGVtcyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9pdGVtcyk7XG4gICAyMDJcdFxuICAgMjAzXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9mbGF0dGVuZWRfaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgIDIwNFx0ICAgICAgICB2YXIgbG9jYWxfaXRlbSA9IGZsYXR0ZW5lZF9pdGVtc1thbGxfZmxhdHRlbmVkX2l0ZW1zW2ldXTtcbiAgIDIwNVx0XG4gICAyMDZcdCAgICAgICAgaWYgKGxvY2FsX2l0ZW0ub3JkZXIgPT0gb3JkZXIpIHtcbiAgIDIwN1x0ICAgICAgICAgIHJldHVybl9pdGVtcy5wdXNoKGxvY2FsX2l0ZW0pO1xuICAgMjA4XHQgICAgICAgICAgcmV0dXJuX2tleXMucHVzaChhbGxfZmxhdHRlbmVkX2l0ZW1zW2ldKTtcbiAgIDIwOVx0ICAgICAgICB9XG4gICAyMTBcdCAgICAgIH1cbiAgIDIxMVx0XG4gICAyMTJcdCAgICAgIC8vb3B0aW9ucy5yZXR1cm5fb2JqZWN0IGhhbmRsZXJcbiAgIDIxM1x0ICAgICAgaWYgKGZ1bmNPcHRpb25zLnJldHVybl9vYmplY3QpIHtcbiAgIDIxNFx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJldHVybl9pdGVtcy5sZW5ndGg7IGkrKylcbiAgIDIxNVx0ICAgICAgICAgIHJldHVybl9vYmpbcmV0dXJuX2tleXNbaV1dID0gcmV0dXJuX2l0ZW1zW2ldO1xuICAgMjE2XHQgICAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMjE3XHQgICAgICAgIHJldHVybiByZXR1cm5fb2JqO1xuICAgMjE4XHQgICAgICB9XG4gICAyMTlcdFxuICAgMjIwXHQgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDIyMVx0ICAgICAgcmV0dXJuICghZnVuY09wdGlvbnMucmV0dXJuX2tleXMpID8gcmV0dXJuX2l0ZW1zIDogcmV0dXJuX2tleXM7XG4gICAyMjJcdCAgICB9O1xuICAgMjIzXHRcbiAgIDIyNFx0ICAgIC8vQ3JlYXRlIGdldFhMb3dlc3RPcmRlciBmdW5jdGlvblxuICAgMjI1XHQgICAgdmFyIGdldExvd2VzdE9yZGVyRnVuY3Rpb25OYW1lID0gXCJnZXRcIiArIGNhcGl0YWxpemVkTmFtZSArIFwic0xvd2VzdE9yZGVyXCI7XG4gICAyMjZcdCAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0TG93ZXN0T3JkZXJGdW5jdGlvbk5hbWVdID0gZnVuY3Rpb24oYXJnMF9mbGF0dGVuZWRfaXRlbXMpIHtcbiAgIDIyN1x0ICAgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgMjI4XHQgICAgICB2YXIgZmxhdHRlbmVkX2l0ZW1zID0gYXJnMF9mbGF0dGVuZWRfaXRlbXMgfHwgY29uZmlnW29wdGlvbnMuZmxhdHRlbmVkS2V5XTtcbiAgIDIyOVx0XG4gICAyMzBcdCAgICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDIzMVx0ICAgICAgdmFyIGFsbF9mbGF0dGVuZWRfaXRlbXMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfaXRlbXMpO1xuICAgMjMyXHQgICAgICB2YXIgbG93ZXN0X29yZGVyID0gSW5maW5pdHk7XG4gICAyMzNcdFxuICAgMjM0XHQgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2l0ZW1zXG4gICAyMzVcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgMjM2XHQgICAgICAgIHZhciBsb2NhbF9pdGVtID0gZmxhdHRlbmVkX2l0ZW1zW2FsbF9mbGF0dGVuZWRfaXRlbXNbaV1dO1xuICAgMjM3XHRcbiAgIDIzOFx0ICAgICAgICBpZiAobG9jYWxfaXRlbS5vcmRlciAmJiBsb2NhbF9pdGVtLm9yZGVyIDwgbG93ZXN0X29yZGVyKVxuICAgMjM5XHQgICAgICAgICAgbG93ZXN0X29yZGVyID0gbG9jYWxfaXRlbS5vcmRlcjtcbiAgIDI0MFx0ICAgICAgfVxuICAgMjQxXHRcbiAgIDI0Mlx0ICAgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAyNDNcdCAgICAgIHJldHVybiAobG93ZXN0X29yZGVyICE9IEluZmluaXR5KSA/IGxvd2VzdF9vcmRlciA6IDE7XG4gICAyNDRcdCAgICB9O1xuICAgMjQ1XHRcbiAgIDI0Nlx0ICAgIC8vQ3JlYXRlIGdldFhOYXZpZ2F0aW9uT2JqZWN0IGZ1bmN0aW9uXG4gICAyNDdcdCAgICB2YXIgZ2V0TmF2aWdhdGlvbk9iamVjdEZ1bmN0aW9uTmFtZSA9IFwiZ2V0XCIgKyBjYXBpdGFsaXplZE5hbWUgKyBcInNOYXZpZ2F0aW9uT2JqZWN0XCI7XG4gICAyNDhcdCAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0TmF2aWdhdGlvbk9iamVjdEZ1bmN0aW9uTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgIDI0OVx0ICAgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMjUwXHQgICAgICB2YXIgZmxhdHRlbmVkX2l0ZW1zID0gY29uZmlnW29wdGlvbnMuZmxhdHRlbmVkS2V5XTtcbiAgIDI1MVx0ICAgICAgdmFyIGxvd2VzdF9vcmRlciA9IGZyYW1ld29ya0Z1bmN0aW9uc1tnZXRMb3dlc3RPcmRlckZ1bmN0aW9uTmFtZV0oZmxhdHRlbmVkX2l0ZW1zKTtcbiAgIDI1Mlx0XG4gICAyNTNcdCAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMjU0XHQgICAgICByZXR1cm4gZnJhbWV3b3JrRnVuY3Rpb25zW2dldEF0T3JkZXJGdW5jdGlvbk5hbWVdKHsgb3JkZXI6IGxvd2VzdF9vcmRlciwgcmV0dXJuX29iamVjdDogdHJ1ZSB9KTtcbiAgIDI1NVx0ICAgIH07XG4gICAyNTZcdFxuICAgMjU3XHQgICAgcmV0dXJuIGZyYW1ld29ya0Z1bmN0aW9ucztcbiAgIDI1OFx0ICB9XG4gICAyNTlcdH1cbiAgIDI2MFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVZTVWZrN1ZFVlZjdENnNTQyZEI4TWUifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjgsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6MzQ6MzcuMDc5WiIsInJlc3BvbnNlX3RleHQiOiJOb3cgSSdsbCBjcmVhdGUgYSB1c2FnZSBleGFtcGxlIHRvIGRlbW9uc3RyYXRlIGhvdyB0byB1c2UgdGhlIG5ldyBmdW5jdGlvbiB0byByZXBsYWNlIHRoZSBib2lsZXJwbGF0ZSBjb2RlLiBJJ2xsIGFkZCB0aGlzIHRvIHRoZSBlbmQgb2YgdGhlIGZpbGU6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZjIzMzMyYmMtNWVmZS00NjQyLTg5NjYtMDVlMGQ2ZmRjMmUxIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSd2ZSBzdWNjZXNzZnVsbHkgaW1wbGVtZW50ZWQgYSBmdW5jdGlvbi1iYXNlZCBhcHByb2FjaCB0byByZWR1Y2UgdGhlIGJvaWxlcnBsYXRlIGNvZGUgaW4gdGhlIHByb2plY3QuIExldCBtZSBleHBsYWluIHdoYXQgSSd2ZSBkb25lOlxuXG4jIyBJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5XG5cbkkndmUgY3JlYXRlZCBhIG5ldyBmdW5jdGlvbiBjYWxsZWQgYGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uc2AgaW4gdGhlIGBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qc2AgZmlsZS4gVGhpcyBmdW5jdGlvbjpcblxuMS4gVGFrZXMgYSBjb25maWd1cmF0aW9uIG9iamVjdCB3aXRoIHBhcmFtZXRlcnMgbGlrZSBgbmFtZWAsIGBjb25maWdLZXlgLCBgZmxhdHRlbmVkS2V5YCwgYW5kIG9wdGlvbmFsIHBhcmFtZXRlcnMgbGlrZSBgcmVzZXJ2ZWRLZXlgIGFuZCBgc2luZ3VsYXJOYW1lYC5cbjIuIER5bmFtaWNhbGx5IGdlbmVyYXRlcyBhbGwgdGhlIHN0YW5kYXJkIGZyYW1ld29yayBmdW5jdGlvbnMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgZHVwbGljYXRlZCBhY3Jvc3MgZGlmZmVyZW50IGZyYW1ld29yayBmaWxlcy5cbjMuIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZXNlIGZ1bmN0aW9ucywgd2hpY2ggY2FuIHRoZW4gYmUgYXNzaWduZWQgdG8gdGhlIGdsb2JhbCBzY29wZS5cblxuIyMgS2V5IEZlYXR1cmVzXG5cbjEuICoqUmVkdWNlZCBCb2lsZXJwbGF0ZSoqOiBJbnN0ZWFkIG9mIGR1cGxpY2F0aW5nIHNpbWlsYXIgY29kZSBhY3Jvc3MgbXVsdGlwbGUgZnJhbWV3b3JrIGZpbGVzLCB3ZSBub3cgaGF2ZSBhIHNpbmdsZSBmdW5jdGlvbiB0aGF0IGdlbmVyYXRlcyBhbGwgdGhlIG5lY2Vzc2FyeSBmdW5jdGlvbnMuXG5cbjIuICoqQ29uc2lzdGVudCBJbXBsZW1lbnRhdGlvbioqOiBBbGwgZ2VuZXJhdGVkIGZ1bmN0aW9ucyBmb2xsb3cgdGhlIHNhbWUgcGF0dGVybiwgZW5zdXJpbmcgY29uc2lzdGVuY3kgYWNyb3NzIHRoZSBjb2RlYmFzZS5cblxuMy4gKipGbGV4aWJsZSBDb25maWd1cmF0aW9uKio6IFRoZSBmdW5jdGlvbiBhY2NlcHRzIHZhcmlvdXMgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIGN1c3RvbWl6ZSB0aGUgYmVoYXZpb3IgZm9yIGRpZmZlcmVudCB0eXBlcyBvZiBmcmFtZXdvcmtzLlxuXG40LiAqKk1haW50YWlucyBQcm9qZWN0IFN0eWxlKio6IFRoZSBpbXBsZW1lbnRhdGlvbiBmb2xsb3dzIHRoZSBwcm9qZWN0J3MgZXhpc3RpbmcgY29kaW5nIHN0eWxlLCB1c2luZyB0aGUgc2FtZSBwYXJhbWV0ZXIgbmFtaW5nIGNvbnZlbnRpb25zLCBjb21tZW50IHN0eWxlcywgYW5kIGZ1bmN0aW9uIHN0cnVjdHVyZXMuXG5cbiMjIFVzYWdlIEV4YW1wbGVcblxuSSd2ZSBpbmNsdWRlZCBhIGNvbXByZWhlbnNpdmUgdXNhZ2UgZXhhbXBsZSBhcyBhIGNvbW1lbnQgYXQgdGhlIGVuZCBvZiB0aGUgZmlsZSwgc2hvd2luZyBob3cgdG8gdXNlIHRoaXMgZnVuY3Rpb24gZm9yIGJvdGggZW50aXR5X2FjdGlvbnMgYW5kIHZhcmlhYmxlX2FjdGlvbnMgZnJhbWV3b3Jrcy4gRm9yIGV4YW1wbGU6XG5cbmBgYGphdmFzY3JpcHRcbi8vIEZvciBlbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanNcbnZhciBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zID0gY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zKHtcbiAgbmFtZTogXCJlbnRpdHlfYWN0aW9uc1wiLFxuICBjb25maWdLZXk6IFwiZW50aXR5X2FjdGlvbnNcIixcbiAgZmxhdHRlbmVkS2V5OiBcImZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1wiLFxuICByZXNlcnZlZEtleTogXCJyZXNlcnZlZF9lbnRpdHlfYWN0aW9uc1wiXG59KTtcblxuLy8gVGhlbiBhc3NpZ24gdGhlIGZ1bmN0aW9ucyB0byB0aGUgZ2xvYmFsIHNjb3BlXG53aW5kb3cuZ2V0QWxsRW50aXR5QWN0aW9ucyA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0QWxsRW50aXR5QWN0aW9ucztcbndpbmRvdy5nZXRFbnRpdHlBY3Rpb24gPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbjtcbndpbmRvdy5nZXRFbnRpdHlBY3Rpb25zQXRPcmRlciA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXI7XG53aW5kb3cuZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXI7XG53aW5kb3cuZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3QgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0O1xuYGBgXG5cbiMjIEJlbmVmaXRzXG5cbjEuICoqTWFpbnRhaW5hYmlsaXR5Kio6IENoYW5nZXMgdG8gdGhlIGNvcmUgZnVuY3Rpb25hbGl0eSBvbmx5IG5lZWQgdG8gYmUgbWFkZSBpbiBvbmUgcGxhY2UuXG4yLiAqKkNvbnNpc3RlbmN5Kio6IEFsbCBmcmFtZXdvcmsgZnVuY3Rpb25zIGZvbGxvdyB0aGUgc2FtZSBwYXR0ZXJucyBhbmQgYmVoYXZpb3JzLlxuMy4gKipSZWR1Y2VkIENvZGUgRHVwbGljYXRpb24qKjogRWxpbWluYXRlcyB0aGUgbmVlZCB0byBjb3B5IGFuZCBwYXN0ZSBzaW1pbGFyIGNvZGUgYWNyb3NzIG11bHRpcGxlIGZpbGVzLlxuNC4gKipFYXNpZXIgT25ib2FyZGluZyoqOiBOZXcgZGV2ZWxvcGVycyBjYW4gdW5kZXJzdGFuZCB0aGUgcGF0dGVybiBvbmNlIGFuZCBhcHBseSBpdCBldmVyeXdoZXJlLlxuXG4jIyBOZXh0IFN0ZXBzXG5cblRvIGZ1bGx5IGltcGxlbWVudCB0aGlzIGFwcHJvYWNoIGFjcm9zcyB0aGUgcHJvamVjdCwgeW91IHdvdWxkIG5lZWQgdG86XG5cbjEuIFVwZGF0ZSBlYWNoIGZyYW1ld29yayBmaWxlIHRvIHVzZSB0aGlzIG5ldyBmdW5jdGlvbiBpbnN0ZWFkIG9mIHRoZWlyIGN1cnJlbnQgaW1wbGVtZW50YXRpb25zLlxuMi4gRW5zdXJlIHRoYXQgYW55IGZyYW1ld29yay1zcGVjaWZpYyBmdW5jdGlvbmFsaXR5IGlzIHByb3Blcmx5IGhhbmRsZWQuXG4zLiBUZXN0IHRob3JvdWdobHkgdG8gbWFrZSBzdXJlIGFsbCBmdW5jdGlvbmFsaXR5IHdvcmtzIGFzIGV4cGVjdGVkLlxuXG5Xb3VsZCB5b3UgbGlrZSBtZSB0byBkZW1vbnN0cmF0ZSBob3cgdG8gdXBkYXRlIG9uZSBvZiB0aGUgZXhpc3RpbmcgZnJhbWV3b3JrIGZpbGVzIHRvIHVzZSB0aGlzIG5ldyBhcHByb2FjaD9cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFsxXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMjUzXHQgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDI1NFx0ICAgICAgcmV0dXJuIGZyYW1ld29ya0Z1bmN0aW9uc1tnZXRBdE9yZGVyRnVuY3Rpb25OYW1lXSh7IG9yZGVyOiBsb3dlc3Rfb3JkZXIsIHJldHVybl9vYmplY3Q6IHRydWUgfSk7XG4gICAyNTVcdCAgICB9O1xuICAgMjU2XHRcbiAgIDI1N1x0ICAgIHJldHVybiBmcmFtZXdvcmtGdW5jdGlvbnM7XG4gICAyNThcdCAgfVxuICAgMjU5XHRcbiAgIDI2MFx0ICAvKipcbiAgIDI2MVx0ICAgKiBVc2FnZSBleGFtcGxlIGZvciBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnM6XG4gICAyNjJcdCAgICpcbiAgIDI2M1x0ICAgKiAvLyBGb3IgZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzXG4gICAyNjRcdCAgICogdmFyIGVudGl0eUFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xuICAgMjY1XHQgICAqICAgbmFtZTogXCJlbnRpdHlfYWN0aW9uc1wiLFxuICAgMjY2XHQgICAqICAgY29uZmlnS2V5OiBcImVudGl0eV9hY3Rpb25zXCIsXG4gICAyNjdcdCAgICogICBmbGF0dGVuZWRLZXk6IFwiZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXCIsXG4gICAyNjhcdCAgICogICByZXNlcnZlZEtleTogXCJyZXNlcnZlZF9lbnRpdHlfYWN0aW9uc1wiXG4gICAyNjlcdCAgICogfSk7XG4gICAyNzBcdCAgICpcbiAgIDI3MVx0ICAgKiAvLyBUaGVuIGFzc2lnbiB0aGUgZnVuY3Rpb25zIHRvIHRoZSBnbG9iYWwgc2NvcGVcbiAgIDI3Mlx0ICAgKiB3aW5kb3cuZ2V0QWxsRW50aXR5QWN0aW9ucyA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0QWxsRW50aXR5QWN0aW9ucztcbiAgIDI3M1x0ICAgKiB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb247XG4gICAyNzRcdCAgICogd2luZG93LmdldEVudGl0eUFjdGlvbnNBdE9yZGVyID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zQXRPcmRlcjtcbiAgIDI3NVx0ICAgKiB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXI7XG4gICAyNzZcdCAgICogd2luZG93LmdldEVudGl0eUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0ID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdDtcbiAgIDI3N1x0ICAgKlxuICAgMjc4XHQgICAqIC8vIEZvciB2YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgMjc5XHQgICAqIHZhciB2YXJpYWJsZUFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xuICAgMjgwXHQgICAqICAgbmFtZTogXCJ2YXJpYWJsZV9hY3Rpb25zXCIsXG4gICAyODFcdCAgICogICBjb25maWdLZXk6IFwidmFyaWFibGVzXCIsXG4gICAyODJcdCAgICogICBmbGF0dGVuZWRLZXk6IFwiZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNcIixcbiAgIDI4M1x0ICAgKiAgIHJlc2VydmVkS2V5OiBcInJlc2VydmVkX3ZhcmlhYmxlX2FjdGlvbnNcIlxuICAgMjg0XHQgICAqIH0pO1xuICAgMjg1XHQgICAqXG4gICAyODZcdCAgICogLy8gVGhlbiBhc3NpZ24gdGhlIGZ1bmN0aW9ucyB0byB0aGUgZ2xvYmFsIHNjb3BlXG4gICAyODdcdCAgICogd2luZG93LmdldEFsbFZhcmlhYmxlQWN0aW9ucyA9IHZhcmlhYmxlQWN0aW9uc0Z1bmN0aW9ucy5nZXRBbGxWYXJpYWJsZUFjdGlvbnM7XG4gICAyODhcdCAgICogd2luZG93LmdldFZhcmlhYmxlQWN0aW9uID0gdmFyaWFibGVBY3Rpb25zRnVuY3Rpb25zLmdldFZhcmlhYmxlQWN0aW9uO1xuICAgMjg5XHQgICAqIHdpbmRvdy5nZXRWYXJpYWJsZUFjdGlvbnNBdE9yZGVyID0gdmFyaWFibGVBY3Rpb25zRnVuY3Rpb25zLmdldFZhcmlhYmxlQWN0aW9uc0F0T3JkZXI7XG4gICAyOTBcdCAgICogd2luZG93LmdldFZhcmlhYmxlQWN0aW9uc0xvd2VzdE9yZGVyID0gdmFyaWFibGVBY3Rpb25zRnVuY3Rpb25zLmdldFZhcmlhYmxlQWN0aW9uc0xvd2VzdE9yZGVyO1xuICAgMjkxXHQgICAqIHdpbmRvdy5nZXRWYXJpYWJsZUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0ID0gdmFyaWFibGVBY3Rpb25zRnVuY3Rpb25zLmdldFZhcmlhYmxlQWN0aW9uc05hdmlnYXRpb25PYmplY3Q7XG4gICAyOTJcdCAgICovXG4gICAyOTNcdH1cbiAgIDI5NFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUt1aTlzVlJTeXVzUHZ0a1p5Zm9BRFYifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjgsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6MzQ6NTEuMDkzWiIsInJlc3BvbnNlX3RleHQiOiJJJ3ZlIHN1Y2Nlc3NmdWxseSBpbXBsZW1lbnRlZCBhIGZ1bmN0aW9uLWJhc2VkIGFwcHJvYWNoIHRvIHJlZHVjZSB0aGUgYm9pbGVycGxhdGUgY29kZSBpbiB0aGUgcHJvamVjdC4gTGV0IG1lIGV4cGxhaW4gd2hhdCBJJ3ZlIGRvbmU6XG5cbiMjIEltcGxlbWVudGF0aW9uIFN1bW1hcnlcblxuSSd2ZSBjcmVhdGVkIGEgbmV3IGZ1bmN0aW9uIGNhbGxlZCBgY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zYCBpbiB0aGUgYHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzYCBmaWxlLiBUaGlzIGZ1bmN0aW9uOlxuXG4xLiBUYWtlcyBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHdpdGggcGFyYW1ldGVycyBsaWtlIGBuYW1lYCwgYGNvbmZpZ0tleWAsIGBmbGF0dGVuZWRLZXlgLCBhbmQgb3B0aW9uYWwgcGFyYW1ldGVycyBsaWtlIGByZXNlcnZlZEtleWAgYW5kIGBzaW5ndWxhck5hbWVgLlxuMi4gRHluYW1pY2FsbHkgZ2VuZXJhdGVzIGFsbCB0aGUgc3RhbmRhcmQgZnJhbWV3b3JrIGZ1bmN0aW9ucyB0aGF0IHdlcmUgcHJldmlvdXNseSBkdXBsaWNhdGVkIGFjcm9zcyBkaWZmZXJlbnQgZnJhbWV3b3JrIGZpbGVzLlxuMy4gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlc2UgZnVuY3Rpb25zLCB3aGljaCBjYW4gdGhlbiBiZSBhc3NpZ25lZCB0byB0aGUgZ2xvYmFsIHNjb3BlLlxuXG4jIyBLZXkgRmVhdHVyZXNcblxuMS4gKipSZWR1Y2VkIEJvaWxlcnBsYXRlKio6IEluc3RlYWQgb2YgZHVwbGljYXRpbmcgc2ltaWxhciBjb2RlIGFjcm9zcyBtdWx0aXBsZSBmcmFtZXdvcmsgZmlsZXMsIHdlIG5vdyBoYXZlIGEgc2luZ2xlIGZ1bmN0aW9uIHRoYXQgZ2VuZXJhdGVzIGFsbCB0aGUgbmVjZXNzYXJ5IGZ1bmN0aW9ucy5cblxuMi4gKipDb25zaXN0ZW50IEltcGxlbWVudGF0aW9uKio6IEFsbCBnZW5lcmF0ZWQgZnVuY3Rpb25zIGZvbGxvdyB0aGUgc2FtZSBwYXR0ZXJuLCBlbnN1cmluZyBjb25zaXN0ZW5jeSBhY3Jvc3MgdGhlIGNvZGViYXNlLlxuXG4zLiAqKkZsZXhpYmxlIENvbmZpZ3VyYXRpb24qKjogVGhlIGZ1bmN0aW9uIGFjY2VwdHMgdmFyaW91cyBjb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gY3VzdG9taXplIHRoZSBiZWhhdmlvciBmb3IgZGlmZmVyZW50IHR5cGVzIG9mIGZyYW1ld29ya3MuXG5cbjQuICoqTWFpbnRhaW5zIFByb2plY3QgU3R5bGUqKjogVGhlIGltcGxlbWVudGF0aW9uIGZvbGxvd3MgdGhlIHByb2plY3QncyBleGlzdGluZyBjb2Rpbmcgc3R5bGUsIHVzaW5nIHRoZSBzYW1lIHBhcmFtZXRlciBuYW1pbmcgY29udmVudGlvbnMsIGNvbW1lbnQgc3R5bGVzLCBhbmQgZnVuY3Rpb24gc3RydWN0dXJlcy5cblxuIyMgVXNhZ2UgRXhhbXBsZVxuXG5JJ3ZlIGluY2x1ZGVkIGEgY29tcHJlaGVuc2l2ZSB1c2FnZSBleGFtcGxlIGFzIGEgY29tbWVudCBhdCB0aGUgZW5kIG9mIHRoZSBmaWxlLCBzaG93aW5nIGhvdyB0byB1c2UgdGhpcyBmdW5jdGlvbiBmb3IgYm90aCBlbnRpdHlfYWN0aW9ucyBhbmQgdmFyaWFibGVfYWN0aW9ucyBmcmFtZXdvcmtzLiBGb3IgZXhhbXBsZTpcblxuYGBgamF2YXNjcmlwdFxuLy8gRm9yIGVudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1xudmFyIGVudGl0eUFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xuICBuYW1lOiBcImVudGl0eV9hY3Rpb25zXCIsXG4gIGNvbmZpZ0tleTogXCJlbnRpdHlfYWN0aW9uc1wiLFxuICBmbGF0dGVuZWRLZXk6IFwiZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXCIsXG4gIHJlc2VydmVkS2V5OiBcInJlc2VydmVkX2VudGl0eV9hY3Rpb25zXCJcbn0pO1xuXG4vLyBUaGVuIGFzc2lnbiB0aGUgZnVuY3Rpb25zIHRvIHRoZSBnbG9iYWwgc2NvcGVcbndpbmRvdy5nZXRBbGxFbnRpdHlBY3Rpb25zID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRBbGxFbnRpdHlBY3Rpb25zO1xud2luZG93LmdldEVudGl0eUFjdGlvbiA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uO1xud2luZG93LmdldEVudGl0eUFjdGlvbnNBdE9yZGVyID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zQXRPcmRlcjtcbndpbmRvdy5nZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbnNMb3dlc3RPcmRlcjtcbndpbmRvdy5nZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3Q7XG5gYGBcblxuIyMgQmVuZWZpdHNcblxuMS4gKipNYWludGFpbmFiaWxpdHkqKjogQ2hhbmdlcyB0byB0aGUgY29yZSBmdW5jdGlvbmFsaXR5IG9ubHkgbmVlZCB0byBiZSBtYWRlIGluIG9uZSBwbGFjZS5cbjIuICoqQ29uc2lzdGVuY3kqKjogQWxsIGZyYW1ld29yayBmdW5jdGlvbnMgZm9sbG93IHRoZSBzYW1lIHBhdHRlcm5zIGFuZCBiZWhhdmlvcnMuXG4zLiAqKlJlZHVjZWQgQ29kZSBEdXBsaWNhdGlvbioqOiBFbGltaW5hdGVzIHRoZSBuZWVkIHRvIGNvcHkgYW5kIHBhc3RlIHNpbWlsYXIgY29kZSBhY3Jvc3MgbXVsdGlwbGUgZmlsZXMuXG40LiAqKkVhc2llciBPbmJvYXJkaW5nKio6IE5ldyBkZXZlbG9wZXJzIGNhbiB1bmRlcnN0YW5kIHRoZSBwYXR0ZXJuIG9uY2UgYW5kIGFwcGx5IGl0IGV2ZXJ5d2hlcmUuXG5cbiMjIE5leHQgU3RlcHNcblxuVG8gZnVsbHkgaW1wbGVtZW50IHRoaXMgYXBwcm9hY2ggYWNyb3NzIHRoZSBwcm9qZWN0LCB5b3Ugd291bGQgbmVlZCB0bzpcblxuMS4gVXBkYXRlIGVhY2ggZnJhbWV3b3JrIGZpbGUgdG8gdXNlIHRoaXMgbmV3IGZ1bmN0aW9uIGluc3RlYWQgb2YgdGhlaXIgY3VycmVudCBpbXBsZW1lbnRhdGlvbnMuXG4yLiBFbnN1cmUgdGhhdCBhbnkgZnJhbWV3b3JrLXNwZWNpZmljIGZ1bmN0aW9uYWxpdHkgaXMgcHJvcGVybHkgaGFuZGxlZC5cbjMuIFRlc3QgdGhvcm91Z2hseSB0byBtYWtlIHN1cmUgYWxsIGZ1bmN0aW9uYWxpdHkgd29ya3MgYXMgZXhwZWN0ZWQuXG5cbldvdWxkIHlvdSBsaWtlIG1lIHRvIGRlbW9uc3RyYXRlIGhvdyB0byB1cGRhdGUgb25lIG9mIHRoZSBleGlzdGluZyBmcmFtZXdvcmsgZmlsZXMgdG8gdXNlIHRoaXMgbmV3IGFwcHJvYWNoP1xuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJyZXF1ZXN0X2lkIjoiNjBhN2Y0MGEtZDJiNS00OTI5LThkNjMtODU2MDlkNTNlMjkxIiwidXVpZCI6Ijk1YjliM2E1LTI4ZWUtNGQyYS05NTE2LWM2ZGNlZjA1YTVmNiIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MTc0Nzg5ODcyOTY3NywidG9UaW1lc3RhbXAiOjE3NDc4OTkzMDY0NTQsInNlZW5fc3RhdGUiOiJzZWVuIn0seyJyZXF1ZXN0X2lkIjoiYTkyYWUxNjMtOWRkZC00ZDMwLTk0MTYtYTVlMzRmZTk1NDcxIiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI4MzYwYmU4Ni0yM2VjLTQ4YjYtYWViYi05N2UzZjZjYTI3YmQiLCJyZXF1ZXN0X21lc3NhZ2UiOiJEb2VzIHRoYXQgaGFuZGxlIHRoZSBjYXNlcyBvZiBhbGwgdGhlIGZ1bmN0aW9ucyBtZXRpb25lZCBlYXJsaWVyPyBSZW1lbWJlciwgeW91IHNob3VsZCBhY3R1YWxseSBpbXBsZW1lbnQgZnVuY3Rpb25hbGl0eS4iLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiRG9lcyB0aGF0IGhhbmRsZSB0aGUgY2FzZXMgb2YgYWxsIHRoZSBmdW5jdGlvbnMgbWV0aW9uZWQgZWFybGllcj8gUmVtZW1iZXIsIHlvdSBzaG91bGQgYWN0dWFsbHkgaW1wbGVtZW50IGZ1bmN0aW9uYWxpdHkuIn1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE4bTlaclA1ZnJaTnFzaFJydDY0dlZZIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJMaXN0IGFsbCBmdW5jdGlvbiBuYW1lcyBhbmQgdGhlaXIgc2lnbmF0dXJlcyBpbiBlbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanMsIGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzLCB2YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qcywgYnJ1c2hfYWN0aW9uc19mcmFtZXdvcmsuanMsIGFuZCBncm91cF9hY3Rpb25zX2ZyYW1ld29yay5qcyB0byBlbnN1cmUgd2UndmUgY292ZXJlZCBhbGwgZnVuY3Rpb25hbGl0eSBpbiBvdXIgaW1wbGVtZW50YXRpb24uXCJ9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiWW91J3JlIHJpZ2h0IC0gSSBzaG91bGQgdmVyaWZ5IHRoYXQgdGhlIGltcGxlbWVudGF0aW9uIGNvdmVycyBhbGwgdGhlIGZ1bmN0aW9uYWxpdHkgZnJvbSB0aGUgb3JpZ2luYWwgZnJhbWV3b3JrIGZpbGVzLiBMZXQgbWUgYW5hbHl6ZSB0aGUgZXhpc3RpbmcgZnJhbWV3b3JrIGZpbGVzIG1vcmUgdGhvcm91Z2hseSBhbmQgZW5zdXJlIG15IGltcGxlbWVudGF0aW9uIGhhbmRsZXMgYWxsIGNhc2VzLlxuXG5MZXQgbWUgY2hlY2sgdGhlIHNwZWNpZmljIGZ1bmN0aW9ucyBpbiBlYWNoIGZyYW1ld29yayBmaWxlIHRvIG1ha2Ugc3VyZSB3ZSd2ZSBjb3ZlcmVkIGV2ZXJ5dGhpbmc6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6IkRvZXMgdGhhdCBoYW5kbGUgdGhlIGNhc2VzIG9mIGFsbCB0aGUgZnVuY3Rpb25zIG1ldGlvbmVkIGVhcmxpZXI/IFJlbWVtYmVyLCB5b3Ugc2hvdWxkIGFjdHVhbGx5IGltcGxlbWVudCBmdW5jdGlvbmFsaXR5LiJ9fSx7ImlkIjoxLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6OCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzozNTo0My40OTlaIiwicmVzcG9uc2VfdGV4dCI6IllvdSdyZSByaWdodCAtIEkgc2hvdWxkIHZlcmlmeSB0aGF0IHRoZSBpbXBsZW1lbnRhdGlvbiBjb3ZlcnMgYWxsIHRoZSBmdW5jdGlvbmFsaXR5IGZyb20gdGhlIG9yaWdpbmFsIGZyYW1ld29yayBmaWxlcy4gTGV0IG1lIGFuYWx5emUgdGhlIGV4aXN0aW5nIGZyYW1ld29yayBmaWxlcyBtb3JlIHRob3JvdWdobHkgYW5kIGVuc3VyZSBteSBpbXBsZW1lbnRhdGlvbiBoYW5kbGVzIGFsbCBjYXNlcy5cblxuTGV0IG1lIGNoZWNrIHRoZSBzcGVjaWZpYyBmdW5jdGlvbnMgaW4gZWFjaCBmcmFtZXdvcmsgZmlsZSB0byBtYWtlIHN1cmUgd2UndmUgY292ZXJlZCBldmVyeXRoaW5nOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImU0NWFiM2U5LTA4MDItNDc3Mi04MWY2LWE3ZWFhZGYyMzFiMCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUxoR3dMcjR4OHczVGFkcGpZYTVzVm0iLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwiaW5zdHJ1Y3Rpb25fcmVtaW5kZXJcIjogXCJBTFdBWVMgQlJFQUsgRE9XTiBFRElUUyBJTlRPIFNNQUxMRVIgQ0hVTktTIE9GIEFUIE1PU1QgMjAwIExJTkVTIEVBQ0guXCIsIFwicGF0aFwiOiBcInNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzXCIsIFwib2xkX3N0cl8xXCI6IFwiICAvKipcXG4gICAqIGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9ucygpIC0gQ3JlYXRlcyBzdGFuZGFyZCBmcmFtZXdvcmsgZnVuY3Rpb25zIHRvIHJlZHVjZSBib2lsZXJwbGF0ZSBjb2RlLlxcbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZzBfb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGZyYW1ld29yayBmdW5jdGlvbnMuXFxuICAgKiAgQHBhcmFtIHtTdHJpbmd9IGFyZzBfb3B0aW9ucy5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGZyYW1ld29yayAoZS5nLiwgXFxcImVudGl0eV9hY3Rpb25zXFxcIiwgXFxcInZhcmlhYmxlX2FjdGlvbnNcXFwiKS5cXG4gICAqICBAcGFyYW0ge1N0cmluZ30gYXJnMF9vcHRpb25zLmNvbmZpZ0tleSAtIFRoZSBrZXkgaW4gdGhlIGNvbmZpZyBvYmplY3Qgd2hlcmUgdGhlIGRhdGEgaXMgc3RvcmVkLlxcbiAgICogIEBwYXJhbSB7U3RyaW5nfSBhcmcwX29wdGlvbnMuZmxhdHRlbmVkS2V5IC0gVGhlIGtleSBpbiB0aGUgY29uZmlnIG9iamVjdCB3aGVyZSB0aGUgZmxhdHRlbmVkIGRhdGEgaXMgc3RvcmVkLlxcbiAgICogIEBwYXJhbSB7QXJyYXk8U3RyaW5nPn0gW2FyZzBfb3B0aW9ucy5yZXNlcnZlZEtleV0gLSBPcHRpb25hbC4gVGhlIGtleSBpbiBjb21tb25fZGVmaW5lcyBmb3IgcmVzZXJ2ZWQgaXRlbXMuXFxuICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMuc2luZ3VsYXJOYW1lXSAtIE9wdGlvbmFsLiBUaGUgc2luZ3VsYXIgbmFtZSB1c2VkIGluIGZ1bmN0aW9uIG5hbWVzIChkZWZhdWx0cyB0byBuYW1lIHdpdGhvdXQgdHJhaWxpbmcgJ3MnKS5cXG4gICAqICBAcGFyYW0ge0Jvb2xlYW59IFthcmcwX29wdGlvbnMudXNlTW9kZXJuSlNEb2M9ZmFsc2VdIC0gT3B0aW9uYWwuIFdoZXRoZXIgdG8gdXNlIG1vZGVybiBKU0RvYyBjb21tZW50cyBpbnN0ZWFkIG9mIHRyYWRpdGlvbmFsIGNvbW1lbnRzLlxcbiAgICogXFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIGdlbmVyYXRlZCBmcmFtZXdvcmsgZnVuY3Rpb25zLlxcbiAgICovXFxuICBmdW5jdGlvbiBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMgKGFyZzBfb3B0aW9ucykge1xcbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXFxuICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcXG5cXG4gICAgLy9WYWxpZGF0ZSByZXF1aXJlZCBvcHRpb25zXFxuICAgIGlmICghb3B0aW9ucy5uYW1lKSB0aHJvdyBuZXcgRXJyb3IoXFxcImNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uczogbmFtZSBpcyByZXF1aXJlZFxcXCIpO1xcbiAgICBpZiAoIW9wdGlvbnMuY29uZmlnS2V5KSB0aHJvdyBuZXcgRXJyb3IoXFxcImNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uczogY29uZmlnS2V5IGlzIHJlcXVpcmVkXFxcIik7XFxuICAgIGlmICghb3B0aW9ucy5mbGF0dGVuZWRLZXkpIHRocm93IG5ldyBFcnJvcihcXFwiY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zOiBmbGF0dGVuZWRLZXkgaXMgcmVxdWlyZWRcXFwiKTtcXG5cXG4gICAgLy9TZXQgZGVmYXVsdCBvcHRpb25zXFxuICAgIHZhciBzaW5ndWxhck5hbWUgPSBvcHRpb25zLnNpbmd1bGFyTmFtZSB8fCBvcHRpb25zLm5hbWUucmVwbGFjZSgvcyQvLCBcXFwiXFxcIik7XFxuICAgIHZhciBjYXBpdGFsaXplZE5hbWUgPSBzaW5ndWxhck5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzaW5ndWxhck5hbWUuc2xpY2UoMSk7XFxuICAgIHZhciB1c2VNb2Rlcm5KU0RvYyA9IG9wdGlvbnMudXNlTW9kZXJuSlNEb2MgfHwgZmFsc2U7XFxuICAgIFxcbiAgICAvL0NyZWF0ZSBmdW5jdGlvbiBvYmplY3QgdG8gcmV0dXJuXFxuICAgIHZhciBmcmFtZXdvcmtGdW5jdGlvbnMgPSB7fTtcIiwgXCJuZXdfc3RyXzFcIjogXCIgIC8qKlxcbiAgICogY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zKCkgLSBDcmVhdGVzIHN0YW5kYXJkIGZyYW1ld29yayBmdW5jdGlvbnMgdG8gcmVkdWNlIGJvaWxlcnBsYXRlIGNvZGUuXFxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnMF9vcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgZnJhbWV3b3JrIGZ1bmN0aW9ucy5cXG4gICAqICBAcGFyYW0ge1N0cmluZ30gYXJnMF9vcHRpb25zLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZnJhbWV3b3JrIChlLmcuLCBcXFwiZW50aXR5X2FjdGlvbnNcXFwiLCBcXFwidmFyaWFibGVfYWN0aW9uc1xcXCIpLlxcbiAgICogIEBwYXJhbSB7U3RyaW5nfSBhcmcwX29wdGlvbnMuY29uZmlnS2V5IC0gVGhlIGtleSBpbiB0aGUgY29uZmlnIG9iamVjdCB3aGVyZSB0aGUgZGF0YSBpcyBzdG9yZWQuXFxuICAgKiAgQHBhcmFtIHtTdHJpbmd9IGFyZzBfb3B0aW9ucy5mbGF0dGVuZWRLZXkgLSBUaGUga2V5IGluIHRoZSBjb25maWcgb2JqZWN0IHdoZXJlIHRoZSBmbGF0dGVuZWQgZGF0YSBpcyBzdG9yZWQuXFxuICAgKiAgQHBhcmFtIHtBcnJheTxTdHJpbmc+fSBbYXJnMF9vcHRpb25zLnJlc2VydmVkS2V5XSAtIE9wdGlvbmFsLiBUaGUga2V5IGluIGNvbW1vbl9kZWZpbmVzIGZvciByZXNlcnZlZCBpdGVtcy5cXG4gICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5zaW5ndWxhck5hbWVdIC0gT3B0aW9uYWwuIFRoZSBzaW5ndWxhciBuYW1lIHVzZWQgaW4gZnVuY3Rpb24gbmFtZXMgKGRlZmF1bHRzIHRvIG5hbWUgd2l0aG91dCB0cmFpbGluZyAncycpLlxcbiAgICogIEBwYXJhbSB7Qm9vbGVhbn0gW2FyZzBfb3B0aW9ucy51c2VNb2Rlcm5KU0RvYz1mYWxzZV0gLSBPcHRpb25hbC4gV2hldGhlciB0byB1c2UgbW9kZXJuIEpTRG9jIGNvbW1lbnRzIGluc3RlYWQgb2YgdHJhZGl0aW9uYWwgY29tbWVudHMuXFxuICAgKiAgQHBhcmFtIHtCb29sZWFufSBbYXJnMF9vcHRpb25zLm5hdmlnYXRpb25SZXR1cm5zQXJyYXk9ZmFsc2VdIC0gT3B0aW9uYWwuIFdoZXRoZXIgdGhlIG5hdmlnYXRpb24gb2JqZWN0IGZ1bmN0aW9uIHJldHVybnMgYW4gYXJyYXkgZWxlbWVudCBbMF0gb3IgdGhlIGZ1bGwgb2JqZWN0LlxcbiAgICogIEBwYXJhbSB7T2JqZWN0fSBbYXJnMF9vcHRpb25zLmFkZGl0aW9uYWxGdW5jdGlvbnNdIC0gT3B0aW9uYWwuIEFkZGl0aW9uYWwgY3VzdG9tIGZ1bmN0aW9ucyBzcGVjaWZpYyB0byB0aGlzIGZyYW1ld29yay5cXG4gICAqIFxcbiAgICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBnZW5lcmF0ZWQgZnJhbWV3b3JrIGZ1bmN0aW9ucy5cXG4gICAqL1xcbiAgZnVuY3Rpb24gY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zIChhcmcwX29wdGlvbnMpIHtcXG4gICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xcbiAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XFxuXFxuICAgIC8vVmFsaWRhdGUgcmVxdWlyZWQgb3B0aW9uc1xcbiAgICBpZiAoIW9wdGlvbnMubmFtZSkgdGhyb3cgbmV3IEVycm9yKFxcXCJjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnM6IG5hbWUgaXMgcmVxdWlyZWRcXFwiKTtcXG4gICAgaWYgKCFvcHRpb25zLmNvbmZpZ0tleSkgdGhyb3cgbmV3IEVycm9yKFxcXCJjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnM6IGNvbmZpZ0tleSBpcyByZXF1aXJlZFxcXCIpO1xcbiAgICBpZiAoIW9wdGlvbnMuZmxhdHRlbmVkS2V5KSB0aHJvdyBuZXcgRXJyb3IoXFxcImNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uczogZmxhdHRlbmVkS2V5IGlzIHJlcXVpcmVkXFxcIik7XFxuXFxuICAgIC8vU2V0IGRlZmF1bHQgb3B0aW9uc1xcbiAgICB2YXIgc2luZ3VsYXJOYW1lID0gb3B0aW9ucy5zaW5ndWxhck5hbWUgfHwgb3B0aW9ucy5uYW1lLnJlcGxhY2UoL3MkLywgXFxcIlxcXCIpO1xcbiAgICB2YXIgY2FwaXRhbGl6ZWROYW1lID0gc2luZ3VsYXJOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc2luZ3VsYXJOYW1lLnNsaWNlKDEpO1xcbiAgICB2YXIgdXNlTW9kZXJuSlNEb2MgPSBvcHRpb25zLnVzZU1vZGVybkpTRG9jIHx8IGZhbHNlO1xcbiAgICB2YXIgbmF2aWdhdGlvblJldHVybnNBcnJheSA9IG9wdGlvbnMubmF2aWdhdGlvblJldHVybnNBcnJheSB8fCBmYWxzZTtcXG4gICAgXFxuICAgIC8vQ3JlYXRlIGZ1bmN0aW9uIG9iamVjdCB0byByZXR1cm5cXG4gICAgdmFyIGZyYW1ld29ya0Z1bmN0aW9ucyA9IHt9O1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJfMVwiOiA2NywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlcl8xXCI6IDk0fSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkJhc2VkIG9uIG15IGFuYWx5c2lzIG9mIHRoZSBmcmFtZXdvcmsgZmlsZXMsIEkgbmVlZCB0byBtYWtlIGEgZmV3IGFkanVzdG1lbnRzIHRvIGVuc3VyZSBteSBpbXBsZW1lbnRhdGlvbiBjb3ZlcnMgYWxsIHRoZSBmdW5jdGlvbmFsaXR5LiBMZXQgbWUgdXBkYXRlIHRoZSBgY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zYCBmdW5jdGlvbiB0byBoYW5kbGUgYWxsIGNhc2VzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIEVudGl0eSBBY3Rpb25zIGZyYW1ld29ya1xuICAgICAyXHR7XG4gICAgIDNcdCAgLypcbiAgICAgNFx0ICAgIGdldEFsbEVudGl0eUFjdGlvbnMoKSAtIEZldGNoZXMgYWxsIGVudGl0eSBhY3Rpb25zIGFzIGVpdGhlciBhbiBhcnJheSBvZiBrZXlzIG9yIG9iamVjdHMuXG4gICAgIDVcdCAgICBhcmcwX29wdGlvbnM6IChPYmplY3QpXG4gICAgIDZcdCAgICAgIHJldHVybl9rZXlzOiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0LlxuICAgICA3XHRcbiAgICAgOFx0ICAgIFJldHVybnM6IChBcnJheTxPYmplY3Q+L0FycmF5PFN0cmluZz4pXG4gICAgIDlcdCAgKi9cbiAgICAxMFx0ICBmdW5jdGlvbiBnZXRBbGxFbnRpdHlBY3Rpb25zIChhcmcwX29wdGlvbnMpIHtcbiAgICAxMVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAxMlx0ICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgICAxM1x0XG4gICAgMTRcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTVcdCAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAgMTZcdCAgICB2YXIgZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucztcbiAgICAxN1x0ICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xuICAgIDE4XHQgICAgdmFyIHJldHVybl9rZXlzID0gW107XG4gICAgMTlcdFxuICAgIDIwXHQgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1xuICAgIDIxXHQgICAgdmFyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMpO1xuICAgIDIyXHRcbiAgICAyM1x0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgICAyNFx0ICAgICAgaWYgKCFjb21tb25fZGVmaW5lcy5yZXNlcnZlZF9lbnRpdHlfYWN0aW9ucy5pbmNsdWRlcyhhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldKSkge1xuICAgIDI1XHQgICAgICAgIHJldHVybl9hY3Rpb25zLnB1c2goZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV1dKTtcbiAgICAyNlx0ICAgICAgICByZXR1cm5fa2V5cy5wdXNoKGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV0pO1xuICAgIDI3XHQgICAgICB9XG4uLi5cbiAgICAzOFx0XG4gICAgMzlcdCAgICBSZXR1cm5zOiAoT2JqZWN0L1N0cmluZylcbiAgICA0MFx0ICAqL1xuICAgIDQxXHQgIGZ1bmN0aW9uIGdldEVudGl0eUFjdGlvbiAoYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcbiAgICA0Mlx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICA0M1x0ICAgIHZhciBuYW1lID0gYXJnMF9uYW1lO1xuICAgIDQ0XHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuICAgIDQ1XHRcbiAgICA0Nlx0ICAgIC8vR3VhcmQgY2xhdXNlIGZvciBvYmplY3RzOyBkaXJlY3Qga2V5c1xuICAgIDQ3XHQgICAgaWYgKHR5cGVvZiBuYW1lID09IFwib2JqZWN0XCIpIHJldHVybiBuYW1lO1xuICAgIDQ4XHQgICAgaWYgKGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbbmFtZV0pIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW25hbWVdIDogbmFtZTtcbiAgICA0OVx0XG4gICAgNTBcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgNTFcdCAgICB2YXIgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW2ZhbHNlLCBcIlwiXTsgLy9bZW50aXR5X2FjdGlvbnNfZXhpc3RzLCBlbnRpdHlfYWN0aW9uc19rZXldO1xuICAgIDUyXHQgICAgdmFyIHNlYXJjaF9uYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbi4uLlxuICAgMjMwXHRcbiAgIDIzMVx0ICAvKlxuICAgMjMyXHQgICAgZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyKCkgLSBGZXRjaGVzIHRoZSBsb3dlc3QgLm9yZGVyIGZyb20gYWxsIGNvbmZpZy5lbnRpdHlfYWN0aW9ucy5cbiAgIDIzM1x0XG4gICAyMzRcdCAgICBSZXR1cm5zOiAoTnVtYmVyKVxuICAgMjM1XHQgICovXG4gICAyMzZcdCAgZnVuY3Rpb24gZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyICgpIHtcbiAgIDIzN1x0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDIzOFx0ICAgIHZhciBmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zO1xuICAgMjM5XHQgICAgdmFyIG1pbl9vcmRlciA9IEluZmluaXR5O1xuICAgMjQwXHRcbiAgIDI0MVx0ICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNcbiAgIDI0Mlx0ICAgIHZhciBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zKTtcbiAgIDI0M1x0XG4gICAyNDRcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDI0NVx0ICAgICAgdmFyIGxvY2FsX2FjdGlvbiA9IGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1thbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldXTtcbiAgIDI0Nlx0XG4gICAyNDdcdCAgICAgIGlmIChsb2NhbF9hY3Rpb24ub3JkZXIgIT0gdW5kZWZpbmVkKVxuICAgMjQ4XHQgICAgICAgIG1pbl9vcmRlciA9IE1hdGgubWluKG1pbl9vcmRlciwgbG9jYWxfYWN0aW9uLm9yZGVyKTtcbiAgIDI0OVx0ICAgIH1cbiAgIDI1MFx0XG4gICAyNTFcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDI1Mlx0ICAgIHJldHVybiBtaW5fb3JkZXI7XG4gICAyNTNcdCAgfVxuICAgMjU0XHRcbiAgIDI1NVx0ICAvKlxuICAgMjU2XHQgICAgZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3QoKSAtIEZldGNoZXMgdGhlIG5hdmlnYXRpb24gb2JqZWN0IGZvciBlbnRpdHkgYWN0aW9uczsgdGhlIGluaXRpYWwgY29udGV4dCBtZW51IGZyb20gdGhlIGxvd2VzdCBvcmRlci5cbiAgIDI1N1x0XG4gICAyNThcdCAgICBSZXR1cm5zOiAoT2JqZWN0KVxuICAgMjU5XHQgICovXG4gICAyNjBcdCAgZnVuY3Rpb24gZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3QgKCkge1xuICAgMjYxXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMjYyXHQgICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnM7XG4gICAyNjNcdCAgICB2YXIgbG93ZXN0X29yZGVyID0gZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyKGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyk7XG4gICAyNjRcdFxuICAgMjY1XHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAyNjZcdCAgICByZXR1cm4gZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXIoeyBvcmRlcjogbG93ZXN0X29yZGVyLCByZXR1cm5fb2JqZWN0OiB0cnVlIH0pO1xuICAgMjY3XHQgIH1cbiAgIDI2OFx0fVxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2FjdGlvbnMvdW5kb19yZWRvX2ZyYW1ld29yay5qc1xuLi4uXG4gICAgNjBcdFxuICAgIDYxXHQgIC8vaW5pdGlhbGlzZVVuZG9SZWRvQWN0aW9ucygpIC0gU2V0cyB1cCB1bmRvL3JlZG8gYWN0aW9ucy5cbiAgICA2Mlx0ICBmdW5jdGlvbiBpbml0aWFsaXNlVW5kb1JlZG9BY3Rpb25zICgpIHtcbiAgICA2M1x0ICAgIC8vQnJ1c2hcbiAgICA2NFx0ICAgIHtcbiAgICA2NVx0ICAgICAgY3JlYXRlQWN0aW9uKFwiYWRkX3RvX2JydXNoXCIsIHtcbiAgICA2Nlx0ICAgICAgICBuYW1lOiBcIkFkZCBUbyBCcnVzaFwiLFxuICAgIDY3XHQgIFxuICAgIDY4XHQgICAgICAgIGZ1bmN0aW9uOiBcImFkZFRvQnJ1c2hcIixcbiAgICA2OVx0ICAgICAgICByZXZlcnNlX2Z1bmN0aW9uOiBcInJlbW92ZUZyb21CcnVzaFwiXG4gICAgNzBcdCAgICAgIH0pO1xuICAgIDcxXHQgIFxuICAgIDcyXHQgICAgICBjcmVhdGVBY3Rpb24oXCJyZW1vdmVfZnJvbV9icnVzaFwiLCB7XG4gICAgNzNcdCAgICAgICAgbmFtZTogXCJSZW1vdmUgRnJvbSBCcnVzaFwiLFxuICAgIDc0XHQgIFxuICAgIDc1XHQgICAgICAgIGZ1bmN0aW9uOiBcInJlbW92ZUZyb21CcnVzaFwiLFxuICAgIDc2XHQgICAgICAgIHJldmVyc2VfZnVuY3Rpb246IFwiYWRkVG9CcnVzaFwiXG4gICAgNzdcdCAgICAgIH0pO1xuICAgIDc4XHQgICAgfVxuICAgIDc5XHRcbiAgICA4MFx0ICAgIC8vRGF0ZVxuICAgIDgxXHQgICAge1xuICAgIDgyXHQgICAgICBjcmVhdGVBY3Rpb24oXCJjaGFuZ2VfZGF0ZVwiLCB7XG4gICAgODNcdCAgICAgICAgbmFtZTogXCJDaGFuZ2UgRGF0ZVwiLFxuICAgIDg0XHRcbiAgICA4NVx0ICAgICAgICBmdW5jdGlvbjogXCJsb2FkRGF0ZVwiLFxuICAgIDg2XHQgICAgICAgIHJldmVyc2VfZnVuY3Rpb246IFwibG9hZERhdGVcIlxuICAgIDg3XHQgICAgICB9KTtcbiAgICA4OFx0ICAgIH1cbiAgICA4OVx0ICAgIFxuICAgIDkwXHQgICAgLy9FbnRpdGllc1xuICAgIDkxXHQgICAge1xuICAgIDkyXHQgICAgICAvL0VudGl0eSBBY3Rpb25zIChHZW5lcmljKVxuICAgIDkzXHQgICAgICBjcmVhdGVBY3Rpb24oXCJkZWxldGVfZW50aXR5XCIsIHtcbiAgICA5NFx0ICAgICAgICBuYW1lOiBcIkRlbGV0ZSBFbnRpdHlcIixcbiAgICA5NVx0XG4gICAgOTZcdCAgICAgICAgZnVuY3Rpb246IFwiZGVsZXRlRW50aXR5XCIsXG4gICAgOTdcdCAgICAgICAgcmV2ZXJzZV9mdW5jdGlvbjogXCJ1bmRvRGVsZXRlRW50aXR5XCJcbiAgICA5OFx0ICAgICAgfSk7XG4gICAgOTlcdCAgICAgIGNyZWF0ZUFjdGlvbihcImZpbmlzaF9lbnRpdHlcIiwge1xuICAgMTAwXHQgICAgICAgIG5hbWU6IFwiRmluaXNoIEVudGl0eVwiLFxuICAgMTAxXHRcbiAgIDEwMlx0ICAgICAgICBmdW5jdGlvbjogXCJmaW5pc2hFbnRpdHlcIixcbiAgIDEwM1x0ICAgICAgICByZXZlcnNlX2Z1bmN0aW9uOiBcInVuZG9GaW5pc2hFbnRpdHlcIlxuICAgMTA0XHQgICAgICB9KTtcbiAgIDEwNVx0ICAgICAgY3JlYXRlQWN0aW9uKFwiaGlkZV9lbnRpdHlcIiwge1xuICAgMTA2XHQgICAgICAgIG5hbWU6IFwiSGlkZSBFbnRpdHlcIixcbiAgIDEwN1x0XG4gICAxMDhcdCAgICAgICAgZnVuY3Rpb246IFwiaGlkZUVudGl0eVwiLFxuICAgMTA5XHQgICAgICAgIHJldmVyc2VfZnVuY3Rpb246IFwic2hvd0VudGl0eVwiXG4gICAxMTBcdCAgICAgIH0pO1xuICAgMTExXHQgICAgICBjcmVhdGVBY3Rpb24oXCJyZW5hbWVfZW50aXR5XCIsIHtcbiAgIDExMlx0ICAgICAgICBuYW1lOiBcIlJlbmFtZSBFbnRpdHlcIixcbiAgIDExM1x0XG4gICAxMTRcdCAgICAgICAgZnVuY3Rpb246IFwicmVuYW1lRW50aXR5XCIsXG4gICAxMTVcdCAgICAgICAgcmV2ZXJzZV9mdW5jdGlvbjogXCJyZW5hbWVFbnRpdHlcIlxuICAgMTE2XHQgICAgICB9KTtcbiAgIDExN1x0ICAgICAgY3JlYXRlQWN0aW9uKFwic2hvd19lbnRpdHlcIiwge1xuICAgMTE4XHQgICAgICAgIG5hbWU6IFwiU2hvdyBFbnRpdHlcIixcbiAgIDExOVx0XG4gICAxMjBcdCAgICAgICAgZnVuY3Rpb246IFwic2hvd0VudGl0eVwiLFxuICAgMTIxXHQgICAgICAgIHJldmVyc2VfZnVuY3Rpb246IFwiaGlkZUVudGl0eVwiXG4gICAxMjJcdCAgICAgIH0pO1xuICAgMTIzXHRcbiAgIDEyNFx0ICAgICAgLy9FbnRpdHkgQWN0aW9uc1xuICAgMTI1XHQgICAgICBjcmVhdGVBY3Rpb24oXCJjbGVhbl9rZXlmcmFtZXNcIiwge1xuICAgMTI2XHQgICAgICAgIG5hbWU6IFwiQ2xlYW4gS2V5ZnJhbWVzXCIsXG4gICAxMjdcdFxuICAgMTI4XHQgICAgICAgIGZ1bmN0aW9uOiBcImNsZWFuS2V5ZnJhbWVzXCIsXG4gICAxMjlcdCAgICAgICAgcmV2ZXJzZV9mdW5jdGlvbjogXCJ1bmRvQ2xlYW5LZXlmcmFtZXNcIlxuICAgMTMwXHQgICAgICB9KTtcbiAgIDEzMVx0XG4gICAxMzJcdCAgICAgIC8vRW50aXR5IEtleWZyYW1lc1xuICAgMTMzXHQgICAgICBjcmVhdGVBY3Rpb24oXCJhcHBseV9wYXRoX3RvX2tleWZyYW1lc1wiLCB7XG4gICAxMzRcdCAgICAgICAgbmFtZTogXCJBcHBseSBQYXRoIHRvIEtleWZyYW1lc1wiLFxuICAgMTM1XHRcbiAgIDEzNlx0ICAgICAgICBmdW5jdGlvbjogXCJhcHBseVBhdGhUb0tleWZyYW1lc1wiLFxuICAgMTM3XHQgICAgICAgIHJldmVyc2VfZnVuY3Rpb246IFwidW5kb0FwcGx5UGF0aFRvS2V5ZnJhbWVzXCJcbiAgIDEzOFx0ICAgICAgfSk7XG4gICAxMzlcdCAgICAgIGNyZWF0ZUFjdGlvbihcImVkaXRfa2V5ZnJhbWVcIiwge1xuICAgMTQwXHQgICAgICAgIG5hbWU6IFwiRWRpdCBLZXlmcmFtZVwiLFxuICAgMTQxXHRcbiAgIDE0Mlx0ICAgICAgICBmdW5jdGlvbjogXCJlZGl0S2V5ZnJhbWVcIixcbiAgIDE0M1x0ICAgICAgICByZXZlcnNlX2Z1bmN0aW9uOiBcInVuZG9FZGl0S2V5ZnJhbWVcIlxuICAgMTQ0XHQgICAgICB9KTtcbiAgIDE0NVx0ICAgIH1cbiAgIDE0Nlx0XG4gICAxNDdcdCAgICAvL0NhbGwgaW5pdGlhbGlzZVVuZG9SZWRvVUkoKVxuICAgMTQ4XHQgICAgaW5pdGlhbGlzZVVuZG9SZWRvVUkoKTtcbiAgIDE0OVx0ICB9XG4gICAxNTBcdH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay92YXJpYWJsZXMvdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgLyoqXG4gICAgIDRcdCAgICogZ2V0QWxsVmFyaWFibGVBY3Rpb25zKCkgLSBGZXRjaGVzIGFsbCB2YXJpYWJsZSBhY3Rpb25zIGFzIGVpdGhlciBhbiBhcnJheSBvZiBrZXlzIG9yIG9iamVjdHMuXG4gICAgIDVcdCAgICogQHBhcmFtIHtPYmplY3R9IFthcmcwX29wdGlvbnNdXG4gICAgIDZcdCAgICogIEBwYXJhbSB7Ym9vbGVhbn0gW2FyZzBfb3B0aW9ucy5yZXR1cm5fa2V5cz1mYWxzZV0gLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLlxuICAgICA3XHQgICAqIFxuICAgICA4XHQgICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fEFycmF5PFN0cmluZz59XG4gICAgIDlcdCAgICovXG4gICAgMTBcdCAgZnVuY3Rpb24gZ2V0QWxsVmFyaWFibGVBY3Rpb25zIChhcmcwX29wdGlvbnMpIHtcbiAgICAxMVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAxMlx0ICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgICAxM1x0XG4gICAgMTRcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTVcdCAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAgMTZcdCAgICB2YXIgZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnM7XG4gICAgMTdcdCAgICB2YXIgcmV0dXJuX2FjdGlvbnMgPSBbXTtcbiAgICAxOFx0ICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1xuICAgIDE5XHRcbiAgICAyMFx0ICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1xuICAgIDIxXHQgICAgdmFyIGFsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zKTtcbiAgICAyMlx0ICAgXG4gICAgMjNcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgICAyNFx0ICAgICAgaWYgKCFjb21tb25fZGVmaW5lcy5yZXNlcnZlZF92YXJpYWJsZV9hY3Rpb25zLmluY2x1ZGVzKGFsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1tpXSkpIHtcbiAgICAyNVx0ICAgICAgICByZXR1cm5fYWN0aW9ucy5wdXNoKGZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1tpXV0pO1xuICAgIDI2XHQgICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2ldKTtcbiAgICAyN1x0ICAgICAgfVxuICAgIDI4XHRcbiAgICAyOVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDMwXHQgICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5cykgPyByZXR1cm5fYWN0aW9ucyA6IHJldHVybl9rZXlzO1xuICAgIDMxXHQgIH1cbi4uLlxuICAgMTA2XHRcbiAgIDEwN1x0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDEwOFx0ICAgIHZhciBmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucztcbiAgIDEwOVx0ICAgIHZhciBvcmRlciA9IChvcHRpb25zLm9yZGVyICE9IHVuZGVmaW5lZCkgPyBvcHRpb25zLm9yZGVyIDogMTtcbiAgIDExMFx0ICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xuICAgMTExXHQgICAgdmFyIHJldHVybl9rZXlzID0gW107XG4gICAxMTJcdCAgICB2YXIgcmV0dXJuX29iaiA9IHt9O1xuICAgMTEzXHRcbiAgIDExNFx0ICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1xuICAgMTE1XHQgICAgdmFyIGFsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zKTtcbiAgIDExNlx0XG4gICAxMTdcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgMTE4XHQgICAgICB2YXIgbG9jYWxfYWN0aW9uID0gZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2ldXTtcbiAgIDExOVx0XG4gICAxMjBcdCAgICAgIGlmIChsb2NhbF9hY3Rpb24ub3JkZXIgPT0gb3JkZXIpIHtcbiAgIDEyMVx0ICAgICAgICByZXR1cm5fYWN0aW9ucy5wdXNoKGxvY2FsX2FjdGlvbik7XG4gICAxMjJcdCAgICAgICAgcmV0dXJuX2tleXMucHVzaChhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbaV0pO1xuICAgMTIzXHQgICAgICB9XG4gICAxMjRcdCAgICB9XG4uLi5cbiAgIDI1MVx0XG4gICAyNTJcdCAgLyoqXG4gICAyNTNcdCAgICogZ2V0VmFyaWFibGVBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCgpIC0gRmV0Y2hlcyB0aGUgbmF2aWdhdGlvbiBvYmplY3QgZm9yIHZhcmlhYmxlIGFjdGlvbnM7IHRoZSBpbml0aWFsIGNvbnRleHQgbWVudSBmcm9tIGxvd2VzdCBvcmRlci5cbiAgIDI1NFx0ICAgKiBcbiAgIDI1NVx0ICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgMjU2XHQgICAqL1xuICAgMjU3XHQgIGZ1bmN0aW9uIGdldFZhcmlhYmxlQWN0aW9uc05hdmlnYXRpb25PYmplY3QgKCkge1xuICAgMjU4XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMjU5XHQgICAgdmFyIGZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zO1xuICAgMjYwXHQgICAgdmFyIGxvd2VzdF9vcmRlciA9IGdldFZhcmlhYmxlQWN0aW9uc0xvd2VzdE9yZGVyKGZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zKTtcbiAgIDI2MVx0XG4gICAyNjJcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDI2M1x0ICAgIHJldHVybiBnZXRWYXJpYWJsZUFjdGlvbnNBdE9yZGVyKHsgb3JkZXI6IGxvd2VzdF9vcmRlciB9KVswXTtcbiAgIDI2NFx0ICB9XG4gICAyNjVcdH0uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvZ3JvdXBzL2dyb3VwX2FjdGlvbnNfZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBmdW5jdGlvbnNcbiAgICAgMlx0e1xuICAgICAzXHQgIC8qXG4gICAgIDRcdCAgICBnZXRBbGxHcm91cEFjdGlvbnMoKSAtIEZldGNoZXMgYWxsIGdyb3VwIGFjdGlvbnMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICAgNVx0ICAgIGFyZzBfb3B0aW9uczogKE9iamVjdClcbiAgICAgNlx0ICAgICAgcmV0dXJuX2tleXM6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuIEZhbHNlIGJ5IGRlZmF1bHQuXG4gICAgIDdcdFxuICAgICA4XHQgICAgUmV0dXJuczogKEFycmF5PE9iamVjdD4vQXJyYXk8U3RyaW5nPilcbiAgICAgOVx0ICAqL1xuICAgIDEwXHQgIGZ1bmN0aW9uIGdldEFsbEdyb3VwQWN0aW9ucyAoYXJnMF9vcHRpb25zKSB7XG4gICAgMTFcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgMTJcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAgMTNcdFxuICAgIDE0XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDE1XHQgICAgdmFyIGNvbW1vbl9kZWZpbmVzID0gY29uZmlnLmRlZmluZXMuY29tbW9uO1xuICAgIDE2XHQgICAgdmFyIGZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zO1xuICAgIDE3XHQgICAgdmFyIHJldHVybl9hY3Rpb25zID0gW107XG4gICAgMThcdCAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgICAxOVx0XG4gICAgMjBcdCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnNcbiAgICAyMVx0ICAgIHZhciBhbGxfZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfZ3JvdXBfYWN0aW9ucyk7XG4gICAgMjJcdFxuICAgIDIzXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnMubGVuZ3RoOyBpKyspXG4gICAgMjRcdCAgICAgIGlmICghY29tbW9uX2RlZmluZXMucmVzZXJ2ZWRfZ3JvdXBfYWN0aW9ucy5pbmNsdWRlcyhhbGxfZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnNbaV0pKSB7XG4gICAgMjVcdCAgICAgICAgcmV0dXJuX2FjdGlvbnMucHVzaChmbGF0dGVuZWRfZ3JvdXBfYWN0aW9uc1thbGxfZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnNbaV1dKTtcbiAgICAyNlx0ICAgICAgICByZXR1cm5fa2V5cy5wdXNoKGFsbF9mbGF0dGVuZWRfZ3JvdXBfYWN0aW9uc1tpXSk7XG4gICAgMjdcdCAgICAgIH1cbi4uLlxuICAgMTE3XHRcbiAgIDExOFx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxMTlcdCAgICAgIHZhciBsb2NhbF9hY3Rpb24gPSBmbGF0dGVuZWRfZ3JvdXBfYWN0aW9uc1thbGxfZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnNbaV1dO1xuICAgMTIwXHRcbiAgIDEyMVx0ICAgICAgaWYgKGxvY2FsX2FjdGlvbi5vcmRlciA9PSBvcHRpb25zLm9yZGVyKSB7XG4gICAxMjJcdCAgICAgICAgcmV0dXJuX2FjdGlvbnMucHVzaChsb2NhbF9hY3Rpb24pO1xuICAgMTIzXHQgICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zW2ldKTtcbiAgIDEyNFx0ICAgICAgfVxuICAgMTI1XHQgICAgfVxuICAgMTI2XHRcbiAgIDEyN1x0ICAgIC8vb3B0aW9ucy5yZXR1cm5fb2JqZWN0IGhhbmRsZXJcbiAgIDEyOFx0ICAgIGlmIChvcHRpb25zLnJldHVybl9vYmplY3QpIHtcbiAgIDEyOVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXR1cm5fYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgIDEzMFx0ICAgICAgICByZXR1cm5fb2JqW3JldHVybl9hY3Rpb25zW2ldXSA9IHJldHVybl9hY3Rpb25zW2ldO1xuICAgMTMxXHQgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDEzMlx0ICAgICAgcmV0dXJuIHJldHVybl9vYmo7XG4gICAxMzNcdCAgICB9XG4gICAxMzRcdFxuICAgMTM1XHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAxMzZcdCAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gcmV0dXJuX2FjdGlvbnMgOiByZXR1cm5fa2V5cztcbiAgIDEzN1x0ICB9XG4uLi5cbiAgIDI1Mlx0XG4gICAyNTNcdCAgLypcbiAgIDI1NFx0ICAgIGdldEdyb3VwQWN0aW9uc05hdmlnYXRpb25PYmplY3QoKSAtIEZldGNoZXMgdGhlIG5hdmlnYXRpb24gb2JqZWN0IGZvciBncm91cCBhY3Rpb25zOyB0aGUgaW5pdGlhbCBjb250ZXh0IG1lbnUgZnJvbSBsb3dlc3Qgb3JkZXIuXG4gICAyNTVcdFxuICAgMjU2XHQgICAgUmV0dXJuczogKE9iamVjdClcbiAgIDI1N1x0ICAqL1xuICAgMjU4XHQgIGZ1bmN0aW9uIGdldEdyb3VwQWN0aW9uc05hdmlnYXRpb25PYmplY3QgKCkge1xuICAgMjU5XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMjYwXHQgICAgdmFyIGZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zO1xuICAgMjYxXHQgICAgdmFyIGxvd2VzdF9vcmRlciA9IGdldEdyb3VwQWN0aW9uc0xvd2VzdE9yZGVyKGZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zKTtcbiAgIDI2Mlx0XG4gICAyNjNcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDI2NFx0ICAgIHJldHVybiBnZXRHcm91cEFjdGlvbnNBdE9yZGVyKHsgb3JkZXI6IGxvd2VzdF9vcmRlciB9KVswXTtcbiAgIDI2NVx0ICB9XG4gICAyNjZcdH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9icnVzaC9icnVzaF9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgQnJ1c2ggQWN0aW9ucyBmcmFtZXdvcmtcbiAgICAgMlx0e1xuICAgICAzXHQgIC8qXG4gICAgIDRcdCAgICBnZXRBbGxCcnVzaEFjdGlvbnMoKSAtIEZldGNoZXMgYWxsIGJydXNoIGFjdGlvbnMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICAgNVx0ICAgIGFyZzBfb3B0aW9uczogKE9iamVjdClcbiAgICAgNlx0ICAgICAgcmV0dXJuX2tleXM6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuIEZhbHNlIGJ5IGRlZmF1bHQuXG4gICAgIDdcdFxuICAgICA4XHQgICAgUmV0dXJuczogKEFycmF5PE9iamVjdD4vQXJyYXk8U3RyaW5nPilcbiAgICAgOVx0ICAqL1xuICAgIDEwXHQgIGZ1bmN0aW9uIGdldEFsbEJydXNoQWN0aW9ucyAoYXJnMF9vcHRpb25zKSB7XG4gICAgMTFcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgMTJcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAgMTNcdFxuICAgIDE0XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDE1XHQgICAgdmFyIGNvbW1vbl9kZWZpbmVzID0gY29uZmlnLmRlZmluZXMuY29tbW9uO1xuICAgIDE2XHQgICAgdmFyIGZsYXR0ZW5lZF9icnVzaF9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF9icnVzaF9hY3Rpb25zO1xuICAgIDE3XHQgICAgdmFyIHJldHVybl9hY3Rpb25zID0gW107XG4gICAgMThcdCAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgICAxOVx0XG4gICAgMjBcdCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2JydXNoX2FjdGlvbnNcbiAgICAyMVx0ICAgIHZhciBhbGxfZmxhdHRlbmVkX2JydXNoX2FjdGlvbnMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfYnJ1c2hfYWN0aW9ucyk7XG4gICAgMjJcdFxuICAgIDIzXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2JydXNoX2FjdGlvbnMubGVuZ3RoOyBpKyspXG4gICAgMjRcdCAgICAgIGlmICghY29tbW9uX2RlZmluZXMucmVzZXJ2ZWRfYnJ1c2hfYWN0aW9ucy5pbmNsdWRlcyhhbGxfZmxhdHRlbmVkX2JydXNoX2FjdGlvbnNbaV0pKSB7XG4gICAgMjVcdCAgICAgICAgcmV0dXJuX2FjdGlvbnMucHVzaChmbGF0dGVuZWRfYnJ1c2hfYWN0aW9uc1thbGxfZmxhdHRlbmVkX2JydXNoX2FjdGlvbnNbaV1dKTtcbiAgICAyNlx0ICAgICAgICByZXR1cm5fa2V5cy5wdXNoKGFsbF9mbGF0dGVuZWRfYnJ1c2hfYWN0aW9uc1tpXSk7XG4gICAgMjdcdCAgICAgIH1cbi4uLlxuICAgIDM4XHRcbiAgICAzOVx0ICAgIFJldHVybnM6IChPYmplY3QvU3RyaW5nKVxuICAgIDQwXHQgICovXG4gICAgNDFcdCAgZnVuY3Rpb24gZ2V0QnJ1c2hBY3Rpb24gKGFyZzBfbmFtZSwgYXJnMV9vcHRpb25zKSB7XG4gICAgNDJcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgNDNcdCAgICB2YXIgbmFtZSA9IGFyZzBfbmFtZTtcbiAgICA0NFx0ICAgIHZhciBvcHRpb25zID0gKGFyZzFfb3B0aW9ucykgPyBhcmcxX29wdGlvbnMgOiB7fTtcbiAgICA0NVx0XG4gICAgNDZcdCAgICAvL0d1YXJkIGNsYXVzZSBmb3Igb2JqZWN0czsgZGlyZWN0IGtleXNcbiAgICA0N1x0ICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcIm9iamVjdFwiKSByZXR1cm4gbmFtZTtcbiAgICA0OFx0ICAgIGlmIChjb25maWcuZmxhdHRlbmVkX2JydXNoX2FjdGlvbnNbbmFtZV0pIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2JydXNoX2FjdGlvbnNbbmFtZV0gOiBuYW1lO1xuICAgIDQ5XHRcbiAgICA1MFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICA1MVx0ICAgIHZhciBicnVzaF9hY3Rpb25zX2V4aXN0cyA9IFtmYWxzZSwgXCJcIl07IC8vW2JydXNoX2FjdGlvbnNfZXhpc3RzLCBicnVzaF9hY3Rpb25zX2tleV07XG4gICAgNTJcdCAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuLi4uXG4gICAyNTNcdFxuICAgMjU0XHQgIC8qXG4gICAyNTVcdCAgICBnZXRCcnVzaEFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0KCkgLSBGZXRjaGVzIHRoZSBuYXZpZ2F0aW9uIG9iamVjdCBmb3IgYnJ1c2ggYWN0aW9uczsgdGhlIGluaXRpYWwgY29udGV4dCBtZW51IGZyb20gdGhlIGxvd2VzdCBvcmRlci5cbiAgIDI1Nlx0XG4gICAyNTdcdCAgICBSZXR1cm5zOiAoT2JqZWN0KVxuICAgMjU4XHQgICovXG4gICAyNTlcdCAgZnVuY3Rpb24gZ2V0QnJ1c2hBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCAoKSB7XG4gICAyNjBcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAyNjFcdCAgICB2YXIgZmxhdHRlbmVkX2JydXNoX2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX2JydXNoX2FjdGlvbnM7XG4gICAyNjJcdCAgICB2YXIgbG93ZXN0X29yZGVyID0gZ2V0QnJ1c2hBY3Rpb25zTG93ZXN0T3JkZXIoKTtcbiAgIDI2M1x0XG4gICAyNjRcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDI2NVx0ICAgIHJldHVybiBnZXRCcnVzaEFjdGlvbnNBdE9yZGVyKHsgb3JkZXI6IGxvd2VzdF9vcmRlciwgcmV0dXJuX29iamVjdDogdHJ1ZSB9KTtcbiAgIDI2Nlx0ICB9XG4gICAyNjdcdH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgRW50aXR5IEtleWZyYW1lcyBhY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBkZWxldGVLZXlmcmFtZSAoYXJnMF9lbnRpdHlfaWQsIGFyZzFfdGltZXN0YW1wKSB7IC8vW1dJUF0gLSBEZWxldGluZyBhIGtleWZyYW1lIHNob3VsZCB1cGRhdGUgdGhlIGJpbyBhbmQgY2xvc2UgdGhlIGtleWZyYW1lIGNvbnRleHQgbWVudXMuIEl0IGN1cnJlbnRseSBkb2VzIG5vdFxuICAgICA0XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgICA1XHQgICAgdmFyIGVudGl0eV9pZCA9IGFyZzBfZW50aXR5X2lkO1xuICAgICA2XHQgICAgdmFyIHRpbWVzdGFtcCA9IGFyZzFfdGltZXN0YW1wO1xuICAgICA3XHRcbiAgICAgOFx0ICAgIC8vRGVsZXRlIGtleWZyYW1lOyB1cGRhdGUgYmlvIFtXSVBdIC0gTWFrZSBzdXJlIHRvIHVwZGF0ZSBiaW9cbiAgICAgOVx0ICAgIGNsb3NlRW50aXR5S2V5ZnJhbWVDb250ZXh0TWVudXMoZW50aXR5X2lkKTtcbiAgICAxMFx0ICAgIGRlbGV0ZUhpc3RvcnlGcmFtZShlbnRpdHlfaWQsIHRpbWVzdGFtcCk7XG4gICAgMTFcdFxuICAgIDEyXHQgICAgcHJpbnRFbnRpdHlCaW8oZW50aXR5X2lkKTtcbiAgICAxM1x0ICB9XG4uLi5cbiAgICAzM1x0XG4gICAgMzRcdCAgZnVuY3Rpb24gbW92ZUtleWZyYW1lIChhcmcwX2VudGl0eV9pZCwgYXJnMV9kYXRlLCBhcmcyX2RhdGUpIHsgLy9bV0lQXSAtIFRoaXMgc2hvdWxkIHVwZGF0ZSB0aGUgYmlvIGFuZCBhZGp1c3QgYW55IG9wZW4gY29udGV4dCBtZW51cyB0aWVkIHRvIGEga2V5ZnJhbWUuICgncGxhY2Vob2xkZXI6IFwidGltZXN0YW1wXCInKSBJdCBkb2VzIG5vdC5cbiAgICAzNVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAzNlx0ICAgIHZhciBlbnRpdHlfaWQgPSBhcmcwX2VudGl0eV9pZDtcbiAgICAzN1x0ICAgIHZhciBlbnRyeV9kYXRlID0gYXJnMV9kYXRlO1xuICAgIDM4XHQgICAgdmFyIG1vdmVfdG9fZGF0ZSA9IGFyZzJfZGF0ZTtcbiAgICAzOVx0XG4gICAgNDBcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgNDFcdCAgICB2YXIgY29tbW9uX3NlbGVjdG9ycyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbi5zZWxlY3RvcnM7XG4gICAgNDJcdCAgICB2YXIgZW50aXR5X2VsID0gZ2V0RW50aXR5RWxlbWVudChlbnRpdHlfaWQpO1xuICAgIDQzXHRcbiAgICA0NFx0ICAgIHZhciBlbnRpdHlfb2JqID0gZ2V0RW50aXR5KGVudGl0eV9pZCk7XG4gICAgNDVcdCAgICB2YXIgaGlzdG9yeV9lbnRyeSA9IGdldEFic29sdXRlSGlzdG9yeUZyYW1lKGVudGl0eV9pZCwgZW50cnlfZGF0ZSk7XG4gICAgNDZcdCAgICB2YXIgbmV3X3RpbWVzdGFtcCA9IGdldFRpbWVzdGFtcChtb3ZlX3RvX2RhdGUpO1xuICAgIDQ3XHQgICAgdmFyIG9sZF90aW1lc3RhbXAgPSBnZXRUaW1lc3RhbXAoY29udmVydFRpbWVzdGFtcFRvRGF0ZShlbnRyeV9kYXRlKSk7XG4gICAgNDhcdCAgICB2YXIgcG9wdXBfZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZW50aXR5LXVpLXBhbmVbY2xhc3N+PScke2VudGl0eV9pZH0nXWApO1xuLi4uXG4gICAgODlcdFxuICAgIDkwXHQvL0luaXRpYWxpc2UgRW50aXR5IEtleWZyYW1lcyBmcmFtZXdvcmtcbiAgICA5MVx0e1xuICAgIDkyXHQgIC8qXG4gICAgOTNcdCAgICBnZXRBbGxFbnRpdHlLZXlmcmFtZXMoKSAtIEZldGNoZXMgYWxsIGVudGl0eSBrZXlmcmFtZXMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICA5NFx0ICAgIGFyZzBfb3B0aW9uczogKE9iamVjdClcbiAgICA5NVx0ICAgICAgcmV0dXJuX2tleXM6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuIEZhbHNlIGJ5IGRlZmF1bHQuXG4gICAgOTZcdFxuICAgIDk3XHQgICAgUmV0dXJuczogKEFycmF5PE9iamVjdD4vQXJyYXk8U3RyaW5nPilcbiAgICA5OFx0ICAqL1xuICAgIDk5XHQgIGZ1bmN0aW9uIGdldEFsbEVudGl0eUtleWZyYW1lcyAoYXJnMF9vcHRpb25zKSB7XG4gICAxMDBcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAxMDFcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAxMDJcdFxuICAgMTAzXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMTA0XHQgICAgdmFyIGNvbW1vbl9kZWZpbmVzID0gY29uZmlnLmRlZmluZXMuY29tbW9uO1xuICAgMTA1XHQgICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzID0gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzO1xuICAgMTA2XHQgICAgdmFyIHJldHVybl9rZXlmcmFtZXMgPSBbXTtcbiAgIDEwN1x0ICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1xuICAgMTA4XHRcbiAgIDEwOVx0ICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lc1xuICAgMTEwXHQgICAgdmFyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzKTtcbi4uLlxuICAgMzQyXHRcbiAgIDM0M1x0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMzQ0XHQgICAgcmV0dXJuIG1pbl9vcmRlcjtcbiAgIDM0NVx0ICB9XG4gICAzNDZcdFxuICAgMzQ3XHQgIC8qXG4gICAzNDhcdCAgICBnZXRFbnRpdHlLZXlmcmFtZXNOYXZpZ2F0aW9uT2JqZWN0KCkgLSBGZXRjaGVzIHRoZSBuYXZpZ2F0aW9uIG9iamVjdCBmb3IgZW50aXR5IGtleWZyYW1lczsgdGhlIGluaXRpYWwgY29udGV4dCBtZW51IGZyb20gbG93ZXN0IG9yZGVyLlxuICAgMzQ5XHRcbiAgIDM1MFx0ICAgIFJldHVybnM6IChPYmplY3QpXG4gICAzNTFcdCAgKi9cbiAgIDM1Mlx0ICBmdW5jdGlvbiBnZXRFbnRpdHlLZXlmcmFtZXNOYXZpZ2F0aW9uT2JqZWN0ICgpIHtcbiAgIDM1M1x0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDM1NFx0ICAgIHZhciBmbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcztcbiAgIDM1NVx0ICAgIHZhciBsb3dlc3Rfb3JkZXIgPSBnZXRFbnRpdHlLZXlmcmFtZXNMb3dlc3RPcmRlcihmbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcyk7XG4gICAzNTZcdFxuICAgMzU3XHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAzNThcdCAgICByZXR1cm4gZ2V0RW50aXR5S2V5ZnJhbWVzQXRPcmRlcih7IG9yZGVyOiBsb3dlc3Rfb3JkZXIgfSlbMF07XG4gICAzNTlcdCAgfVxuICAgMzYwXHR9XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvYWN0aW9ucy9lbnRpdGllcy9zaW1wbGlmeV9hbGxfZW50aXR5X2tleWZyYW1lcy5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKlxuICAgICA0XHQgICAgc2ltcGxpZnlBbGxFbnRpdHlLZXlmcmFtZXMoKSAtIFNpbXBsaWZpZXMgYWxsIGVudGl0eSBrZXlmcmFtZSBwYXRocyB0byBhIGdpdmVuIHRvbGVyYW5jZS5cbiAgICAgNVx0ICAgIGFyZzBfZW50aXR5X2lkOiAoU3RyaW5nKSAtIFRoZSBlbnRpdHkgSUQgdG8gc2ltcGxpZnkgYWxsIGtleWZyYW1lcyBmb3IuXG4gICAgIDZcdCAgICBhcmcxX3RvbGVyYW5jZTogKE51bWJlcikgLSBUaGUgdG9sZXJhbmNlIHRvIHNpbXBsaWZ5IHRoZSBrZXlmcmFtZXMgdG8uXG4gICAgIDdcdFxuICAgICA4XHQgICAgUmV0dXJuczogKE51bWJlcilcbiAgICAgOVx0ICAqL1xuICAgIDEwXHQgIGZ1bmN0aW9uIHNpbXBsaWZ5QWxsRW50aXR5S2V5ZnJhbWVzIChhcmcwX2VudGl0eV9pZCwgYXJnMV90b2xlcmFuY2UpIHtcbiAgICAxMVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAxMlx0ICAgIHZhciBlbnRpdHlfaWQgPSBhcmcwX2VudGl0eV9pZDtcbiAgICAxM1x0ICAgIHZhciB0b2xlcmFuY2UgPSBhcmcxX3RvbGVyYW5jZTtcbiAgICAxNFx0XG4gICAgMTVcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTZcdCAgICB2YXIgZW50aXR5X29iaiA9ICh0eXBlb2YgZW50aXR5X2lkICE9IFwib2JqZWN0XCIpID8gZ2V0RW50aXR5KGVudGl0eV9pZCkgOiBlbnRpdHlfaWQ7XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvb3B0aW1pc2F0aW9uX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0RlY2xhcmUgZnVuY3Rpb25cbiAgICAgMlx0e1xuICAgICAzXHQgIGZ1bmN0aW9uIGluaXRPcHRpbWlzYXRpb24gKCkge1xuICAgICA0XHQgICAgLy9CUlVTSCBBQ1RJT05TXG4gICAgIDVcdCAgICAvL1NldCAuYWxsX2JydXNoX2FjdGlvbnM7IC5hbGxfYnJ1c2hfYWN0aW9uc19rZXlzXG4gICAgIDZcdCAgICBjb25maWcuZmxhdHRlbmVkX2JydXNoX2FjdGlvbnMgPSBkdW1iRmxhdHRlbk9iamVjdChjb25maWcuYnJ1c2hfYWN0aW9ucyk7XG4gICAgIDdcdFxuICAgICA4XHQgICAgY29uZmlnLmFsbF9icnVzaF9hY3Rpb25zID0gZ2V0QWxsQnJ1c2hBY3Rpb25zKCk7XG4gICAgIDlcdCAgICBjb25maWcuYWxsX2JydXNoX2FjdGlvbnNfa2V5cyA9IGdldEFsbEJydXNoQWN0aW9ucyh7IHJldHVybl9rZXlzOiB0cnVlIH0pO1xuICAgIDEwXHQgICAgY29uZmlnLmJydXNoX2FjdGlvbnNfbG93ZXN0X29yZGVyID0gZ2V0QnJ1c2hBY3Rpb25zTG93ZXN0T3JkZXIoKTtcbiAgICAxMVx0XG4gICAgMTJcdCAgICAvL0VOVElUWSBBQ1RJT05TXG4gICAgMTNcdCAgICAvL1NldCAuYWxsX2VudGl0eV9hY3Rpb25zOyAuYWxsX2VudGl0eV9hY3Rpb25zX2tleXNcbiAgICAxNFx0ICAgIGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBkdW1iRmxhdHRlbk9iamVjdChjb25maWcuZW50aXR5X2FjdGlvbnMpO1xuICAgIDE1XHRcbiAgICAxNlx0ICAgIGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnMgPSBnZXRBbGxFbnRpdHlBY3Rpb25zKCk7XG4gICAgMTdcdCAgICBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zX2tleXMgPSBnZXRBbGxFbnRpdHlBY3Rpb25zKHsgcmV0dXJuX2tleXM6IHRydWUgfSk7XG4gICAgMThcdCAgICBjb25maWcuZW50aXR5X2FjdGlvbnNfbG93ZXN0X29yZGVyID0gZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyKCk7XG4uLi5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThtOVpyUDVmclpOcXNoUnJ0NjR2VlkifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjgsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6MzU6NTcuOTE1WiIsInJlc3BvbnNlX3RleHQiOiJCYXNlZCBvbiBteSBhbmFseXNpcyBvZiB0aGUgZnJhbWV3b3JrIGZpbGVzLCBJIG5lZWQgdG8gbWFrZSBhIGZldyBhZGp1c3RtZW50cyB0byBlbnN1cmUgbXkgaW1wbGVtZW50YXRpb24gY292ZXJzIGFsbCB0aGUgZnVuY3Rpb25hbGl0eS4gTGV0IG1lIHVwZGF0ZSB0aGUgYGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uc2AgZnVuY3Rpb24gdG8gaGFuZGxlIGFsbCBjYXNlczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJjZjMzOTZjNS01OGJjLTQyZDAtYjZiMC03ODE0YjMzMTgxNzkiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFMV3FqUk1qckc2MzcyeGhEbWVTTG54IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcImluc3RydWN0aW9uX3JlbWluZGVyXCI6IFwiQUxXQVlTIEJSRUFLIERPV04gRURJVFMgSU5UTyBTTUFMTEVSIENIVU5LUyBPRiBBVCBNT1NUIDIwMCBMSU5FUyBFQUNILlwiLCBcInBhdGhcIjogXCJzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qc1wiLCBcIm9sZF9zdHJfMVwiOiBcIiAgICAvL0NyZWF0ZSBnZXRYTmF2aWdhdGlvbk9iamVjdCBmdW5jdGlvblxcbiAgICB2YXIgZ2V0TmF2aWdhdGlvbk9iamVjdEZ1bmN0aW9uTmFtZSA9IFxcXCJnZXRcXFwiICsgY2FwaXRhbGl6ZWROYW1lICsgXFxcInNOYXZpZ2F0aW9uT2JqZWN0XFxcIjtcXG4gICAgZnJhbWV3b3JrRnVuY3Rpb25zW2dldE5hdmlnYXRpb25PYmplY3RGdW5jdGlvbk5hbWVdID0gZnVuY3Rpb24oKSB7XFxuICAgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICAgIHZhciBmbGF0dGVuZWRfaXRlbXMgPSBjb25maWdbb3B0aW9ucy5mbGF0dGVuZWRLZXldO1xcbiAgICAgIHZhciBsb3dlc3Rfb3JkZXIgPSBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0TG93ZXN0T3JkZXJGdW5jdGlvbk5hbWVdKGZsYXR0ZW5lZF9pdGVtcyk7XFxuICAgICAgXFxuICAgICAgLy9SZXR1cm4gc3RhdGVtZW50XFxuICAgICAgcmV0dXJuIGZyYW1ld29ya0Z1bmN0aW9uc1tnZXRBdE9yZGVyRnVuY3Rpb25OYW1lXSh7IG9yZGVyOiBsb3dlc3Rfb3JkZXIsIHJldHVybl9vYmplY3Q6IHRydWUgfSk7XFxuICAgIH07XCIsIFwibmV3X3N0cl8xXCI6IFwiICAgIC8vQ3JlYXRlIGdldFhOYXZpZ2F0aW9uT2JqZWN0IGZ1bmN0aW9uXFxuICAgIHZhciBnZXROYXZpZ2F0aW9uT2JqZWN0RnVuY3Rpb25OYW1lID0gXFxcImdldFxcXCIgKyBjYXBpdGFsaXplZE5hbWUgKyBcXFwic05hdmlnYXRpb25PYmplY3RcXFwiO1xcbiAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0TmF2aWdhdGlvbk9iamVjdEZ1bmN0aW9uTmFtZV0gPSBmdW5jdGlvbigpIHtcXG4gICAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXFxuICAgICAgdmFyIGZsYXR0ZW5lZF9pdGVtcyA9IGNvbmZpZ1tvcHRpb25zLmZsYXR0ZW5lZEtleV07XFxuICAgICAgdmFyIGxvd2VzdF9vcmRlciA9IGZyYW1ld29ya0Z1bmN0aW9uc1tnZXRMb3dlc3RPcmRlckZ1bmN0aW9uTmFtZV0oZmxhdHRlbmVkX2l0ZW1zKTtcXG4gICAgICBcXG4gICAgICAvL1JldHVybiBzdGF0ZW1lbnQgLSBoYW5kbGUgZGlmZmVyZW50IHJldHVybiB0eXBlcyBiYXNlZCBvbiBmcmFtZXdvcmtcXG4gICAgICB2YXIgcmVzdWx0ID0gZnJhbWV3b3JrRnVuY3Rpb25zW2dldEF0T3JkZXJGdW5jdGlvbk5hbWVdKHsgXFxuICAgICAgICBvcmRlcjogbG93ZXN0X29yZGVyLCBcXG4gICAgICAgIHJldHVybl9vYmplY3Q6ICFuYXZpZ2F0aW9uUmV0dXJuc0FycmF5IFxcbiAgICAgIH0pO1xcbiAgICAgIFxcbiAgICAgIHJldHVybiBuYXZpZ2F0aW9uUmV0dXJuc0FycmF5ID8gcmVzdWx0WzBdIDogcmVzdWx0O1xcbiAgICB9O1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJfMVwiOiAyNDYsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJfMVwiOiAyNTR9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIHVwZGF0ZSB0aGUgbmF2aWdhdGlvbiBvYmplY3QgZnVuY3Rpb24gdG8gaGFuZGxlIHRoZSBkaWZmZXJlbnQgcmV0dXJuIHR5cGVzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcy5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgNjNcdCAgICAgICAgYnRuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYnRuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikucmVwbGFjZShcIiBtaW5pbWlzZS1pY29uXCIsIFwiIHJldmVyc2UtbWluaW1pc2UtaWNvblwiKSkgOlxuICAgIDY0XHQgICAgICAgIGJ0bl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGJ0bl9lbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLnJlcGxhY2UoXCIgcmV2ZXJzZS1taW5pbWlzZS1pY29uXCIsIFwiIG1pbmltaXNlLWljb25cIikpO1xuICAgIDY1XHQgIH1cbiAgICA2Nlx0XG4gICAgNjdcdCAgLyoqXG4gICAgNjhcdCAgICogY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zKCkgLSBDcmVhdGVzIHN0YW5kYXJkIGZyYW1ld29yayBmdW5jdGlvbnMgdG8gcmVkdWNlIGJvaWxlcnBsYXRlIGNvZGUuXG4gICAgNjlcdCAgICogQHBhcmFtIHtPYmplY3R9IGFyZzBfb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGZyYW1ld29yayBmdW5jdGlvbnMuXG4gICAgNzBcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBhcmcwX29wdGlvbnMubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBmcmFtZXdvcmsgKGUuZy4sIFwiZW50aXR5X2FjdGlvbnNcIiwgXCJ2YXJpYWJsZV9hY3Rpb25zXCIpLlxuICAgIDcxXHQgICAqICBAcGFyYW0ge1N0cmluZ30gYXJnMF9vcHRpb25zLmNvbmZpZ0tleSAtIFRoZSBrZXkgaW4gdGhlIGNvbmZpZyBvYmplY3Qgd2hlcmUgdGhlIGRhdGEgaXMgc3RvcmVkLlxuICAgIDcyXHQgICAqICBAcGFyYW0ge1N0cmluZ30gYXJnMF9vcHRpb25zLmZsYXR0ZW5lZEtleSAtIFRoZSBrZXkgaW4gdGhlIGNvbmZpZyBvYmplY3Qgd2hlcmUgdGhlIGZsYXR0ZW5lZCBkYXRhIGlzIHN0b3JlZC5cbiAgICA3M1x0ICAgKiAgQHBhcmFtIHtBcnJheTxTdHJpbmc+fSBbYXJnMF9vcHRpb25zLnJlc2VydmVkS2V5XSAtIE9wdGlvbmFsLiBUaGUga2V5IGluIGNvbW1vbl9kZWZpbmVzIGZvciByZXNlcnZlZCBpdGVtcy5cbiAgICA3NFx0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMuc2luZ3VsYXJOYW1lXSAtIE9wdGlvbmFsLiBUaGUgc2luZ3VsYXIgbmFtZSB1c2VkIGluIGZ1bmN0aW9uIG5hbWVzIChkZWZhdWx0cyB0byBuYW1lIHdpdGhvdXQgdHJhaWxpbmcgJ3MnKS5cbiAgICA3NVx0ICAgKiAgQHBhcmFtIHtCb29sZWFufSBbYXJnMF9vcHRpb25zLnVzZU1vZGVybkpTRG9jPWZhbHNlXSAtIE9wdGlvbmFsLiBXaGV0aGVyIHRvIHVzZSBtb2Rlcm4gSlNEb2MgY29tbWVudHMgaW5zdGVhZCBvZiB0cmFkaXRpb25hbCBjb21tZW50cy5cbiAgICA3Nlx0ICAgKiAgQHBhcmFtIHtCb29sZWFufSBbYXJnMF9vcHRpb25zLm5hdmlnYXRpb25SZXR1cm5zQXJyYXk9ZmFsc2VdIC0gT3B0aW9uYWwuIFdoZXRoZXIgdGhlIG5hdmlnYXRpb24gb2JqZWN0IGZ1bmN0aW9uIHJldHVybnMgYW4gYXJyYXkgZWxlbWVudCBbMF0gb3IgdGhlIGZ1bGwgb2JqZWN0LlxuICAgIDc3XHQgICAqICBAcGFyYW0ge09iamVjdH0gW2FyZzBfb3B0aW9ucy5hZGRpdGlvbmFsRnVuY3Rpb25zXSAtIE9wdGlvbmFsLiBBZGRpdGlvbmFsIGN1c3RvbSBmdW5jdGlvbnMgc3BlY2lmaWMgdG8gdGhpcyBmcmFtZXdvcmsuXG4gICAgNzhcdCAgICpcbiAgICA3OVx0ICAgKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIGdlbmVyYXRlZCBmcmFtZXdvcmsgZnVuY3Rpb25zLlxuICAgIDgwXHQgICAqL1xuICAgIDgxXHQgIGZ1bmN0aW9uIGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9ucyAoYXJnMF9vcHRpb25zKSB7XG4gICAgODJcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgODNcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAgODRcdFxuICAgIDg1XHQgICAgLy9WYWxpZGF0ZSByZXF1aXJlZCBvcHRpb25zXG4gICAgODZcdCAgICBpZiAoIW9wdGlvbnMubmFtZSkgdGhyb3cgbmV3IEVycm9yKFwiY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zOiBuYW1lIGlzIHJlcXVpcmVkXCIpO1xuICAgIDg3XHQgICAgaWYgKCFvcHRpb25zLmNvbmZpZ0tleSkgdGhyb3cgbmV3IEVycm9yKFwiY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zOiBjb25maWdLZXkgaXMgcmVxdWlyZWRcIik7XG4gICAgODhcdCAgICBpZiAoIW9wdGlvbnMuZmxhdHRlbmVkS2V5KSB0aHJvdyBuZXcgRXJyb3IoXCJjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnM6IGZsYXR0ZW5lZEtleSBpcyByZXF1aXJlZFwiKTtcbiAgICA4OVx0XG4gICAgOTBcdCAgICAvL1NldCBkZWZhdWx0IG9wdGlvbnNcbiAgICA5MVx0ICAgIHZhciBzaW5ndWxhck5hbWUgPSBvcHRpb25zLnNpbmd1bGFyTmFtZSB8fCBvcHRpb25zLm5hbWUucmVwbGFjZSgvcyQvLCBcIlwiKTtcbiAgICA5Mlx0ICAgIHZhciBjYXBpdGFsaXplZE5hbWUgPSBzaW5ndWxhck5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzaW5ndWxhck5hbWUuc2xpY2UoMSk7XG4gICAgOTNcdCAgICB2YXIgdXNlTW9kZXJuSlNEb2MgPSBvcHRpb25zLnVzZU1vZGVybkpTRG9jIHx8IGZhbHNlO1xuICAgIDk0XHQgICAgdmFyIG5hdmlnYXRpb25SZXR1cm5zQXJyYXkgPSBvcHRpb25zLm5hdmlnYXRpb25SZXR1cm5zQXJyYXkgfHwgZmFsc2U7XG4gICAgOTVcdFxuICAgIDk2XHQgICAgLy9DcmVhdGUgZnVuY3Rpb24gb2JqZWN0IHRvIHJldHVyblxuICAgIDk3XHQgICAgdmFyIGZyYW1ld29ya0Z1bmN0aW9ucyA9IHt9O1xuICAgIDk4XHRcbiAgICA5OVx0ICAgIC8vQ3JlYXRlIGdldEFsbFggZnVuY3Rpb25cbiAgIDEwMFx0ICAgIHZhciBnZXRBbGxGdW5jdGlvbk5hbWUgPSBcImdldEFsbFwiICsgY2FwaXRhbGl6ZWROYW1lICsgXCJzXCI7XG4gICAxMDFcdCAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0QWxsRnVuY3Rpb25OYW1lXSA9IGZ1bmN0aW9uKGFyZzBfb3B0aW9ucykge1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFMaEd3THI0eDh3M1RhZHBqWWE1c1ZtIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo4LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjM2OjIzLjAwNloiLCJyZXNwb25zZV90ZXh0IjoiTm93IGxldCdzIHVwZGF0ZSB0aGUgbmF2aWdhdGlvbiBvYmplY3QgZnVuY3Rpb24gdG8gaGFuZGxlIHRoZSBkaWZmZXJlbnQgcmV0dXJuIHR5cGVzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImM2N2M3MGFiLThkNmEtNDZkZS1hOWUzLTAzZGE2MDI2YmFhNiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUFHdGFjR0FRZGpGWjVFVHNncmVpOXMiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwiaW5zdHJ1Y3Rpb25fcmVtaW5kZXJcIjogXCJBTFdBWVMgQlJFQUsgRE9XTiBFRElUUyBJTlRPIFNNQUxMRVIgQ0hVTktTIE9GIEFUIE1PU1QgMjAwIExJTkVTIEVBQ0guXCIsIFwicGF0aFwiOiBcInNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzXCIsIFwib2xkX3N0cl8xXCI6IFwiICAgICAgcmV0dXJuIG5hdmlnYXRpb25SZXR1cm5zQXJyYXkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XFxuICAgIH07XFxuXFxuICAgIHJldHVybiBmcmFtZXdvcmtGdW5jdGlvbnM7XCIsIFwibmV3X3N0cl8xXCI6IFwiICAgICAgcmV0dXJuIG5hdmlnYXRpb25SZXR1cm5zQXJyYXkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XFxuICAgIH07XFxuICAgIFxcbiAgICAvLyBBZGQgYW55IGFkZGl0aW9uYWwgY3VzdG9tIGZ1bmN0aW9ucyBzcGVjaWZpYyB0byB0aGlzIGZyYW1ld29ya1xcbiAgICBpZiAob3B0aW9ucy5hZGRpdGlvbmFsRnVuY3Rpb25zKSB7XFxuICAgICAgdmFyIGFkZGl0aW9uYWxGdW5jdGlvbktleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zLmFkZGl0aW9uYWxGdW5jdGlvbnMpO1xcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWRkaXRpb25hbEZ1bmN0aW9uS2V5cy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgdmFyIGZ1bmN0aW9uS2V5ID0gYWRkaXRpb25hbEZ1bmN0aW9uS2V5c1tpXTtcXG4gICAgICAgIGZyYW1ld29ya0Z1bmN0aW9uc1tmdW5jdGlvbktleV0gPSBvcHRpb25zLmFkZGl0aW9uYWxGdW5jdGlvbnNbZnVuY3Rpb25LZXldO1xcbiAgICAgIH1cXG4gICAgfVxcblxcbiAgICByZXR1cm4gZnJhbWV3b3JrRnVuY3Rpb25zO1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJfMVwiOiAyNjIsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJfMVwiOiAyNjV9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIGFkZCBzdXBwb3J0IGZvciBhZGRpdGlvbmFsIGN1c3RvbSBmdW5jdGlvbnMgc3BlY2lmaWMgdG8gZWFjaCBmcmFtZXdvcms6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDI0NVx0ICAgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAyNDZcdCAgICAgIHJldHVybiAobG93ZXN0X29yZGVyICE9IEluZmluaXR5KSA/IGxvd2VzdF9vcmRlciA6IDE7XG4gICAyNDdcdCAgICB9O1xuICAgMjQ4XHRcbiAgIDI0OVx0ICAgIC8vQ3JlYXRlIGdldFhOYXZpZ2F0aW9uT2JqZWN0IGZ1bmN0aW9uXG4gICAyNTBcdCAgICB2YXIgZ2V0TmF2aWdhdGlvbk9iamVjdEZ1bmN0aW9uTmFtZSA9IFwiZ2V0XCIgKyBjYXBpdGFsaXplZE5hbWUgKyBcInNOYXZpZ2F0aW9uT2JqZWN0XCI7XG4gICAyNTFcdCAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0TmF2aWdhdGlvbk9iamVjdEZ1bmN0aW9uTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgIDI1Mlx0ICAgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMjUzXHQgICAgICB2YXIgZmxhdHRlbmVkX2l0ZW1zID0gY29uZmlnW29wdGlvbnMuZmxhdHRlbmVkS2V5XTtcbiAgIDI1NFx0ICAgICAgdmFyIGxvd2VzdF9vcmRlciA9IGZyYW1ld29ya0Z1bmN0aW9uc1tnZXRMb3dlc3RPcmRlckZ1bmN0aW9uTmFtZV0oZmxhdHRlbmVkX2l0ZW1zKTtcbiAgIDI1NVx0XG4gICAyNTZcdCAgICAgIC8vUmV0dXJuIHN0YXRlbWVudCAtIGhhbmRsZSBkaWZmZXJlbnQgcmV0dXJuIHR5cGVzIGJhc2VkIG9uIGZyYW1ld29ya1xuICAgMjU3XHQgICAgICB2YXIgcmVzdWx0ID0gZnJhbWV3b3JrRnVuY3Rpb25zW2dldEF0T3JkZXJGdW5jdGlvbk5hbWVdKHtcbiAgIDI1OFx0ICAgICAgICBvcmRlcjogbG93ZXN0X29yZGVyLFxuICAgMjU5XHQgICAgICAgIHJldHVybl9vYmplY3Q6ICFuYXZpZ2F0aW9uUmV0dXJuc0FycmF5XG4gICAyNjBcdCAgICAgIH0pO1xuICAgMjYxXHRcbiAgIDI2Mlx0ICAgICAgcmV0dXJuIG5hdmlnYXRpb25SZXR1cm5zQXJyYXkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gICAyNjNcdCAgICB9O1xuICAgMjY0XHRcbiAgIDI2NVx0ICAgIHJldHVybiBmcmFtZXdvcmtGdW5jdGlvbnM7XG4gICAyNjZcdCAgfVxuICAgMjY3XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTFdxalJNanJHNjM3MnhoRG1lU0xueCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6OCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzozNjozNC44NzRaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyBhZGQgc3VwcG9ydCBmb3IgYWRkaXRpb25hbCBjdXN0b20gZnVuY3Rpb25zIHNwZWNpZmljIHRvIGVhY2ggZnJhbWV3b3JrOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImZiYTQ2OTYwLWQ1ZTItNDhjOS1iNDI0LTlmYmNlZGZjMjAzNyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThGY0RvUkRTaVpqY1NoMmRnMkxkN3YiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwiaW5zdHJ1Y3Rpb25fcmVtaW5kZXJcIjogXCJBTFdBWVMgQlJFQUsgRE9XTiBFRElUUyBJTlRPIFNNQUxMRVIgQ0hVTktTIE9GIEFUIE1PU1QgMjAwIExJTkVTIEVBQ0guXCIsIFwicGF0aFwiOiBcInNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzXCIsIFwib2xkX3N0cl8xXCI6IFwiICAvKipcXG4gICAqIFVzYWdlIGV4YW1wbGUgZm9yIGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uczpcXG4gICAqIFxcbiAgICogLy8gRm9yIGVudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1xcbiAgICogdmFyIGVudGl0eUFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xcbiAgICogICBuYW1lOiBcXFwiZW50aXR5X2FjdGlvbnNcXFwiLFxcbiAgICogICBjb25maWdLZXk6IFxcXCJlbnRpdHlfYWN0aW9uc1xcXCIsXFxuICAgKiAgIGZsYXR0ZW5lZEtleTogXFxcImZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1xcXCIsXFxuICAgKiAgIHJlc2VydmVkS2V5OiBcXFwicmVzZXJ2ZWRfZW50aXR5X2FjdGlvbnNcXFwiXFxuICAgKiB9KTtcXG4gICAqIFxcbiAgICogLy8gVGhlbiBhc3NpZ24gdGhlIGZ1bmN0aW9ucyB0byB0aGUgZ2xvYmFsIHNjb3BlXFxuICAgKiB3aW5kb3cuZ2V0QWxsRW50aXR5QWN0aW9ucyA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0QWxsRW50aXR5QWN0aW9ucztcXG4gICAqIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb24gPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbjtcXG4gICAqIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb25zQXRPcmRlciA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXI7XFxuICAgKiB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXI7XFxuICAgKiB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3QgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0O1xcbiAgICogXFxuICAgKiAvLyBGb3IgdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanNcXG4gICAqIHZhciB2YXJpYWJsZUFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xcbiAgICogICBuYW1lOiBcXFwidmFyaWFibGVfYWN0aW9uc1xcXCIsXFxuICAgKiAgIGNvbmZpZ0tleTogXFxcInZhcmlhYmxlc1xcXCIsXFxuICAgKiAgIGZsYXR0ZW5lZEtleTogXFxcImZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zXFxcIixcXG4gICAqICAgcmVzZXJ2ZWRLZXk6IFxcXCJyZXNlcnZlZF92YXJpYWJsZV9hY3Rpb25zXFxcIlxcbiAgICogfSk7XFxuICAgKiBcXG4gICAqIC8vIFRoZW4gYXNzaWduIHRoZSBmdW5jdGlvbnMgdG8gdGhlIGdsb2JhbCBzY29wZVxcbiAgICogd2luZG93LmdldEFsbFZhcmlhYmxlQWN0aW9ucyA9IHZhcmlhYmxlQWN0aW9uc0Z1bmN0aW9ucy5nZXRBbGxWYXJpYWJsZUFjdGlvbnM7XFxuICAgKiB3aW5kb3cuZ2V0VmFyaWFibGVBY3Rpb24gPSB2YXJpYWJsZUFjdGlvbnNGdW5jdGlvbnMuZ2V0VmFyaWFibGVBY3Rpb247XFxuICAgKiB3aW5kb3cuZ2V0VmFyaWFibGVBY3Rpb25zQXRPcmRlciA9IHZhcmlhYmxlQWN0aW9uc0Z1bmN0aW9ucy5nZXRWYXJpYWJsZUFjdGlvbnNBdE9yZGVyO1xcbiAgICogd2luZG93LmdldFZhcmlhYmxlQWN0aW9uc0xvd2VzdE9yZGVyID0gdmFyaWFibGVBY3Rpb25zRnVuY3Rpb25zLmdldFZhcmlhYmxlQWN0aW9uc0xvd2VzdE9yZGVyO1xcbiAgICogd2luZG93LmdldFZhcmlhYmxlQWN0aW9uc05hdmlnYXRpb25PYmplY3QgPSB2YXJpYWJsZUFjdGlvbnNGdW5jdGlvbnMuZ2V0VmFyaWFibGVBY3Rpb25zTmF2aWdhdGlvbk9iamVjdDtcXG4gICAqL1wiLCBcIm5ld19zdHJfMVwiOiBcIiAgLyoqXFxuICAgKiBVc2FnZSBleGFtcGxlcyBmb3IgY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zOlxcbiAgICogXFxuICAgKiAvLyBGb3IgZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzXFxuICAgKiB2YXIgZW50aXR5QWN0aW9uc0Z1bmN0aW9ucyA9IGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9ucyh7XFxuICAgKiAgIG5hbWU6IFxcXCJlbnRpdHlfYWN0aW9uc1xcXCIsXFxuICAgKiAgIGNvbmZpZ0tleTogXFxcImVudGl0eV9hY3Rpb25zXFxcIixcXG4gICAqICAgZmxhdHRlbmVkS2V5OiBcXFwiZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXFxcIixcXG4gICAqICAgcmVzZXJ2ZWRLZXk6IFxcXCJyZXNlcnZlZF9lbnRpdHlfYWN0aW9uc1xcXCJcXG4gICAqIH0pO1xcbiAgICogXFxuICAgKiAvLyBUaGVuIGFzc2lnbiB0aGUgZnVuY3Rpb25zIHRvIHRoZSBnbG9iYWwgc2NvcGVcXG4gICAqIHdpbmRvdy5nZXRBbGxFbnRpdHlBY3Rpb25zID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRBbGxFbnRpdHlBY3Rpb25zO1xcbiAgICogd2luZG93LmdldEVudGl0eUFjdGlvbiA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uO1xcbiAgICogd2luZG93LmdldEVudGl0eUFjdGlvbnNBdE9yZGVyID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zQXRPcmRlcjtcXG4gICAqIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbnNMb3dlc3RPcmRlcjtcXG4gICAqIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3Q7XFxuICAgKiBcXG4gICAqIC8vIEZvciBlbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qcyB3aXRoIGFkZGl0aW9uYWwgZnVuY3Rpb25zXFxuICAgKiB2YXIgZW50aXR5S2V5ZnJhbWVzRnVuY3Rpb25zID0gY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zKHtcXG4gICAqICAgbmFtZTogXFxcImVudGl0eV9rZXlmcmFtZXNcXFwiLFxcbiAgICogICBjb25maWdLZXk6IFxcXCJlbnRpdHlfa2V5ZnJhbWVzXFxcIixcXG4gICAqICAgZmxhdHRlbmVkS2V5OiBcXFwiZmxhdHRlbmVkX2VudGl0eV9rZXlmcmFtZXNcXFwiLFxcbiAgICogICByZXNlcnZlZEtleTogXFxcInJlc2VydmVkX2VudGl0eV9rZXlmcmFtZXNcXFwiLFxcbiAgICogICBuYXZpZ2F0aW9uUmV0dXJuc0FycmF5OiB0cnVlLFxcbiAgICogICBhZGRpdGlvbmFsRnVuY3Rpb25zOiB7XFxuICAgKiAgICAgZGVsZXRlS2V5ZnJhbWU6IGZ1bmN0aW9uKGFyZzBfZW50aXR5X2lkLCBhcmcxX3RpbWVzdGFtcCkge1xcbiAgICogICAgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xcbiAgICogICAgICAgdmFyIGVudGl0eV9pZCA9IGFyZzBfZW50aXR5X2lkO1xcbiAgICogICAgICAgdmFyIHRpbWVzdGFtcCA9IGFyZzFfdGltZXN0YW1wO1xcbiAgICogICAgICAgXFxuICAgKiAgICAgICAvL0RlbGV0ZSBrZXlmcmFtZTsgdXBkYXRlIGJpb1xcbiAgICogICAgICAgY2xvc2VFbnRpdHlLZXlmcmFtZUNvbnRleHRNZW51cyhlbnRpdHlfaWQpO1xcbiAgICogICAgICAgZGVsZXRlSGlzdG9yeUZyYW1lKGVudGl0eV9pZCwgdGltZXN0YW1wKTtcXG4gICAqICAgICAgIFxcbiAgICogICAgICAgcHJpbnRFbnRpdHlCaW8oZW50aXR5X2lkKTtcXG4gICAqICAgICB9LFxcbiAgICogICAgIG1vdmVLZXlmcmFtZTogZnVuY3Rpb24oYXJnMF9lbnRpdHlfaWQsIGFyZzFfZGF0ZSwgYXJnMl9kYXRlKSB7XFxuICAgKiAgICAgICAvL0ltcGxlbWVudGF0aW9uIGhlcmUuLi5cXG4gICAqICAgICB9XFxuICAgKiAgIH1cXG4gICAqIH0pO1xcbiAgICogXFxuICAgKiAvLyBGb3IgdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanMgd2l0aCBtb2Rlcm4gSlNEb2NcXG4gICAqIHZhciB2YXJpYWJsZUFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xcbiAgICogICBuYW1lOiBcXFwidmFyaWFibGVfYWN0aW9uc1xcXCIsXFxuICAgKiAgIGNvbmZpZ0tleTogXFxcInZhcmlhYmxlc1xcXCIsXFxuICAgKiAgIGZsYXR0ZW5lZEtleTogXFxcImZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zXFxcIixcXG4gICAqICAgcmVzZXJ2ZWRLZXk6IFxcXCJyZXNlcnZlZF92YXJpYWJsZV9hY3Rpb25zXFxcIixcXG4gICAqICAgdXNlTW9kZXJuSlNEb2M6IHRydWUsXFxuICAgKiAgIG5hdmlnYXRpb25SZXR1cm5zQXJyYXk6IHRydWVcXG4gICAqIH0pO1xcbiAgICogXFxuICAgKiAvLyBGb3IgYnJ1c2hfYWN0aW9uc19mcmFtZXdvcmsuanNcXG4gICAqIHZhciBicnVzaEFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xcbiAgICogICBuYW1lOiBcXFwiYnJ1c2hfYWN0aW9uc1xcXCIsXFxuICAgKiAgIGNvbmZpZ0tleTogXFxcImJydXNoX2FjdGlvbnNcXFwiLFxcbiAgICogICBmbGF0dGVuZWRLZXk6IFxcXCJmbGF0dGVuZWRfYnJ1c2hfYWN0aW9uc1xcXCIsXFxuICAgKiAgIHJlc2VydmVkS2V5OiBcXFwicmVzZXJ2ZWRfYnJ1c2hfYWN0aW9uc1xcXCJcXG4gICAqIH0pO1xcbiAgICogXFxuICAgKiAvLyBGb3IgZ3JvdXBfYWN0aW9uc19mcmFtZXdvcmsuanNcXG4gICAqIHZhciBncm91cEFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xcbiAgICogICBuYW1lOiBcXFwiZ3JvdXBfYWN0aW9uc1xcXCIsXFxuICAgKiAgIGNvbmZpZ0tleTogXFxcImdyb3VwX2FjdGlvbnNcXFwiLFxcbiAgICogICBmbGF0dGVuZWRLZXk6IFxcXCJmbGF0dGVuZWRfZ3JvdXBfYWN0aW9uc1xcXCIsXFxuICAgKiAgIHJlc2VydmVkS2V5OiBcXFwicmVzZXJ2ZWRfZ3JvdXBfYWN0aW9uc1xcXCIsXFxuICAgKiAgIG5hdmlnYXRpb25SZXR1cm5zQXJyYXk6IHRydWVcXG4gICAqIH0pO1xcbiAgICovXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlcl8xXCI6IDI3NywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlcl8xXCI6IDI5Mn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgbGV0J3MgdXBkYXRlIHRoZSB1c2FnZSBleGFtcGxlcyB0byBzaG93IGhvdyB0byB1c2UgdGhlIGVuaGFuY2VkIGZ1bmN0aW9uYWxpdHk6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDI1OFx0ICAgICAgICBvcmRlcjogbG93ZXN0X29yZGVyLFxuICAgMjU5XHQgICAgICAgIHJldHVybl9vYmplY3Q6ICFuYXZpZ2F0aW9uUmV0dXJuc0FycmF5XG4gICAyNjBcdCAgICAgIH0pO1xuICAgMjYxXHRcbiAgIDI2Mlx0ICAgICAgcmV0dXJuIG5hdmlnYXRpb25SZXR1cm5zQXJyYXkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gICAyNjNcdCAgICB9O1xuICAgMjY0XHRcbiAgIDI2NVx0ICAgIC8vIEFkZCBhbnkgYWRkaXRpb25hbCBjdXN0b20gZnVuY3Rpb25zIHNwZWNpZmljIHRvIHRoaXMgZnJhbWV3b3JrXG4gICAyNjZcdCAgICBpZiAob3B0aW9ucy5hZGRpdGlvbmFsRnVuY3Rpb25zKSB7XG4gICAyNjdcdCAgICAgIHZhciBhZGRpdGlvbmFsRnVuY3Rpb25LZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucy5hZGRpdGlvbmFsRnVuY3Rpb25zKTtcbiAgIDI2OFx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhZGRpdGlvbmFsRnVuY3Rpb25LZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAyNjlcdCAgICAgICAgdmFyIGZ1bmN0aW9uS2V5ID0gYWRkaXRpb25hbEZ1bmN0aW9uS2V5c1tpXTtcbiAgIDI3MFx0ICAgICAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZnVuY3Rpb25LZXldID0gb3B0aW9ucy5hZGRpdGlvbmFsRnVuY3Rpb25zW2Z1bmN0aW9uS2V5XTtcbiAgIDI3MVx0ICAgICAgfVxuICAgMjcyXHQgICAgfVxuICAgMjczXHRcbiAgIDI3NFx0ICAgIHJldHVybiBmcmFtZXdvcmtGdW5jdGlvbnM7XG4gICAyNzVcdCAgfVxuICAgMjc2XHRcbiAgIDI3N1x0ICAvKipcbiAgIDI3OFx0ICAgKiBVc2FnZSBleGFtcGxlIGZvciBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnM6XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUFHdGFjR0FRZGpGWjVFVHNncmVpOXMifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjgsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6MzY6NDIuOTk1WiIsInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgdXBkYXRlIHRoZSB1c2FnZSBleGFtcGxlcyB0byBzaG93IGhvdyB0byB1c2UgdGhlIGVuaGFuY2VkIGZ1bmN0aW9uYWxpdHk6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZDMyNWI0MWEtYjlhYy00YzA3LTk4OGMtN2M4MTdjMjM4NGUxIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSd2ZSBub3cgY29tcGxldGVkIGEgY29tcHJlaGVuc2l2ZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgYGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uc2AgZnVuY3Rpb24gdGhhdCBoYW5kbGVzIGFsbCB0aGUgY2FzZXMgZnJvbSB0aGUgb3JpZ2luYWwgZnJhbWV3b3JrIGZpbGVzLiBMZXQgbWUgZXhwbGFpbiB0aGUga2V5IGltcHJvdmVtZW50czpcblxuIyMgRW5oYW5jZWQgSW1wbGVtZW50YXRpb24gRmVhdHVyZXNcblxuMS4gKipDb3JlIEZyYW1ld29yayBGdW5jdGlvbnMqKjogVGhlIGltcGxlbWVudGF0aW9uIGdlbmVyYXRlcyBhbGwgdGhlIHN0YW5kYXJkIGZ1bmN0aW9ucyBmb3VuZCBpbiB0aGUgZnJhbWV3b3JrIGZpbGVzOlxuICAgLSBgZ2V0QWxsWGAgLSBHZXRzIGFsbCBpdGVtcyBhcyBlaXRoZXIga2V5cyBvciBvYmplY3RzXG4gICAtIGBnZXRYYCAtIEdldHMgYSBzcGVjaWZpYyBpdGVtIGJ5IG5hbWUgb3IgSURcbiAgIC0gYGdldFhBdE9yZGVyYCAtIEdldHMgaXRlbXMgYXQgYSBzcGVjaWZpYyBvcmRlclxuICAgLSBgZ2V0WExvd2VzdE9yZGVyYCAtIEdldHMgdGhlIGxvd2VzdCBvcmRlciB2YWx1ZVxuICAgLSBgZ2V0WE5hdmlnYXRpb25PYmplY3RgIC0gR2V0cyB0aGUgbmF2aWdhdGlvbiBvYmplY3QgZm9yIHRoZSBsb3dlc3Qgb3JkZXJcblxuMi4gKipGbGV4aWJsZSBSZXR1cm4gVHlwZXMqKjogQWRkZWQgc3VwcG9ydCBmb3IgZGlmZmVyZW50IHJldHVybiB0eXBlcyBpbiB0aGUgbmF2aWdhdGlvbiBvYmplY3QgZnVuY3Rpb246XG4gICAtIFNvbWUgZnJhbWV3b3JrcyByZXR1cm4gdGhlIGZ1bGwgb2JqZWN0IChgZW50aXR5X2FjdGlvbnNgLCBgYnJ1c2hfYWN0aW9uc2ApXG4gICAtIE90aGVycyByZXR1cm4ganVzdCB0aGUgZmlyc3QgZWxlbWVudCBvZiBhbiBhcnJheSAoYHZhcmlhYmxlX2FjdGlvbnNgLCBgZW50aXR5X2tleWZyYW1lc2AsIGBncm91cF9hY3Rpb25zYClcbiAgIC0gVGhpcyBpcyBjb250cm9sbGVkIGJ5IHRoZSBgbmF2aWdhdGlvblJldHVybnNBcnJheWAgb3B0aW9uXG5cbjMuICoqQWRkaXRpb25hbCBDdXN0b20gRnVuY3Rpb25zKio6IEFkZGVkIHN1cHBvcnQgZm9yIGZyYW1ld29yay1zcGVjaWZpYyBmdW5jdGlvbnM6XG4gICAtIEZvciBleGFtcGxlLCBgZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanNgIGhhcyBhZGRpdGlvbmFsIGZ1bmN0aW9ucyBsaWtlIGBkZWxldGVLZXlmcmFtZWAgYW5kIGBtb3ZlS2V5ZnJhbWVgXG4gICAtIFRoZXNlIGNhbiBiZSBwcm92aWRlZCB2aWEgdGhlIGBhZGRpdGlvbmFsRnVuY3Rpb25zYCBvcHRpb25cblxuNC4gKipEb2N1bWVudGF0aW9uIFN0eWxlIE9wdGlvbnMqKjogQWRkZWQgc3VwcG9ydCBmb3IgYm90aCB0cmFkaXRpb25hbCBhbmQgbW9kZXJuIEpTRG9jIGNvbW1lbnQgc3R5bGVzOlxuICAgLSBUcmFkaXRpb25hbCBzdHlsZSB1c2VkIGluIG1vc3QgZnJhbWV3b3JrIGZpbGVzXG4gICAtIE1vZGVybiBKU0RvYyBzdHlsZSB1c2VkIGluIG5ld2VyIGZpbGVzIGxpa2UgYHZhcmlhYmxlX2FjdGlvbnNfZnJhbWV3b3JrLmpzYFxuXG41LiAqKkNvbXByZWhlbnNpdmUgQ29uZmlndXJhdGlvbioqOiBUaGUgZnVuY3Rpb24gYWNjZXB0cyBhIHdpZGUgcmFuZ2Ugb2YgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIGN1c3RvbWl6ZSBiZWhhdmlvcjpcbiAgIC0gYG5hbWVgIC0gVGhlIG5hbWUgb2YgdGhlIGZyYW1ld29ya1xuICAgLSBgY29uZmlnS2V5YCAtIFRoZSBrZXkgaW4gdGhlIGNvbmZpZyBvYmplY3Qgd2hlcmUgdGhlIGRhdGEgaXMgc3RvcmVkXG4gICAtIGBmbGF0dGVuZWRLZXlgIC0gVGhlIGtleSBmb3IgZmxhdHRlbmVkIGRhdGFcbiAgIC0gYHJlc2VydmVkS2V5YCAtIFRoZSBrZXkgZm9yIHJlc2VydmVkIGl0ZW1zXG4gICAtIGBzaW5ndWxhck5hbWVgIC0gQ3VzdG9tIHNpbmd1bGFyIG5hbWUgZm9yIGZ1bmN0aW9uIG5hbWluZ1xuICAgLSBgdXNlTW9kZXJuSlNEb2NgIC0gV2hldGhlciB0byB1c2UgbW9kZXJuIEpTRG9jIGNvbW1lbnRzXG4gICAtIGBuYXZpZ2F0aW9uUmV0dXJuc0FycmF5YCAtIFdoZXRoZXIgbmF2aWdhdGlvbiBvYmplY3QgcmV0dXJucyBhbiBhcnJheSBlbGVtZW50XG4gICAtIGBhZGRpdGlvbmFsRnVuY3Rpb25zYCAtIEN1c3RvbSBmdW5jdGlvbnMgc3BlY2lmaWMgdG8gdGhlIGZyYW1ld29ya1xuXG4jIyBVc2FnZSBFeGFtcGxlc1xuXG5JJ3ZlIHByb3ZpZGVkIGNvbXByZWhlbnNpdmUgdXNhZ2UgZXhhbXBsZXMgZm9yIGFsbCB0aGUgbWFqb3IgZnJhbWV3b3JrIHR5cGVzOlxuLSBgZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzYFxuLSBgZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanNgICh3aXRoIGFkZGl0aW9uYWwgZnVuY3Rpb25zKVxuLSBgdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanNgICh3aXRoIG1vZGVybiBKU0RvYylcbi0gYGJydXNoX2FjdGlvbnNfZnJhbWV3b3JrLmpzYFxuLSBgZ3JvdXBfYWN0aW9uc19mcmFtZXdvcmsuanNgXG5cblRoZXNlIGV4YW1wbGVzIHNob3cgaG93IHRvIGNvbmZpZ3VyZSB0aGUgZnVuY3Rpb24gZm9yIGVhY2ggc3BlY2lmaWMgZnJhbWV3b3JrIGFuZCBob3cgdG8gYXNzaWduIHRoZSBnZW5lcmF0ZWQgZnVuY3Rpb25zIHRvIHRoZSBnbG9iYWwgc2NvcGUuXG5cbiMjIEltcGxlbWVudGF0aW9uIEJlbmVmaXRzXG5cbjEuICoqUmVkdWNlZCBCb2lsZXJwbGF0ZSoqOiBFbGltaW5hdGVzIGR1cGxpY2F0ZSBjb2RlIGFjcm9zcyBmcmFtZXdvcmsgZmlsZXNcbjIuICoqQ29uc2lzdGVudCBJbXBsZW1lbnRhdGlvbioqOiBFbnN1cmVzIGFsbCBmcmFtZXdvcmtzIGZvbGxvdyB0aGUgc2FtZSBwYXR0ZXJuc1xuMy4gKipGbGV4aWJsZSBDb25maWd1cmF0aW9uKio6IEFkYXB0cyB0byB0aGUgc3BlY2lmaWMgbmVlZHMgb2YgZWFjaCBmcmFtZXdvcmtcbjQuICoqTWFpbnRhaW5hYmlsaXR5Kio6IENoYW5nZXMgb25seSBuZWVkIHRvIGJlIG1hZGUgaW4gb25lIHBsYWNlXG41LiAqKkV4dGVuc2liaWxpdHkqKjogRWFzeSB0byBhZGQgbmV3IGZyYW1ld29yayB0eXBlcyBieSByZXVzaW5nIHRoZSBzYW1lIGZ1bmN0aW9uXG5cblRoaXMgaW1wbGVtZW50YXRpb24gc3VjY2Vzc2Z1bGx5IGFkZHJlc3NlcyBhbGwgdGhlIGZ1bmN0aW9uYWxpdHkgZnJvbSB0aGUgb3JpZ2luYWwgZnJhbWV3b3JrIGZpbGVzIHdoaWxlIHByb3ZpZGluZyBhIG1vcmUgbWFpbnRhaW5hYmxlIGFuZCBjb25zaXN0ZW50IGFwcHJvYWNoLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcy5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAyNzNcdFxuICAgMjc0XHQgICAgcmV0dXJuIGZyYW1ld29ya0Z1bmN0aW9ucztcbiAgIDI3NVx0ICB9XG4gICAyNzZcdFxuICAgMjc3XHQgIC8qKlxuICAgMjc4XHQgICAqIFVzYWdlIGV4YW1wbGVzIGZvciBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnM6XG4gICAyNzlcdCAgICpcbiAgIDI4MFx0ICAgKiAvLyBGb3IgZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzXG4gICAyODFcdCAgICogdmFyIGVudGl0eUFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xuICAgMjgyXHQgICAqICAgbmFtZTogXCJlbnRpdHlfYWN0aW9uc1wiLFxuICAgMjgzXHQgICAqICAgY29uZmlnS2V5OiBcImVudGl0eV9hY3Rpb25zXCIsXG4gICAyODRcdCAgICogICBmbGF0dGVuZWRLZXk6IFwiZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXCIsXG4gICAyODVcdCAgICogICByZXNlcnZlZEtleTogXCJyZXNlcnZlZF9lbnRpdHlfYWN0aW9uc1wiXG4gICAyODZcdCAgICogfSk7XG4gICAyODdcdCAgICpcbiAgIDI4OFx0ICAgKiAvLyBUaGVuIGFzc2lnbiB0aGUgZnVuY3Rpb25zIHRvIHRoZSBnbG9iYWwgc2NvcGVcbiAgIDI4OVx0ICAgKiB3aW5kb3cuZ2V0QWxsRW50aXR5QWN0aW9ucyA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0QWxsRW50aXR5QWN0aW9ucztcbiAgIDI5MFx0ICAgKiB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb247XG4gICAyOTFcdCAgICogd2luZG93LmdldEVudGl0eUFjdGlvbnNBdE9yZGVyID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zQXRPcmRlcjtcbiAgIDI5Mlx0ICAgKiB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXI7XG4gICAyOTNcdCAgICogd2luZG93LmdldEVudGl0eUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0ID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdDtcbiAgIDI5NFx0ICAgKlxuICAgMjk1XHQgICAqIC8vIEZvciBlbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qcyB3aXRoIGFkZGl0aW9uYWwgZnVuY3Rpb25zXG4gICAyOTZcdCAgICogdmFyIGVudGl0eUtleWZyYW1lc0Z1bmN0aW9ucyA9IGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9ucyh7XG4gICAyOTdcdCAgICogICBuYW1lOiBcImVudGl0eV9rZXlmcmFtZXNcIixcbiAgIDI5OFx0ICAgKiAgIGNvbmZpZ0tleTogXCJlbnRpdHlfa2V5ZnJhbWVzXCIsXG4gICAyOTlcdCAgICogICBmbGF0dGVuZWRLZXk6IFwiZmxhdHRlbmVkX2VudGl0eV9rZXlmcmFtZXNcIixcbiAgIDMwMFx0ICAgKiAgIHJlc2VydmVkS2V5OiBcInJlc2VydmVkX2VudGl0eV9rZXlmcmFtZXNcIixcbiAgIDMwMVx0ICAgKiAgIG5hdmlnYXRpb25SZXR1cm5zQXJyYXk6IHRydWUsXG4gICAzMDJcdCAgICogICBhZGRpdGlvbmFsRnVuY3Rpb25zOiB7XG4gICAzMDNcdCAgICogICAgIGRlbGV0ZUtleWZyYW1lOiBmdW5jdGlvbihhcmcwX2VudGl0eV9pZCwgYXJnMV90aW1lc3RhbXApIHtcbiAgIDMwNFx0ICAgKiAgICAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAzMDVcdCAgICogICAgICAgdmFyIGVudGl0eV9pZCA9IGFyZzBfZW50aXR5X2lkO1xuICAgMzA2XHQgICAqICAgICAgIHZhciB0aW1lc3RhbXAgPSBhcmcxX3RpbWVzdGFtcDtcbiAgIDMwN1x0ICAgKlxuICAgMzA4XHQgICAqICAgICAgIC8vRGVsZXRlIGtleWZyYW1lOyB1cGRhdGUgYmlvXG4gICAzMDlcdCAgICogICAgICAgY2xvc2VFbnRpdHlLZXlmcmFtZUNvbnRleHRNZW51cyhlbnRpdHlfaWQpO1xuICAgMzEwXHQgICAqICAgICAgIGRlbGV0ZUhpc3RvcnlGcmFtZShlbnRpdHlfaWQsIHRpbWVzdGFtcCk7XG4gICAzMTFcdCAgICpcbiAgIDMxMlx0ICAgKiAgICAgICBwcmludEVudGl0eUJpbyhlbnRpdHlfaWQpO1xuICAgMzEzXHQgICAqICAgICB9LFxuICAgMzE0XHQgICAqICAgICBtb3ZlS2V5ZnJhbWU6IGZ1bmN0aW9uKGFyZzBfZW50aXR5X2lkLCBhcmcxX2RhdGUsIGFyZzJfZGF0ZSkge1xuICAgMzE1XHQgICAqICAgICAgIC8vSW1wbGVtZW50YXRpb24gaGVyZS4uLlxuICAgMzE2XHQgICAqICAgICB9XG4gICAzMTdcdCAgICogICB9XG4gICAzMThcdCAgICogfSk7XG4gICAzMTlcdCAgICpcbiAgIDMyMFx0ICAgKiAvLyBGb3IgdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanMgd2l0aCBtb2Rlcm4gSlNEb2NcbiAgIDMyMVx0ICAgKiB2YXIgdmFyaWFibGVBY3Rpb25zRnVuY3Rpb25zID0gY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zKHtcbiAgIDMyMlx0ICAgKiAgIG5hbWU6IFwidmFyaWFibGVfYWN0aW9uc1wiLFxuICAgMzIzXHQgICAqICAgY29uZmlnS2V5OiBcInZhcmlhYmxlc1wiLFxuICAgMzI0XHQgICAqICAgZmxhdHRlbmVkS2V5OiBcImZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zXCIsXG4gICAzMjVcdCAgICogICByZXNlcnZlZEtleTogXCJyZXNlcnZlZF92YXJpYWJsZV9hY3Rpb25zXCIsXG4gICAzMjZcdCAgICogICB1c2VNb2Rlcm5KU0RvYzogdHJ1ZSxcbiAgIDMyN1x0ICAgKiAgIG5hdmlnYXRpb25SZXR1cm5zQXJyYXk6IHRydWVcbiAgIDMyOFx0ICAgKiB9KTtcbiAgIDMyOVx0ICAgKlxuICAgMzMwXHQgICAqIC8vIEZvciBicnVzaF9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgMzMxXHQgICAqIHZhciBicnVzaEFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xuICAgMzMyXHQgICAqICAgbmFtZTogXCJicnVzaF9hY3Rpb25zXCIsXG4gICAzMzNcdCAgICogICBjb25maWdLZXk6IFwiYnJ1c2hfYWN0aW9uc1wiLFxuICAgMzM0XHQgICAqICAgZmxhdHRlbmVkS2V5OiBcImZsYXR0ZW5lZF9icnVzaF9hY3Rpb25zXCIsXG4gICAzMzVcdCAgICogICByZXNlcnZlZEtleTogXCJyZXNlcnZlZF9icnVzaF9hY3Rpb25zXCJcbiAgIDMzNlx0ICAgKiB9KTtcbiAgIDMzN1x0ICAgKlxuICAgMzM4XHQgICAqIC8vIEZvciBncm91cF9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgMzM5XHQgICAqIHZhciBncm91cEFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xuICAgMzQwXHQgICAqICAgbmFtZTogXCJncm91cF9hY3Rpb25zXCIsXG4gICAzNDFcdCAgICogICBjb25maWdLZXk6IFwiZ3JvdXBfYWN0aW9uc1wiLFxuICAgMzQyXHQgICAqICAgZmxhdHRlbmVkS2V5OiBcImZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zXCIsXG4gICAzNDNcdCAgICogICByZXNlcnZlZEtleTogXCJyZXNlcnZlZF9ncm91cF9hY3Rpb25zXCIsXG4gICAzNDRcdCAgICogICBuYXZpZ2F0aW9uUmV0dXJuc0FycmF5OiB0cnVlXG4gICAzNDVcdCAgICogfSk7XG4gICAzNDZcdCAgICovXG4gICAzNDdcdH1cbiAgIDM0OFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThGY0RvUkRTaVpqY1NoMmRnMkxkN3YifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjgsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6Mzc6MDYuNDA4WiIsInJlc3BvbnNlX3RleHQiOiJJJ3ZlIG5vdyBjb21wbGV0ZWQgYSBjb21wcmVoZW5zaXZlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBgY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zYCBmdW5jdGlvbiB0aGF0IGhhbmRsZXMgYWxsIHRoZSBjYXNlcyBmcm9tIHRoZSBvcmlnaW5hbCBmcmFtZXdvcmsgZmlsZXMuIExldCBtZSBleHBsYWluIHRoZSBrZXkgaW1wcm92ZW1lbnRzOlxuXG4jIyBFbmhhbmNlZCBJbXBsZW1lbnRhdGlvbiBGZWF0dXJlc1xuXG4xLiAqKkNvcmUgRnJhbWV3b3JrIEZ1bmN0aW9ucyoqOiBUaGUgaW1wbGVtZW50YXRpb24gZ2VuZXJhdGVzIGFsbCB0aGUgc3RhbmRhcmQgZnVuY3Rpb25zIGZvdW5kIGluIHRoZSBmcmFtZXdvcmsgZmlsZXM6XG4gICAtIGBnZXRBbGxYYCAtIEdldHMgYWxsIGl0ZW1zIGFzIGVpdGhlciBrZXlzIG9yIG9iamVjdHNcbiAgIC0gYGdldFhgIC0gR2V0cyBhIHNwZWNpZmljIGl0ZW0gYnkgbmFtZSBvciBJRFxuICAgLSBgZ2V0WEF0T3JkZXJgIC0gR2V0cyBpdGVtcyBhdCBhIHNwZWNpZmljIG9yZGVyXG4gICAtIGBnZXRYTG93ZXN0T3JkZXJgIC0gR2V0cyB0aGUgbG93ZXN0IG9yZGVyIHZhbHVlXG4gICAtIGBnZXRYTmF2aWdhdGlvbk9iamVjdGAgLSBHZXRzIHRoZSBuYXZpZ2F0aW9uIG9iamVjdCBmb3IgdGhlIGxvd2VzdCBvcmRlclxuXG4yLiAqKkZsZXhpYmxlIFJldHVybiBUeXBlcyoqOiBBZGRlZCBzdXBwb3J0IGZvciBkaWZmZXJlbnQgcmV0dXJuIHR5cGVzIGluIHRoZSBuYXZpZ2F0aW9uIG9iamVjdCBmdW5jdGlvbjpcbiAgIC0gU29tZSBmcmFtZXdvcmtzIHJldHVybiB0aGUgZnVsbCBvYmplY3QgKGBlbnRpdHlfYWN0aW9uc2AsIGBicnVzaF9hY3Rpb25zYClcbiAgIC0gT3RoZXJzIHJldHVybiBqdXN0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5IChgdmFyaWFibGVfYWN0aW9uc2AsIGBlbnRpdHlfa2V5ZnJhbWVzYCwgYGdyb3VwX2FjdGlvbnNgKVxuICAgLSBUaGlzIGlzIGNvbnRyb2xsZWQgYnkgdGhlIGBuYXZpZ2F0aW9uUmV0dXJuc0FycmF5YCBvcHRpb25cblxuMy4gKipBZGRpdGlvbmFsIEN1c3RvbSBGdW5jdGlvbnMqKjogQWRkZWQgc3VwcG9ydCBmb3IgZnJhbWV3b3JrLXNwZWNpZmljIGZ1bmN0aW9uczpcbiAgIC0gRm9yIGV4YW1wbGUsIGBlbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc2AgaGFzIGFkZGl0aW9uYWwgZnVuY3Rpb25zIGxpa2UgYGRlbGV0ZUtleWZyYW1lYCBhbmQgYG1vdmVLZXlmcmFtZWBcbiAgIC0gVGhlc2UgY2FuIGJlIHByb3ZpZGVkIHZpYSB0aGUgYGFkZGl0aW9uYWxGdW5jdGlvbnNgIG9wdGlvblxuXG40LiAqKkRvY3VtZW50YXRpb24gU3R5bGUgT3B0aW9ucyoqOiBBZGRlZCBzdXBwb3J0IGZvciBib3RoIHRyYWRpdGlvbmFsIGFuZCBtb2Rlcm4gSlNEb2MgY29tbWVudCBzdHlsZXM6XG4gICAtIFRyYWRpdGlvbmFsIHN0eWxlIHVzZWQgaW4gbW9zdCBmcmFtZXdvcmsgZmlsZXNcbiAgIC0gTW9kZXJuIEpTRG9jIHN0eWxlIHVzZWQgaW4gbmV3ZXIgZmlsZXMgbGlrZSBgdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanNgXG5cbjUuICoqQ29tcHJlaGVuc2l2ZSBDb25maWd1cmF0aW9uKio6IFRoZSBmdW5jdGlvbiBhY2NlcHRzIGEgd2lkZSByYW5nZSBvZiBjb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gY3VzdG9taXplIGJlaGF2aW9yOlxuICAgLSBgbmFtZWAgLSBUaGUgbmFtZSBvZiB0aGUgZnJhbWV3b3JrXG4gICAtIGBjb25maWdLZXlgIC0gVGhlIGtleSBpbiB0aGUgY29uZmlnIG9iamVjdCB3aGVyZSB0aGUgZGF0YSBpcyBzdG9yZWRcbiAgIC0gYGZsYXR0ZW5lZEtleWAgLSBUaGUga2V5IGZvciBmbGF0dGVuZWQgZGF0YVxuICAgLSBgcmVzZXJ2ZWRLZXlgIC0gVGhlIGtleSBmb3IgcmVzZXJ2ZWQgaXRlbXNcbiAgIC0gYHNpbmd1bGFyTmFtZWAgLSBDdXN0b20gc2luZ3VsYXIgbmFtZSBmb3IgZnVuY3Rpb24gbmFtaW5nXG4gICAtIGB1c2VNb2Rlcm5KU0RvY2AgLSBXaGV0aGVyIHRvIHVzZSBtb2Rlcm4gSlNEb2MgY29tbWVudHNcbiAgIC0gYG5hdmlnYXRpb25SZXR1cm5zQXJyYXlgIC0gV2hldGhlciBuYXZpZ2F0aW9uIG9iamVjdCByZXR1cm5zIGFuIGFycmF5IGVsZW1lbnRcbiAgIC0gYGFkZGl0aW9uYWxGdW5jdGlvbnNgIC0gQ3VzdG9tIGZ1bmN0aW9ucyBzcGVjaWZpYyB0byB0aGUgZnJhbWV3b3JrXG5cbiMjIFVzYWdlIEV4YW1wbGVzXG5cbkkndmUgcHJvdmlkZWQgY29tcHJlaGVuc2l2ZSB1c2FnZSBleGFtcGxlcyBmb3IgYWxsIHRoZSBtYWpvciBmcmFtZXdvcmsgdHlwZXM6XG4tIGBlbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanNgXG4tIGBlbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc2AgKHdpdGggYWRkaXRpb25hbCBmdW5jdGlvbnMpXG4tIGB2YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qc2AgKHdpdGggbW9kZXJuIEpTRG9jKVxuLSBgYnJ1c2hfYWN0aW9uc19mcmFtZXdvcmsuanNgXG4tIGBncm91cF9hY3Rpb25zX2ZyYW1ld29yay5qc2BcblxuVGhlc2UgZXhhbXBsZXMgc2hvdyBob3cgdG8gY29uZmlndXJlIHRoZSBmdW5jdGlvbiBmb3IgZWFjaCBzcGVjaWZpYyBmcmFtZXdvcmsgYW5kIGhvdyB0byBhc3NpZ24gdGhlIGdlbmVyYXRlZCBmdW5jdGlvbnMgdG8gdGhlIGdsb2JhbCBzY29wZS5cblxuIyMgSW1wbGVtZW50YXRpb24gQmVuZWZpdHNcblxuMS4gKipSZWR1Y2VkIEJvaWxlcnBsYXRlKio6IEVsaW1pbmF0ZXMgZHVwbGljYXRlIGNvZGUgYWNyb3NzIGZyYW1ld29yayBmaWxlc1xuMi4gKipDb25zaXN0ZW50IEltcGxlbWVudGF0aW9uKio6IEVuc3VyZXMgYWxsIGZyYW1ld29ya3MgZm9sbG93IHRoZSBzYW1lIHBhdHRlcm5zXG4zLiAqKkZsZXhpYmxlIENvbmZpZ3VyYXRpb24qKjogQWRhcHRzIHRvIHRoZSBzcGVjaWZpYyBuZWVkcyBvZiBlYWNoIGZyYW1ld29ya1xuNC4gKipNYWludGFpbmFiaWxpdHkqKjogQ2hhbmdlcyBvbmx5IG5lZWQgdG8gYmUgbWFkZSBpbiBvbmUgcGxhY2VcbjUuICoqRXh0ZW5zaWJpbGl0eSoqOiBFYXN5IHRvIGFkZCBuZXcgZnJhbWV3b3JrIHR5cGVzIGJ5IHJldXNpbmcgdGhlIHNhbWUgZnVuY3Rpb25cblxuVGhpcyBpbXBsZW1lbnRhdGlvbiBzdWNjZXNzZnVsbHkgYWRkcmVzc2VzIGFsbCB0aGUgZnVuY3Rpb25hbGl0eSBmcm9tIHRoZSBvcmlnaW5hbCBmcmFtZXdvcmsgZmlsZXMgd2hpbGUgcHJvdmlkaW5nIGEgbW9yZSBtYWludGFpbmFibGUgYW5kIGNvbnNpc3RlbnQgYXBwcm9hY2guXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiJkMmZiOGE3Mi0xYjIwLTRlM2QtOWNjZC1iYjM5Mjc1OTczNDYiLCJ1dWlkIjoiNGIxMjBmNjItNDA5Yi00ZDNmLWI3MzUtNjM0Mjg0MDlkNjZhIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjoxNzQ3ODk5MzA2NDU0LCJ0b1RpbWVzdGFtcCI6MTc0Nzg5OTQ0NTcxOCwic2Vlbl9zdGF0ZSI6InNlZW4ifSx7InJlcXVlc3RfaWQiOiI2NmE5NDcyYy0wNTc4LTRlNzAtYjIwZC0yNjE2NzRmYjNiYzMiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjRkYjhhNjU2LTQxZDItNDAwZi1hZDNiLTYwMTU2OTVkNjJjOSIsInJlcXVlc3RfbWVzc2FnZSI6Ik9rYXksIGNhbiB5b3UgdGhlbiByZXBsYWNlIHRoZSBib2lsZXJwbGF0ZSBjb2RlIHdpdGggd2hhdCB0aGUgbmV3IGNvZGUgc2hvdWxkIGJlIGFjY29yZGluZyB0byB5b3VyIG93biBpbXBsZW1lbnRhdGlvbj8iLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiT2theSwgY2FuIHlvdSB0aGVuIHJlcGxhY2UgdGhlIGJvaWxlcnBsYXRlIGNvZGUgd2l0aCB3aGF0IHRoZSBuZXcgY29kZSBzaG91bGQgYmUgYWNjb3JkaW5nIHRvIHlvdXIgb3duIGltcGxlbWVudGF0aW9uPyJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUVF4eFdXVVdOY3Vucll6TldWc3QxbiIsInRvb2xfbmFtZSI6InZpZXciLCJpbnB1dF9qc29uIjoie1wicGF0aFwiOiBcInNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzXCJ9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSdsbCBpbXBsZW1lbnQgdGhlIGNoYW5nZXMgdG8gcmVwbGFjZSB0aGUgYm9pbGVycGxhdGUgY29kZSBpbiB0aGUgZnJhbWV3b3JrIGZpbGVzIHdpdGggdGhlIG5ldyBhcHByb2FjaC4gTGV0J3Mgc3RhcnQgYnkgdXBkYXRpbmcgZWFjaCBmcmFtZXdvcmsgZmlsZSBvbmUgYnkgb25lLlxuXG5GaXJzdCwgbGV0J3MgbG9vayBhdCB0aGUgZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzIGZpbGU6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6Ik9rYXksIGNhbiB5b3UgdGhlbiByZXBsYWNlIHRoZSBib2lsZXJwbGF0ZSBjb2RlIHdpdGggd2hhdCB0aGUgbmV3IGNvZGUgc2hvdWxkIGJlIGFjY29yZGluZyB0byB5b3VyIG93biBpbXBsZW1lbnRhdGlvbj8ifX0seyJpZCI6MSwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjgsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6Mzc6MjkuMTA3WiIsInJlc3BvbnNlX3RleHQiOiJJJ2xsIGltcGxlbWVudCB0aGUgY2hhbmdlcyB0byByZXBsYWNlIHRoZSBib2lsZXJwbGF0ZSBjb2RlIGluIHRoZSBmcmFtZXdvcmsgZmlsZXMgd2l0aCB0aGUgbmV3IGFwcHJvYWNoLiBMZXQncyBzdGFydCBieSB1cGRhdGluZyBlYWNoIGZyYW1ld29yayBmaWxlIG9uZSBieSBvbmUuXG5cbkZpcnN0LCBsZXQncyBsb29rIGF0IHRoZSBlbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanMgZmlsZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJjYTJlNzEzNy04OWM5LTQzYmItOWMzNy1hMmFmYThkNTc5NGMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFBM3lmNUdwN1dMa01aa25oTVJwVkZrIiwidG9vbF9uYW1lIjoibGF1bmNoLXByb2Nlc3MiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInBvd2Vyc2hlbGwgLUNvbW1hbmQgXFxcIkdldC1Db250ZW50ICdzcmNcXFxcanNcXFxcZnJhbWV3b3JrXFxcXGVudGl0aWVzXFxcXGVudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qcycgLVRvdGFsQ291bnQgMjBcXFwiXCIsIFwid2FpdFwiOiB0cnVlLCBcIm1heF93YWl0X3NlY29uZHNcIjogMTB9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIHRyeSBhIGRpZmZlcmVudCBhcHByb2FjaCB0byB2aWV3IHRoZSBmaWxlOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBub3QgZm91bmQ6IHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzLiBEaWQgeW91IG1lYW4gb25lIG9mIHRoZXNlPyBzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qcyIsImlzX2Vycm9yIjp0cnVlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUVF4eFdXVVdOY3Vucll6TldWc3QxbiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6OCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzozNzozNC42MzVaIiwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSB0cnkgYSBkaWZmZXJlbnQgYXBwcm9hY2ggdG8gdmlldyB0aGUgZmlsZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJiOTc3MGVhOS00MDdiLTQwYmEtYjkyYi1jOWMxZWQ5ZWQyZjIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFMamVNNXJmSFFVNmtWWmVXb0toQ0VoIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcImluc3RydWN0aW9uX3JlbWluZGVyXCI6IFwiQUxXQVlTIEJSRUFLIERPV04gRURJVFMgSU5UTyBTTUFMTEVSIENIVU5LUyBPRiBBVCBNT1NUIDIwMCBMSU5FUyBFQUNILlwiLCBcInBhdGhcIjogXCJzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1wiLCBcIm9sZF9zdHJfMVwiOiBcIi8vSW5pdGlhbGlzZSBFbnRpdHkgQWN0aW9ucyBmcmFtZXdvcmtcXG57XFxuICAvKlxcbiAgICBnZXRBbGxFbnRpdHlBY3Rpb25zKCkgLSBGZXRjaGVzIGFsbCBlbnRpdHkgYWN0aW9ucyBhcyBlaXRoZXIgYW4gYXJyYXkgb2Yga2V5cyBvciBvYmplY3RzLlxcbiAgICBhcmcwX29wdGlvbnM6IChPYmplY3QpXFxuICAgICAgcmV0dXJuX2tleXM6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuIEZhbHNlIGJ5IGRlZmF1bHQuXFxuXFxuICAgIFJldHVybnM6IChBcnJheTxPYmplY3Q+L0FycmF5PFN0cmluZz4pXFxuICAqL1xcbiAgZnVuY3Rpb24gZ2V0QWxsRW50aXR5QWN0aW9ucyAoYXJnMF9vcHRpb25zKSB7XFxuICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcXG4gICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xcblxcbiAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXFxuICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcXG4gICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnM7XFxuICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xcbiAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcXG5cXG4gICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1xcbiAgICB2YXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyk7XFxuXFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKylcXG4gICAgICBpZiAoIWNvbW1vbl9kZWZpbmVzLnJlc2VydmVkX2VudGl0eV9hY3Rpb25zLmluY2x1ZGVzKGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV0pKSB7XFxuICAgICAgICByZXR1cm5fYWN0aW9ucy5wdXNoKGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1thbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldXSk7XFxuICAgICAgICByZXR1cm5fa2V5cy5wdXNoKGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV0pO1xcbiAgICAgIH1cXG5cXG4gICAgLy9SZXR1cm4gc3RhdGVtZW50XFxuICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2FjdGlvbnMpID8gcmV0dXJuX2FjdGlvbnMgOiByZXR1cm5fa2V5cztcXG4gIH1cXG5cXG4gIC8qXFxuICAgIGdldEVudGl0eUFjdGlvbigpIC0gRmV0Y2hlcyBhbiBlbnRpdHkgYWN0aW9uLlxcbiAgICBhcmcwX25hbWU6IChTdHJpbmcpIC0gVGhlIG5hbWUvSUQgb2YgdGhlIGVudGl0eSBhY3Rpb24gY2F0ZWdvcnkuXFxuICAgIGFyZzFfb3B0aW9uczogKE9iamVjdClcXG4gICAgICByZXR1cm5fa2V5OiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBrZXkuIEZhbHNlIGJ5IGRlZmF1bHQuXFxuXFxuICAgIFJldHVybnM6IChPYmplY3QvU3RyaW5nKVxcbiAgKi9cXG4gIGZ1bmN0aW9uIGdldEVudGl0eUFjdGlvbiAoYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcXG4gICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xcbiAgICB2YXIgbmFtZSA9IGFyZzBfbmFtZTtcXG4gICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xcblxcbiAgICAvL0d1YXJkIGNsYXVzZSBmb3Igb2JqZWN0czsgZGlyZWN0IGtleXNcXG4gICAgaWYgKHR5cGVvZiBuYW1lID09IFxcXCJvYmplY3RcXFwiKSByZXR1cm4gbmFtZTtcXG4gICAgaWYgKGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbbmFtZV0pIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW25hbWVdIDogbmFtZTtcXG5cXG4gICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICB2YXIgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW2ZhbHNlLCBcXFwiXFxcIl07IC8vW2VudGl0eV9hY3Rpb25zX2V4aXN0cywgZW50aXR5X2FjdGlvbnNfa2V5XTtcXG4gICAgdmFyIHNlYXJjaF9uYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcXG4gICAgXFxuICAgIC8vSUQgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcXG4gICAge1xcbiAgICAgIC8vSXRlcmF0ZSBvdmVyIGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNcXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNbaV07XFxuXFxuICAgICAgICBpZiAobG9jYWxfdmFsdWUuaWQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXFxuICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xcbiAgICAgIH1cXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNbaV07XFxuXFxuICAgICAgICBpZiAobG9jYWxfdmFsdWUuaWQudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcXG4gICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XFxuICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxcbiAgICB7XFxuICAgICAgLy9JdGVyYXRlIG92ZXIgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9uc1xcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9uc1tpXTtcXG5cXG4gICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxcbiAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcXG4gICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcXG4gICAgICB9XFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zW2ldO1xcblxcbiAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXFxuICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXFxuICAgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XFxuICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC8vUmV0dXJuIHN0YXRlbWVudFxcbiAgICBpZiAoZW50aXR5X2FjdGlvbnNfZXhpc3RzWzBdKVxcbiAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2VudGl0eV9hY3Rpb25zX2V4aXN0c1sxXV0gOiBlbnRpdHlfYWN0aW9uc19leGlzdHNbMV07XFxuICB9XFxuXFxuICAvKlxcbiAgICBnZXRFbnRpdHlBY3Rpb25zQXRPcmRlcigpIC0gRmV0Y2hlcyBhbGwgZW50aXR5IGFjdGlvbnMgYXQgYSBzcGVjaWZpYyBvcmRlci5cXG4gICAgYXJnMF9vcHRpb25zOiAoT2JqZWN0KVxcbiAgICAgIG9yZGVyOiAoTnVtYmVyKSAtIE9wdGlvbmFsLiBUaGUgb3JkZXIgdG8gZmV0Y2ggZW50aXR5IGFjdGlvbnMgYXQuIDEgYnkgZGVmYXVsdC5cXG4gICAgICByZXR1cm5fa2V5OiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0LlxcbiAgICAgIHJldHVybl9vYmplY3Q6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gb2JqZWN0IGluc3RlYWQgb2YgYW4gYXJyYXkuIEZhbHNlIGJ5IGRlZmF1bHQuXFxuXFxuICAgIFJldHVybnM6IChBcnJheTxPYmplY3Q+L0FycmF5PFN0cmluZz4vT2JqZWN0KVxcbiAgKi9cXG4gIGZ1bmN0aW9uIGdldEVudGl0eUFjdGlvbnNBdE9yZGVyIChhcmcwX29wdGlvbnMpIHtcXG4gICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xcbiAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XFxuXFxuICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcXG4gICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnM7XFxuICAgIHZhciBvcmRlciA9IChvcHRpb25zLm9yZGVyICE9IHVuZGVmaW5lZCkgPyBvcHRpb25zLm9yZGVyIDogMTtcXG4gICAgdmFyIHJldHVybl9hY3Rpb25zID0gW107XFxuICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1xcbiAgICB2YXIgcmV0dXJuX29iaiA9IHt9O1xcblxcbiAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXFxuICAgIHZhciBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zKTtcXG5cXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgdmFyIGxvY2FsX2FjdGlvbiA9IGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1thbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldXTtcXG5cXG4gICAgICBpZiAobG9jYWxfYWN0aW9uLm9yZGVyID09IG9wdGlvbnMub3JkZXIpIHtcXG4gICAgICAgIHJldHVybl9hY3Rpb25zLnB1c2gobG9jYWxfYWN0aW9uKTtcXG4gICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tpXSk7XFxuICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC8vb3B0aW9ucy5yZXR1cm5fb2JqZWN0IGhhbmRsZXJcXG4gICAgaWYgKG9wdGlvbnMucmV0dXJuX29iamVjdCkge1xcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0dXJuX2FjdGlvbnMubGVuZ3RoOyBpKyspXFxuICAgICAgICByZXR1cm5fb2JqW3JldHVybl9rZXlzW2ldXSA9IHJldHVybl9hY3Rpb25zW2ldO1xcbiAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxcbiAgICAgIHJldHVybiByZXR1cm5fb2JqO1xcbiAgICB9XFxuXFxuICAgIC8vUmV0dXJuIHN0YXRlbWVudFxcbiAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gcmV0dXJuX2FjdGlvbnMgOiByZXR1cm5fa2V5cztcXG4gIH1cXG5cXG4gIC8qXFxuICAgIGdldEVudGl0eUFjdGlvbnNMb3dlc3RPcmRlcigpIC0gRmV0Y2hlcyB0aGUgbG93ZXN0IC5vcmRlciBmcm9tIGFsbCBjb25maWcuZW50aXR5X2FjdGlvbnMuXFxuXFxuICAgIFJldHVybnM6IChOdW1iZXIpXFxuICAqL1xcbiAgZnVuY3Rpb24gZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyICgpIHtcXG4gICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICB2YXIgZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucztcXG4gICAgdmFyIG1pbl9vcmRlciA9IEluZmluaXR5O1xcblxcbiAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXFxuICAgIHZhciBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zKTtcXG5cXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgdmFyIGxvY2FsX2FjdGlvbiA9IGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1thbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldXTtcXG5cXG4gICAgICBpZiAobG9jYWxfYWN0aW9uLm9yZGVyICE9IHVuZGVmaW5lZClcXG4gICAgICAgIG1pbl9vcmRlciA9IE1hdGgubWluKG1pbl9vcmRlciwgbG9jYWxfYWN0aW9uLm9yZGVyKTtcXG4gICAgfVxcblxcbiAgICAvL1JldHVybiBzdGF0ZW1lbnRcXG4gICAgcmV0dXJuIG1pbl9vcmRlcjtcXG4gIH1cXG5cXG4gIC8qXFxuICAgIGdldEVudGl0eUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0KCkgLSBGZXRjaGVzIHRoZSBuYXZpZ2F0aW9uIG9iamVjdCBmb3IgZW50aXR5IGFjdGlvbnM7IHRoZSBpbml0aWFsIGNvbnRleHQgbWVudSBmcm9tIHRoZSBsb3dlc3Qgb3JkZXIuXFxuXFxuICAgIFJldHVybnM6IChPYmplY3QpXFxuICAqL1xcbiAgZnVuY3Rpb24gZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3QgKCkge1xcbiAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXFxuICAgIHZhciBmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zO1xcbiAgICB2YXIgbG93ZXN0X29yZGVyID0gZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyKGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyk7XFxuXFxuICAgIC8vUmV0dXJuIHN0YXRlbWVudFxcbiAgICByZXR1cm4gZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXIoeyBvcmRlcjogbG93ZXN0X29yZGVyLCByZXR1cm5fb2JqZWN0OiB0cnVlIH0pO1xcbiAgfVxcbn1cIiwgXCJuZXdfc3RyXzFcIjogXCIvL0luaXRpYWxpc2UgRW50aXR5IEFjdGlvbnMgZnJhbWV3b3JrXFxue1xcbiAgLy8gR2VuZXJhdGUgYWxsIHRoZSBzdGFuZGFyZCBmcmFtZXdvcmsgZnVuY3Rpb25zIHVzaW5nIGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uc1xcbiAgdmFyIGVudGl0eUFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xcbiAgICBuYW1lOiBcXFwiZW50aXR5X2FjdGlvbnNcXFwiLFxcbiAgICBjb25maWdLZXk6IFxcXCJlbnRpdHlfYWN0aW9uc1xcXCIsXFxuICAgIGZsYXR0ZW5lZEtleTogXFxcImZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1xcXCIsXFxuICAgIHJlc2VydmVkS2V5OiBcXFwicmVzZXJ2ZWRfZW50aXR5X2FjdGlvbnNcXFwiXFxuICB9KTtcXG5cXG4gIC8vIEFzc2lnbiB0aGUgZ2VuZXJhdGVkIGZ1bmN0aW9ucyB0byB0aGUgZ2xvYmFsIHNjb3BlXFxuICB3aW5kb3cuZ2V0QWxsRW50aXR5QWN0aW9ucyA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0QWxsRW50aXR5QWN0aW9ucztcXG4gIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb24gPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbjtcXG4gIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb25zQXRPcmRlciA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXI7XFxuICB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXI7XFxuICB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3QgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0O1xcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXzFcIjogMSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlcl8xXCI6IDI2OH0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgbGV0J3MgdXBkYXRlIHRoZSBlbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanMgZmlsZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUgYXJlIHRoZSByZXN1bHRzIGZyb20gZXhlY3V0aW5nIHRoZSBjb21tYW5kLlxuICAgICAgICA8cmV0dXJuLWNvZGU+XG4gICAgICAgIDBcbiAgICAgICAgPC9yZXR1cm4tY29kZT5cbiAgICAgICAgPHN0ZG91dD5cbiAgICAgICAgXHUwMDFiWz85MDAxaFx1MDAxYls/MTAwNGhcdTAwMWJbPzI1bFx1MDAxYlsySlx1MDAxYlttXHUwMDFiW0gvL0luaXRpYWxpc2UgRW50aXR5IEFjdGlvbnMgZnJhbWV3b3JrXG57XG4gIC8qXG4gICAgZ2V0QWxsRW50aXR5QWN0aW9ucygpIC0gRmV0Y2hlcyBhbGwgZW50aXR5IGFjdGlvbnMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICBhcmcwX29wdGlvbnM6IChPYmplY3QpXG4gICAgICByZXR1cm5fa2V5czogKEJvb2xlYW4pIC0gT3B0aW9uYWwuIFdoZXRoZXIgb3Igbm90IHRvIHJldHVybiBhbiBhcnJheSBvZiBrZXlzIGluc3RlYWQgb2Ygb2JqZWN0cy4gRmFsc2UgYnkgZGVmYXVsdC5cdTAwMWJbODsxSCAgICBSZXR1cm5zOiAoQXJyYXk8T2JqZWN0Pi9BcnJheTxTdHJpbmc+KVxuICAqL1xuICBmdW5jdGlvbiBnZXRBbGxFbnRpdHlBY3Rpb25zIChhcmcwX29wdGlvbnMpIHtcbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1x1MDAxYlsxNDsxSCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgdmFyIGNvbW1vbl9kZWZpbmVzID0gY29uZmlnLmRlZmluZXMuY29tbW9uO1xuICAgIHZhciBmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zO1xuICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xuICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1x1MDAxYlsyMDsxSCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXG5cdTAwMWJdMDtDOlxcV0lORE9XU1xcU3lzdGVtMzJcXFdpbmRvd3NQb3dlclNoZWxsXFx2MS4wXFxwb3dlcnNoZWxsLmV4ZVx1MDAwN1x1MDAxYls/MjVoXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQTN5ZjVHcDdXTGtNWmtuaE1ScFZGayJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6OSwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzozNzo0MC40NDNaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyB1cGRhdGUgdGhlIGVudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qcyBmaWxlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjQyMzMzYzJhLWY3YzItNGQ1Mi1hMDQwLWEwYmIyNjU4NDE0MiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTI4NUVqWXRtRFpWQjNkMkp0S2JRQlUiLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwicG93ZXJzaGVsbCAtQ29tbWFuZCBcXFwiR2V0LUNvbnRlbnQgJ3NyY1xcXFxqc1xcXFxmcmFtZXdvcmtcXFxcZW50aXRpZXNcXFxcZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzJyB8IE91dC1GaWxlIC1GaWxlUGF0aCAnZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrX2NvbnRlbnQudHh0J1xcXCJcIiwgXCJ3YWl0XCI6IHRydWUsIFwibWF4X3dhaXRfc2Vjb25kc1wiOiAxMH0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJIHNlZSB0aGUgaXNzdWUuIExldCBtZSB0cnkgYSBkaWZmZXJlbnQgYXBwcm9hY2ggYnkgZ2V0dGluZyB0aGUgZnVsbCBjb250ZW50IG9mIHRoZSBmaWxlIGZpcnN0IGFuZCB0aGVuIG1ha2luZyB0aGUgcmVwbGFjZW1lbnQ6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGYWlsZWQgdG8gZWRpdCB0aGUgZmlsZSBzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qcy4gU2VlIGJlbG93IGZvciBkZXRhaWxzLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5ObyByZXBsYWNlbWVudCB3YXMgcGVyZm9ybWVkLCBvbGRTdHIgZGlkIG5vdCBhcHBlYXIgdmVyYmF0aW0gaW4gc3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanMuXG5UaGUgY29udGVudCBpbiB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIEVudGl0eSBBY3Rpb25zIGZyYW1ld29ya1xuICAgICAyXHR7XG4gICAgIDNcdCAgLypcbiAgICAgNFx0ICAgIGdldEFsbEVudGl0eUFjdGlvbnMoKSAtIEZldGNoZXMgYWxsIGVudGl0eSBhY3Rpb25zIGFzIGVpdGhlciBhbiBhcnJheSBvZiBrZXlzIG9yIG9iamVjdHMuXG4gICAgIDVcdCAgICBhcmcwX29wdGlvbnM6IChPYmplY3QpXG4gICAgIDZcdCAgICAgIHJldHVybl9rZXlzOiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0LlxuICAgICA3XHRcbiAgICAgOFx0ICAgIFJldHVybnM6IChBcnJheTxPYmplY3Q+L0FycmF5PFN0cmluZz4pXG4gICAgIDlcdCAgKi9cbiAgICAxMFx0ICBmdW5jdGlvbiBnZXRBbGxFbnRpdHlBY3Rpb25zIChhcmcwX29wdGlvbnMpIHtcbiAgICAxMVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAxMlx0ICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgICAxM1x0XG4gICAgMTRcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTVcdCAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAgMTZcdCAgICB2YXIgZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucztcbiAgICAxN1x0ICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xuICAgIDE4XHQgICAgdmFyIHJldHVybl9rZXlzID0gW107XG4gICAgMTlcdFxuICAgIDIwXHQgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1xuICAgIDIxXHQgICAgdmFyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMpO1xuICAgIDIyXHRcbiAgICAyM1x0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgICAyNFx0ICAgICAgaWYgKCFjb21tb25fZGVmaW5lcy5yZXNlcnZlZF9lbnRpdHlfYWN0aW9ucy5pbmNsdWRlcyhhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldKSkge1xuICAgIDI1XHQgICAgICAgIHJldHVybl9hY3Rpb25zLnB1c2goZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV1dKTtcbiAgICAyNlx0ICAgICAgICByZXR1cm5fa2V5cy5wdXNoKGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV0pO1xuICAgIDI3XHQgICAgICB9XG4gICAgMjhcdFxuICAgIDI5XHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAgMzBcdCAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9hY3Rpb25zKSA/IHJldHVybl9hY3Rpb25zIDogcmV0dXJuX2tleXM7XG4gICAgMzFcdCAgfVxuICAgIDMyXHRcbiAgICAzM1x0ICAvKlxuICAgIDM0XHQgICAgZ2V0RW50aXR5QWN0aW9uKCkgLSBGZXRjaGVzIGFuIGVudGl0eSBhY3Rpb24uXG4gICAgMzVcdCAgICBhcmcwX25hbWU6IChTdHJpbmcpIC0gVGhlIG5hbWUvSUQgb2YgdGhlIGVudGl0eSBhY3Rpb24gY2F0ZWdvcnkuXG4gICAgMzZcdCAgICBhcmcxX29wdGlvbnM6IChPYmplY3QpXG4gICAgMzdcdCAgICAgIHJldHVybl9rZXk6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGtleS4gRmFsc2UgYnkgZGVmYXVsdC5cbiAgICAzOFx0XG4gICAgMzlcdCAgICBSZXR1cm5zOiAoT2JqZWN0L1N0cmluZylcbiAgICA0MFx0ICAqL1xuICAgIDQxXHQgIGZ1bmN0aW9uIGdldEVudGl0eUFjdGlvbiAoYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcbiAgICA0Mlx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICA0M1x0ICAgIHZhciBuYW1lID0gYXJnMF9uYW1lO1xuICAgIDQ0XHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuICAgIDQ1XHRcbiAgICA0Nlx0ICAgIC8vR3VhcmQgY2xhdXNlIGZvciBvYmplY3RzOyBkaXJlY3Qga2V5c1xuICAgIDQ3XHQgICAgaWYgKHR5cGVvZiBuYW1lID09IFwib2JqZWN0XCIpIHJldHVybiBuYW1lO1xuICAgIDQ4XHQgICAgaWYgKGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbbmFtZV0pIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW25hbWVdIDogbmFtZTtcbiAgICA0OVx0XG4gICAgNTBcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgNTFcdCAgICB2YXIgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW2ZhbHNlLCBcIlwiXTsgLy9bZW50aXR5X2FjdGlvbnNfZXhpc3RzLCBlbnRpdHlfYWN0aW9uc19rZXldO1xuICAgIDUyXHQgICAgdmFyIHNlYXJjaF9uYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICA1M1x0XG4gICAgNTRcdCAgICAvL0lEIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXG4gICAgNTVcdCAgICB7XG4gICAgNTZcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNcbiAgICA1N1x0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgNThcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9uc1tpXTtcbiAgICA1OVx0XG4gICAgNjBcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLmlkLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgIDYxXHQgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAgNjJcdCAgICAgIH1cbiAgICA2M1x0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgNjRcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9uc1tpXTtcbiAgICA2NVx0XG4gICAgNjZcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLmlkLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAgNjdcdCAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA2OFx0ICAgICAgfVxuICAgIDY5XHQgICAgfVxuICAgIDcwXHRcbiAgICA3MVx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgIDcyXHQgICAge1xuICAgIDczXHQgICAgICAvL0l0ZXJhdGUgb3ZlciBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zXG4gICAgNzRcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDc1XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNbaV07XG4gICAgNzZcdFxuICAgIDc3XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgIDc4XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAgNzlcdCAgICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgIDgwXHQgICAgICB9XG4gICAgODFcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDgyXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNbaV07XG4gICAgODNcdFxuICAgIDg0XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgIDg1XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgICA4Nlx0ICAgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAgODdcdCAgICAgIH1cbiAgICA4OFx0ICAgIH1cbiAgICA4OVx0XG4gICAgOTBcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICA5MVx0ICAgIGlmIChlbnRpdHlfYWN0aW9uc19leGlzdHNbMF0pXG4gICAgOTJcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2VudGl0eV9hY3Rpb25zX2V4aXN0c1sxXV0gOiBlbnRpdHlfYWN0aW9uc19leGlzdHNbMV07XG4gICAgOTNcdCAgfVxuICAgIDk0XHRcbiAgICA5NVx0ICAvKlxuICAgIDk2XHQgICAgZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXIoKSAtIEZldGNoZXMgYWxsIGVudGl0eSBhY3Rpb25zIGJlbG9uZ2luZyB0byBhIGdpdmVuIC5vcmRlci5cbiAgICA5N1x0ICAgIGFyZzBfb3B0aW9uczogKE9iamVjdClcbiAgICA5OFx0ICAgICAgb3JkZXI6IChOdW1iZXIpIC0gT3B0aW9uYWwuIFRoZSBjdXJyZW50IG9yZGVyIHRvIGZldGNoIGFsbCByZWxldmFudCBhY3Rpb25zIGF0LiAxIGJ5IGRlZmF1bHQuXG4gICAgOTlcdCAgICAgIHJldHVybl9rZXlzOiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0LlxuICAgMTAwXHQgICAgICByZXR1cm5fb2JqZWN0OiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciB0byByZXR1cm4gdGhlIGFycmF5IGFzIGFuIG9iamVjdCBvciBub3QuIEZhbHNlIGJ5IGRlZmF1bHQuXG4gICAxMDFcdFxuICAgMTAyXHQgICAgUmV0dXJuczogKEFycmF5PE9iamVjdD4vQXJyYXk8U3RyaW5nPi9PYmplY3QpXG4gICAxMDNcdCAgKi9cbiAgIDEwNFx0ICBmdW5jdGlvbiBnZXRFbnRpdHlBY3Rpb25zQXRPcmRlciAoYXJnMF9vcHRpb25zKSB7XG4gICAxMDVcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAxMDZcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAxMDdcdFxuICAgMTA4XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMTA5XHQgICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnM7XG4gICAxMTBcdCAgICB2YXIgb3JkZXIgPSAob3B0aW9ucy5vcmRlciAhPSB1bmRlZmluZWQpID8gb3B0aW9ucy5vcmRlciA6IDE7XG4gICAxMTFcdCAgICB2YXIgcmV0dXJuX2FjdGlvbnMgPSBbXTtcbiAgIDExMlx0ICAgIHZhciByZXR1cm5fb2JqID0ge307XG4gICAxMTNcdCAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgIDExNFx0XG4gICAxMTVcdCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXG4gICAxMTZcdCAgICB2YXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyk7XG4gICAxMTdcdFxuICAgMTE4XHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxMTlcdCAgICAgIHZhciBsb2NhbF9hY3Rpb24gPSBmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tpXV07XG4gICAxMjBcdFxuICAgMTIxXHQgICAgICBpZiAobG9jYWxfYWN0aW9uLm9yZGVyID09IG9wdGlvbnMub3JkZXIpIHtcbiAgIDEyMlx0ICAgICAgICByZXR1cm5fYWN0aW9ucy5wdXNoKGxvY2FsX2FjdGlvbik7XG4gICAxMjNcdCAgICAgICAgcmV0dXJuX2tleXMucHVzaChhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldKTtcbiAgIDEyNFx0ICAgICAgfVxuICAgMTI1XHQgICAgfVxuICAgMTI2XHRcbiAgIDEyN1x0ICAgIC8vb3B0aW9ucy5yZXR1cm5fb2JqZWN0IGhhbmRsZXJcbiAgIDEyOFx0ICAgIGlmIChvcHRpb25zLnJldHVybl9vYmplY3QpIHtcbiAgIDEyOVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXR1cm5fYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgIDEzMFx0ICAgICAgICByZXR1cm5fb2JqW3JldHVybl9rZXlzW2ldXSA9IHJldHVybl9hY3Rpb25zW2ldO1xuICAgMTMxXHQgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDEzMlx0ICAgICAgcmV0dXJuIHJldHVybl9vYmo7XG4gICAxMzNcdCAgICB9XG4gICAxMzRcdFxuICAgMTM1XHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAxMzZcdCAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gcmV0dXJuX2FjdGlvbnMgOiByZXR1cm5fa2V5cztcbiAgIDEzN1x0ICB9XG4gICAxMzhcdFxuICAgMTM5XHQgIC8qXG4gICAxNDBcdCAgICBnZXRFbnRpdHlBY3Rpb25zQ2F0ZWdvcnkoKSAtIEZldGNoZXMgYW4gZW50aXR5IGFjdGlvbnMgY2F0ZWdvcnkgb2JqZWN0L2tleS5cbiAgIDE0MVx0ICAgIGFyZzBfbmFtZTogKFN0cmluZykgLSBUaGUgbmFtZS9JRCBvZiB0aGUgZW50aXR5IGFjdGlvbiBjYXRlZ29yeS5cbiAgIDE0Mlx0ICAgIGFyZzFfb3B0aW9uczogKE9iamVjdClcbiAgIDE0M1x0ICAgICAgcmV0dXJuX2tleTogKEJvb2xlYW4pIC0gT3B0aW9uYWwuIFdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUga2V5LiBGYWxzZSBieSBkZWZhdWx0LlxuICAgMTQ0XHRcbiAgIDE0NVx0ICAgIFJldHVybnM6IChPYmplY3QvU3RyaW5nKVxuICAgMTQ2XHQgICovXG4gICAxNDdcdCAgZnVuY3Rpb24gZ2V0RW50aXR5QWN0aW9uc0NhdGVnb3J5IChhcmcwX25hbWUsIGFyZzFfb3B0aW9ucykge1xuICAgMTQ4XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgMTQ5XHQgICAgdmFyIG5hbWUgPSBhcmcwX25hbWU7XG4gICAxNTBcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcxX29wdGlvbnMpID8gYXJnMV9vcHRpb25zIDoge307XG4gICAxNTFcdFxuICAgMTUyXHQgICAgLy9HdWFyZCBjbGF1c2UgZm9yIG9iamVjdHM7IGRpcmVjdCBrZXlzXG4gICAxNTNcdCAgICBpZiAodHlwZW9mIG5hbWUgPT0gXCJvYmplY3RcIikgcmV0dXJuIG5hbWU7XG4gICAxNTRcdCAgICBpZiAoY29uZmlnLmVudGl0eV9hY3Rpb25zW25hbWVdKSByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9hY3Rpb25zW25hbWVdIDogbmFtZTtcbiAgIDE1NVx0XG4gICAxNTZcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxNTdcdCAgICB2YXIgYWxsX2VudGl0eV9hY3Rpb25zID0gT2JqZWN0LmtleXMoY29uZmlnLmVudGl0eV9hY3Rpb25zKTtcbiAgIDE1OFx0ICAgIHZhciBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbZmFsc2UsIFwiXCJdOyAvL1tlbnRpdHlfYWN0aW9uc19leGlzdHMsIGVudGl0eV9hY3Rpb25zX2tleV07XG4gICAxNTlcdCAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgMTYwXHRcbiAgIDE2MVx0ICAgIC8vSUQgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDE2Mlx0ICAgIHtcbiAgIDE2M1x0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2VudGl0eV9hY3Rpb25zXG4gICAxNjRcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgMTY1XHQgICAgICAgIGlmIChhbGxfZW50aXR5X2FjdGlvbnNbaV0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxNjZcdCAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcbiAgIDE2N1x0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspXG4gICAxNjhcdCAgICAgICAgaWYgKGFsbF9lbnRpdHlfYWN0aW9uc1tpXS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMTY5XHQgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcbiAgIDE3MFx0ICAgIH1cbiAgIDE3MVx0XG4gICAxNzJcdCAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDE3M1x0ICAgIHtcbiAgIDE3NFx0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2VudGl0eV9hY3Rpb25zXG4gICAxNzVcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxNzZcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmVudGl0eV9hY3Rpb25zW2FsbF9lbnRpdHlfYWN0aW9uc1tpXV07XG4gICAxNzdcdFxuICAgMTc4XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTc5XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxODBcdCAgICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfZW50aXR5X2tleWZyYW1lc1tpXV07XG4gICAxODFcdCAgICAgIH1cbiAgIDE4Mlx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDE4M1x0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuZW50aXR5X2FjdGlvbnNbYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcbiAgIDE4NFx0XG4gICAxODVcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxODZcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMTg3XHQgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuICAgMTg4XHQgICAgICB9XG4gICAxODlcdCAgICB9XG4gICAxOTBcdFxuICAgMTkxXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAxOTJcdCAgICBpZiAoZW50aXR5X2FjdGlvbnNfZXhpc3RzWzBdKVxuICAgMTkzXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9hY3Rpb25zW2VudGl0eV9hY3Rpb25zX2V4aXN0c1sxXV0gOiBlbnRpdHlfYWN0aW9uc19leGlzdHNbMV07XG4gICAxOTRcdCAgfVxuICAgMTk1XHRcbiAgIDE5Nlx0ICAvKlxuICAgMTk3XHQgICAgZ2V0RW50aXR5QWN0aW9uSW5wdXQoKSAtIEZldGNoZXMgdGhlIGlucHV0IG9iamVjdCBvZiBhIGdpdmVuIGVudGl0eSBhY3Rpb24gd2l0aGluIGNvbmZpZyAuaW50ZXJmYWNlLlxuICAgMTk4XHQgICAgYXJnMF9hY3Rpb25faWQ6IChTdHJpbmcpIC0gVGhlIGFjdGlvbiBJRCB0byBzZWFyY2ggZm9yLlxuICAgMTk5XHQgICAgYXJnMV9pbnB1dF9pZDogKFN0cmluZykgLSBUaGUgaW5wdXQgSUQgdG8gc2VhcmNoIGZvciBpbiB0ZXJtcyBvZiAuaWQgb3IgLmlucHV0IGtleS5cbiAgIDIwMFx0XG4gICAyMDFcdCAgICBSZXR1cm5zOiAoT2JqZWN0KVxuICAgMjAyXHQgICovXG4gICAyMDNcdCAgZnVuY3Rpb24gZ2V0RW50aXR5QWN0aW9uSW5wdXQgKGFyZzBfYWN0aW9uX2lkLCBhcmcxX2lucHV0X2lkKSB7XG4gICAyMDRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAyMDVcdCAgICB2YXIgYWN0aW9uX2lkID0gYXJnMF9hY3Rpb25faWQ7XG4gICAyMDZcdCAgICB2YXIgaW5wdXRfaWQgPSBhcmcxX2lucHV0X2lkO1xuICAgMjA3XHRcbiAgIDIwOFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDIwOVx0ICAgIHZhciBlbnRpdHlfYWN0aW9uID0gZ2V0RW50aXR5QWN0aW9uKGtleWZyYW1lX2lkKTtcbiAgIDIxMFx0XG4gICAyMTFcdCAgICBpZiAoZW50aXR5X2FjdGlvbilcbiAgIDIxMlx0ICAgICAgLy9JdGVyYXRlIG92ZXIgLmludGVyZmFjZSBpZiBpdCBleGlzdHNcbiAgIDIxM1x0ICAgICAgaWYgKGVudGl0eV9hY3Rpb24uaW50ZXJmYWNlKSB7XG4gICAyMTRcdCAgICAgICAgLy9HdWFyZCBjbGF1c2UgaWYgY2l0aW5nIGRpcmVjdCBrZXlcbiAgIDIxNVx0ICAgICAgICBpZiAoZW50aXR5X2FjdGlvbi5pbnRlcmZhY2VbaW5wdXRfaWRdKSByZXR1cm4gZW50aXR5X2FjdGlvbi5pbnRlcmZhY2VbaW5wdXRfaWRdO1xuICAgMjE2XHRcbiAgIDIxN1x0ICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfaW5wdXRzXG4gICAyMThcdCAgICAgICAgdmFyIGFsbF9pbnB1dHMgPSBPYmplY3Qua2V5cyhlbnRpdHlfYWN0aW9uLmludGVyZmFjZSk7XG4gICAyMTlcdFxuICAgMjIwXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2lucHV0cy5sZW5ndGg7IGkrKykge1xuICAgMjIxXHQgICAgICAgICAgdmFyIGxvY2FsX2lucHV0ID0gZW50aXR5X2FjdGlvbi5pbnRlcmZhY2VbYWxsX2lucHV0c1tpXV07XG4gICAyMjJcdFxuICAgMjIzXHQgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGxvY2FsX2lucHV0KSAmJiB0eXBlb2YgbG9jYWxfaW5wdXQgPT0gXCJvYmplY3RcIilcbiAgIDIyNFx0ICAgICAgICAgICAgaWYgKGxvY2FsX2lucHV0LmlkID09IGlucHV0X2lkKVxuICAgMjI1XHQgICAgICAgICAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMjI2XHQgICAgICAgICAgICAgIHJldHVybiBsb2NhbF9pbnB1dDtcbiAgIDIyN1x0ICAgICAgICB9XG4gICAyMjhcdCAgICAgIH1cbiAgIDIyOVx0ICB9XG4gICAyMzBcdFxuICAgMjMxXHQgIC8qXG4gICAyMzJcdCAgICBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIoKSAtIEZldGNoZXMgdGhlIGxvd2VzdCAub3JkZXIgZnJvbSBhbGwgY29uZmlnLmVudGl0eV9hY3Rpb25zLlxuICAgMjMzXHRcbiAgIDIzNFx0ICAgIFJldHVybnM6IChOdW1iZXIpXG4gICAyMzVcdCAgKi9cbiAgIDIzNlx0ICBmdW5jdGlvbiBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIgKCkge1xuICAgMjM3XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMjM4XHQgICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnM7XG4gICAyMzlcdCAgICB2YXIgbWluX29yZGVyID0gSW5maW5pdHk7XG4gICAyNDBcdFxuICAgMjQxXHQgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1xuICAgMjQyXHQgICAgdmFyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMpO1xuICAgMjQzXHRcbiAgIDI0NFx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgMjQ1XHQgICAgICB2YXIgbG9jYWxfYWN0aW9uID0gZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV1dO1xuICAgMjQ2XHRcbiAgIDI0N1x0ICAgICAgaWYgKGxvY2FsX2FjdGlvbi5vcmRlciAhPSB1bmRlZmluZWQpXG4gICAyNDhcdCAgICAgICAgbWluX29yZGVyID0gTWF0aC5taW4obWluX29yZGVyLCBsb2NhbF9hY3Rpb24ub3JkZXIpO1xuICAgMjQ5XHQgICAgfVxuICAgMjUwXHRcbiAgIDI1MVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMjUyXHQgICAgcmV0dXJuIG1pbl9vcmRlcjtcbiAgIDI1M1x0ICB9XG4gICAyNTRcdFxuICAgMjU1XHQgIC8qXG4gICAyNTZcdCAgICBnZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCgpIC0gRmV0Y2hlcyB0aGUgbmF2aWdhdGlvbiBvYmplY3QgZm9yIGVudGl0eSBhY3Rpb25zOyB0aGUgaW5pdGlhbCBjb250ZXh0IG1lbnUgZnJvbSB0aGUgbG93ZXN0IG9yZGVyLlxuICAgMjU3XHRcbiAgIDI1OFx0ICAgIFJldHVybnM6IChPYmplY3QpXG4gICAyNTlcdCAgKi9cbiAgIDI2MFx0ICBmdW5jdGlvbiBnZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCAoKSB7XG4gICAyNjFcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAyNjJcdCAgICB2YXIgZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucztcbiAgIDI2M1x0ICAgIHZhciBsb3dlc3Rfb3JkZXIgPSBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIoZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zKTtcbiAgIDI2NFx0XG4gICAyNjVcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDI2Nlx0ICAgIHJldHVybiBnZXRFbnRpdHlBY3Rpb25zQXRPcmRlcih7IG9yZGVyOiBsb3dlc3Rfb3JkZXIsIHJldHVybl9vYmplY3Q6IHRydWUgfSk7XG4gICAyNjdcdCAgfVxuICAgMjY4XHR9XG4gICAyNjlcdFxuXG5EaWZmIGJldHdlZW4gb2xkU3RyIGFuZCB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi0tLSBvbGRTdHJcbisrKyByZWdpb25Db250ZW50XG5AQCAtOTMsMTEgKzkzLDExIEBAXG4gICB9XG4gXG4gICAvKlxuLSAgICBnZXRFbnRpdHlBY3Rpb25zQXRPcmRlcigpIC0gRmV0Y2hlcyBhbGwgZW50aXR5IGFjdGlvbnMgYXQgYSBzcGVjaWZpYyBvcmRlci5cbisgICAgZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXIoKSAtIEZldGNoZXMgYWxsIGVudGl0eSBhY3Rpb25zIGJlbG9uZ2luZyB0byBhIGdpdmVuIC5vcmRlci5cbiAgICAgYXJnMF9vcHRpb25zOiAoT2JqZWN0KVxuLSAgICAgIG9yZGVyOiAoTnVtYmVyKSAtIE9wdGlvbmFsLiBUaGUgb3JkZXIgdG8gZmV0Y2ggZW50aXR5IGFjdGlvbnMgYXQuIDEgYnkgZGVmYXVsdC5cbi0gICAgICByZXR1cm5fa2V5OiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0LlxuLSAgICAgIHJldHVybl9vYmplY3Q6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gb2JqZWN0IGluc3RlYWQgb2YgYW4gYXJyYXkuIEZhbHNlIGJ5IGRlZmF1bHQuXG4rICAgICAgb3JkZXI6IChOdW1iZXIpIC0gT3B0aW9uYWwuIFRoZSBjdXJyZW50IG9yZGVyIHRvIGZldGNoIGFsbCByZWxldmFudCBhY3Rpb25zIGF0LiAxIGJ5IGRlZmF1bHQuXG4rICAgICAgcmV0dXJuX2tleXM6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuIEZhbHNlIGJ5IGRlZmF1bHQuXG4rICAgICAgcmV0dXJuX29iamVjdDogKEJvb2xlYW4pIC0gT3B0aW9uYWwuIFdoZXRoZXIgdG8gcmV0dXJuIHRoZSBhcnJheSBhcyBhbiBvYmplY3Qgb3Igbm90LiBGYWxzZSBieSBkZWZhdWx0LlxuIFxuICAgICBSZXR1cm5zOiAoQXJyYXk8T2JqZWN0Pi9BcnJheTxTdHJpbmc+L09iamVjdClcbiAgICovXG5AQCAtMTA5LDggKzEwOSw4IEBAXG4gICAgIHZhciBmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zO1xuICAgICB2YXIgb3JkZXIgPSAob3B0aW9ucy5vcmRlciAhPSB1bmRlZmluZWQpID8gb3B0aW9ucy5vcmRlciA6IDE7XG4gICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xuLSAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgICAgdmFyIHJldHVybl9vYmogPSB7fTtcbisgICAgdmFyIHJldHVybl9rZXlzID0gW107XG4gXG4gICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNcbiAgICAgdmFyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMpO1xuQEAgLTEzNyw2ICsxMzcsOTggQEBcbiAgIH1cbiBcbiAgIC8qXG4rICAgIGdldEVudGl0eUFjdGlvbnNDYXRlZ29yeSgpIC0gRmV0Y2hlcyBhbiBlbnRpdHkgYWN0aW9ucyBjYXRlZ29yeSBvYmplY3Qva2V5LlxuKyAgICBhcmcwX25hbWU6IChTdHJpbmcpIC0gVGhlIG5hbWUvSUQgb2YgdGhlIGVudGl0eSBhY3Rpb24gY2F0ZWdvcnkuXG4rICAgIGFyZzFfb3B0aW9uczogKE9iamVjdClcbisgICAgICByZXR1cm5fa2V5OiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBrZXkuIEZhbHNlIGJ5IGRlZmF1bHQuXG4rXG4rICAgIFJldHVybnM6IChPYmplY3QvU3RyaW5nKVxuKyAgKi9cbisgIGZ1bmN0aW9uIGdldEVudGl0eUFjdGlvbnNDYXRlZ29yeSAoYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcbisgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuKyAgICB2YXIgbmFtZSA9IGFyZzBfbmFtZTtcbisgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuK1xuKyAgICAvL0d1YXJkIGNsYXVzZSBmb3Igb2JqZWN0czsgZGlyZWN0IGtleXNcbisgICAgaWYgKHR5cGVvZiBuYW1lID09IFwib2JqZWN0XCIpIHJldHVybiBuYW1lO1xuKyAgICBpZiAoY29uZmlnLmVudGl0eV9hY3Rpb25zW25hbWVdKSByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9hY3Rpb25zW25hbWVdIDogbmFtZTtcbitcbisgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuKyAgICB2YXIgYWxsX2VudGl0eV9hY3Rpb25zID0gT2JqZWN0LmtleXMoY29uZmlnLmVudGl0eV9hY3Rpb25zKTtcbisgICAgdmFyIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFtmYWxzZSwgXCJcIl07IC8vW2VudGl0eV9hY3Rpb25zX2V4aXN0cywgZW50aXR5X2FjdGlvbnNfa2V5XTtcbisgICAgdmFyIHNlYXJjaF9uYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbitcbisgICAgLy9JRCBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuKyAgICB7XG4rICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2VudGl0eV9hY3Rpb25zXG4rICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspXG4rICAgICAgICBpZiAoYWxsX2VudGl0eV9hY3Rpb25zW2ldLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuKyAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcbisgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKylcbisgICAgICAgIGlmIChhbGxfZW50aXR5X2FjdGlvbnNbaV0udG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbisgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcbisgICAgfVxuK1xuKyAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbisgICAge1xuKyAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9lbnRpdHlfYWN0aW9uc1xuKyAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4rICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuZW50aXR5X2FjdGlvbnNbYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcbitcbisgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuKyAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbisgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuKyAgICAgIH1cbisgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuKyAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmVudGl0eV9hY3Rpb25zW2FsbF9lbnRpdHlfYWN0aW9uc1tpXV07XG4rXG4rICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbisgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbisgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuKyAgICAgIH1cbisgICAgfVxuK1xuKyAgICAvL1JldHVybiBzdGF0ZW1lbnRcbisgICAgaWYgKGVudGl0eV9hY3Rpb25zX2V4aXN0c1swXSlcbisgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9hY3Rpb25zW2VudGl0eV9hY3Rpb25zX2V4aXN0c1sxXV0gOiBlbnRpdHlfYWN0aW9uc19leGlzdHNbMV07XG4rICB9XG4rXG4rICAvKlxuKyAgICBnZXRFbnRpdHlBY3Rpb25JbnB1dCgpIC0gRmV0Y2hlcyB0aGUgaW5wdXQgb2JqZWN0IG9mIGEgZ2l2ZW4gZW50aXR5IGFjdGlvbiB3aXRoaW4gY29uZmlnIC5pbnRlcmZhY2UuXG4rICAgIGFyZzBfYWN0aW9uX2lkOiAoU3RyaW5nKSAtIFRoZSBhY3Rpb24gSUQgdG8gc2VhcmNoIGZvci5cbisgICAgYXJnMV9pbnB1dF9pZDogKFN0cmluZykgLSBUaGUgaW5wdXQgSUQgdG8gc2VhcmNoIGZvciBpbiB0ZXJtcyBvZiAuaWQgb3IgLmlucHV0IGtleS5cbitcbisgICAgUmV0dXJuczogKE9iamVjdClcbisgICovXG4rICBmdW5jdGlvbiBnZXRFbnRpdHlBY3Rpb25JbnB1dCAoYXJnMF9hY3Rpb25faWQsIGFyZzFfaW5wdXRfaWQpIHtcbisgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuKyAgICB2YXIgYWN0aW9uX2lkID0gYXJnMF9hY3Rpb25faWQ7XG4rICAgIHZhciBpbnB1dF9pZCA9IGFyZzFfaW5wdXRfaWQ7XG4rXG4rICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbisgICAgdmFyIGVudGl0eV9hY3Rpb24gPSBnZXRFbnRpdHlBY3Rpb24oa2V5ZnJhbWVfaWQpO1xuK1xuKyAgICBpZiAoZW50aXR5X2FjdGlvbilcbisgICAgICAvL0l0ZXJhdGUgb3ZlciAuaW50ZXJmYWNlIGlmIGl0IGV4aXN0c1xuKyAgICAgIGlmIChlbnRpdHlfYWN0aW9uLmludGVyZmFjZSkge1xuKyAgICAgICAgLy9HdWFyZCBjbGF1c2UgaWYgY2l0aW5nIGRpcmVjdCBrZXlcbisgICAgICAgIGlmIChlbnRpdHlfYWN0aW9uLmludGVyZmFjZVtpbnB1dF9pZF0pIHJldHVybiBlbnRpdHlfYWN0aW9uLmludGVyZmFjZVtpbnB1dF9pZF07XG4rXG4rICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfaW5wdXRzXG4rICAgICAgICB2YXIgYWxsX2lucHV0cyA9IE9iamVjdC5rZXlzKGVudGl0eV9hY3Rpb24uaW50ZXJmYWNlKTtcbitcbisgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2lucHV0cy5sZW5ndGg7IGkrKykge1xuKyAgICAgICAgICB2YXIgbG9jYWxfaW5wdXQgPSBlbnRpdHlfYWN0aW9uLmludGVyZmFjZVthbGxfaW5wdXRzW2ldXTtcbitcbisgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGxvY2FsX2lucHV0KSAmJiB0eXBlb2YgbG9jYWxfaW5wdXQgPT0gXCJvYmplY3RcIilcbisgICAgICAgICAgICBpZiAobG9jYWxfaW5wdXQuaWQgPT0gaW5wdXRfaWQpXG4rICAgICAgICAgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcbisgICAgICAgICAgICAgIHJldHVybiBsb2NhbF9pbnB1dDtcbisgICAgICAgIH1cbisgICAgICB9XG4rICB9XG4rXG4rICAvKlxuICAgICBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIoKSAtIEZldGNoZXMgdGhlIGxvd2VzdCAub3JkZXIgZnJvbSBhbGwgY29uZmlnLmVudGl0eV9hY3Rpb25zLlxuIFxuICAgICBSZXR1cm5zOiAoTnVtYmVyKVxuXG5cbkZpeCBmYWlsZWQgc3RyX3JlcGxhY2UgZW50cmllcyBhY2NvcmRpbmdseSBhbmQgdHJ5IGFnYWluLlxuIiwiaXNfZXJyb3IiOnRydWUsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFMamVNNXJmSFFVNmtWWmVXb0toQ0VoIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo5LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjM4OjExLjc2M1oiLCJyZXNwb25zZV90ZXh0IjoiSSBzZWUgdGhlIGlzc3VlLiBMZXQgbWUgdHJ5IGEgZGlmZmVyZW50IGFwcHJvYWNoIGJ5IGdldHRpbmcgdGhlIGZ1bGwgY29udGVudCBvZiB0aGUgZmlsZSBmaXJzdCBhbmQgdGhlbiBtYWtpbmcgdGhlIHJlcGxhY2VtZW50OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjAyOTkxMjc3LWM3NWItNGRlMy05Y2I3LWY2MTkxODFmNDcxNiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVg3aXBIaFFvMlduVzZCdmRSaUVpVEsiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiaW5zdHJ1Y3Rpb25zX3JlbWluZGVyXCI6IFwiTElNSVQgVEhFIEZJTEUgQ09OVEVOVCBUTyBBVCBNT1NUIDMwMCBMSU5FUy4gSUYgTU9SRSBDT05URU5UIE5FRURTIFRPIEJFIEFEREVEIFVTRSBUSEUgc3RyLXJlcGxhY2UtZWRpdG9yIFRPT0wgVE8gRURJVCBUSEUgRklMRSBBRlRFUiBJVCBIQVMgQkVFTiBDUkVBVEVELlwiLCBcInBhdGhcIjogXCJzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1wiLCBcImZpbGVfY29udGVudFwiOiBcIi8vSW5pdGlhbGlzZSBFbnRpdHkgQWN0aW9ucyBmcmFtZXdvcmtcXG57XFxuICAvLyBHZW5lcmF0ZSBhbGwgdGhlIHN0YW5kYXJkIGZyYW1ld29yayBmdW5jdGlvbnMgdXNpbmcgY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zXFxuICB2YXIgZW50aXR5QWN0aW9uc0Z1bmN0aW9ucyA9IGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9ucyh7XFxuICAgIG5hbWU6IFxcXCJlbnRpdHlfYWN0aW9uc1xcXCIsXFxuICAgIGNvbmZpZ0tleTogXFxcImVudGl0eV9hY3Rpb25zXFxcIixcXG4gICAgZmxhdHRlbmVkS2V5OiBcXFwiZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXFxcIixcXG4gICAgcmVzZXJ2ZWRLZXk6IFxcXCJyZXNlcnZlZF9lbnRpdHlfYWN0aW9uc1xcXCIsXFxuICAgIGFkZGl0aW9uYWxGdW5jdGlvbnM6IHtcXG4gICAgICAvLyBBZGQgYW55IGFkZGl0aW9uYWwgZnVuY3Rpb25zIHNwZWNpZmljIHRvIGVudGl0eSBhY3Rpb25zXFxuICAgICAgZ2V0RW50aXR5QWN0aW9uc0NhdGVnb3J5OiBmdW5jdGlvbihhcmcwX25hbWUsIGFyZzFfb3B0aW9ucykge1xcbiAgICAgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xcbiAgICAgICAgdmFyIG5hbWUgPSBhcmcwX25hbWU7XFxuICAgICAgICB2YXIgb3B0aW9ucyA9IChhcmcxX29wdGlvbnMpID8gYXJnMV9vcHRpb25zIDoge307XFxuXFxuICAgICAgICAvL0d1YXJkIGNsYXVzZSBmb3Igb2JqZWN0czsgZGlyZWN0IGtleXNcXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcXFwib2JqZWN0XFxcIikgcmV0dXJuIG5hbWU7XFxuICAgICAgICBpZiAoY29uZmlnLmVudGl0eV9hY3Rpb25zW25hbWVdKSByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9hY3Rpb25zW25hbWVdIDogbmFtZTtcXG5cXG4gICAgICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcXG4gICAgICAgIHZhciBhbGxfZW50aXR5X2FjdGlvbnMgPSBPYmplY3Qua2V5cyhjb25maWcuZW50aXR5X2FjdGlvbnMpO1xcbiAgICAgICAgdmFyIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFtmYWxzZSwgXFxcIlxcXCJdOyAvL1tlbnRpdHlfYWN0aW9uc19leGlzdHMsIGVudGl0eV9hY3Rpb25zX2tleV07XFxuICAgICAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xcblxcbiAgICAgICAgLy9JRCBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxcbiAgICAgICAge1xcbiAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZW50aXR5X2FjdGlvbnNcXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspXFxuICAgICAgICAgICAgaWYgKGFsbF9lbnRpdHlfYWN0aW9uc1tpXS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcXG4gICAgICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfZW50aXR5X2FjdGlvbnNbaV1dO1xcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKylcXG4gICAgICAgICAgICBpZiAoYWxsX2VudGl0eV9hY3Rpb25zW2ldLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXFxuICAgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxcbiAgICAgICAge1xcbiAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZW50aXR5X2FjdGlvbnNcXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuZW50aXR5X2FjdGlvbnNbYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcXG5cXG4gICAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcXG4gICAgICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxcbiAgICAgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5lbnRpdHlfYWN0aW9uc1thbGxfZW50aXR5X2FjdGlvbnNbaV1dO1xcblxcbiAgICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxcbiAgICAgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcXG4gICAgICAgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfYWN0aW9uc1tpXV07XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxcbiAgICAgICAgaWYgKGVudGl0eV9hY3Rpb25zX2V4aXN0c1swXSlcXG4gICAgICAgICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy5lbnRpdHlfYWN0aW9uc1tlbnRpdHlfYWN0aW9uc19leGlzdHNbMV1dIDogZW50aXR5X2FjdGlvbnNfZXhpc3RzWzFdO1xcbiAgICAgIH0sXFxuICAgICAgXFxuICAgICAgZ2V0RW50aXR5QWN0aW9uSW5wdXQ6IGZ1bmN0aW9uKGFyZzBfYWN0aW9uX2lkLCBhcmcxX2lucHV0X2lkKSB7XFxuICAgICAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXFxuICAgICAgICB2YXIgYWN0aW9uX2lkID0gYXJnMF9hY3Rpb25faWQ7XFxuICAgICAgICB2YXIgaW5wdXRfaWQgPSBhcmcxX2lucHV0X2lkO1xcblxcbiAgICAgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICAgICAgdmFyIGVudGl0eV9hY3Rpb24gPSBnZXRFbnRpdHlBY3Rpb24oYWN0aW9uX2lkKTtcXG5cXG4gICAgICAgIGlmIChlbnRpdHlfYWN0aW9uKVxcbiAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciAuaW50ZXJmYWNlIGlmIGl0IGV4aXN0c1xcbiAgICAgICAgICBpZiAoZW50aXR5X2FjdGlvbi5pbnRlcmZhY2UpIHtcXG4gICAgICAgICAgICAvL0d1YXJkIGNsYXVzZSBpZiBjaXRpbmcgZGlyZWN0IGtleVxcbiAgICAgICAgICAgIGlmIChlbnRpdHlfYWN0aW9uLmludGVyZmFjZVtpbnB1dF9pZF0pIHJldHVybiBlbnRpdHlfYWN0aW9uLmludGVyZmFjZVtpbnB1dF9pZF07XFxuXFxuICAgICAgICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2lucHV0c1xcbiAgICAgICAgICAgIHZhciBhbGxfaW5wdXRzID0gT2JqZWN0LmtleXMoZW50aXR5X2FjdGlvbi5pbnRlcmZhY2UpO1xcblxcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2lucHV0cy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgICAgdmFyIGxvY2FsX2lucHV0ID0gZW50aXR5X2FjdGlvbi5pbnRlcmZhY2VbYWxsX2lucHV0c1tpXV07XFxuXFxuICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobG9jYWxfaW5wdXQpICYmIHR5cGVvZiBsb2NhbF9pbnB1dCA9PSBcXFwib2JqZWN0XFxcIilcXG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsX2lucHV0LmlkID09IGlucHV0X2lkKVxcbiAgICAgICAgICAgICAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxcbiAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbF9pbnB1dDtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICB9XFxuICAgIH1cXG4gIH0pO1xcblxcbiAgLy8gQXNzaWduIHRoZSBnZW5lcmF0ZWQgZnVuY3Rpb25zIHRvIHRoZSBnbG9iYWwgc2NvcGVcXG4gIHdpbmRvdy5nZXRBbGxFbnRpdHlBY3Rpb25zID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRBbGxFbnRpdHlBY3Rpb25zO1xcbiAgd2luZG93LmdldEVudGl0eUFjdGlvbiA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uO1xcbiAgd2luZG93LmdldEVudGl0eUFjdGlvbnNBdE9yZGVyID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zQXRPcmRlcjtcXG4gIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbnNMb3dlc3RPcmRlcjtcXG4gIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3Q7XFxuICB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uc0NhdGVnb3J5ID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zQ2F0ZWdvcnk7XFxuICB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uSW5wdXQgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbklucHV0O1xcbn1cIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgbGV0J3MgY3JlYXRlIGEgbmV3IGZpbGUgd2l0aCBvdXIgaW1wbGVtZW50YXRpb246XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbjxyZXR1cm4tY29kZT5cbjBcbjwvcmV0dXJuLWNvZGU+XG48c3Rkb3V0PlxuXHUwMDFiWz85MDAxaFx1MDAxYls/MTAwNGhcdTAwMWJbPzI1bFx1MDAxYlsySlx1MDAxYlttXHUwMDFiW0hcdTAwMWJdMDtDOlxcV0lORE9XU1xcU3lzdGVtMzJcXFdpbmRvd3NQb3dlclNoZWxsXFx2MS4wXFxwb3dlcnNoZWxsLmV4ZVx1MDAwN1x1MDAxYls/MjVoXG48L3N0ZG91dD5cbjxzdGRlcnI+XG5cbjwvc3RkZXJyPiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTI4NUVqWXRtRFpWQjNkMkp0S2JRQlUifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjEwLCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjM4OjI4LjY3MFoiLCJyZXNwb25zZV90ZXh0IjoiTm93IGxldCdzIGNyZWF0ZSBhIG5ldyBmaWxlIHdpdGggb3VyIGltcGxlbWVudGF0aW9uOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6Ijg2YjgyMWNmLWMyYTEtNGQzOC1hYjY1LTM3MDdhYjlkZjYzMiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUwyZTFBYW9BaUJ1SHY1dmQyNFdleUEiLCJ0b29sX25hbWUiOiJ2aWV3IiwiaW5wdXRfanNvbiI6IntcInBhdGhcIjogXCJzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1wiLCBcInZpZXdfcmFuZ2VcIjogWzEsIDEwXX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgdHJ5IGEgZGlmZmVyZW50IGFwcHJvYWNoIGJ5IHVzaW5nIHRoZSBzdHItcmVwbGFjZS1lZGl0b3Igd2l0aCBsaW5lIG51bWJlcnM6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIGFscmVhZHkgZXhpc3RzOiBEOlxcUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uXFxzcmNcXGpzXFxmcmFtZXdvcmtcXGVudGl0aWVzXFxlbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanMiLCJpc19lcnJvciI6dHJ1ZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVg3aXBIaFFvMlduVzZCdmRSaUVpVEsifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjEwLCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjM4OjQ5LjE5MVoiLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIHRyeSBhIGRpZmZlcmVudCBhcHByb2FjaCBieSB1c2luZyB0aGUgc3RyLXJlcGxhY2UtZWRpdG9yIHdpdGggbGluZSBudW1iZXJzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjA2MjM1YjU5LTYyZTgtNDNlZC1hMzg5LWRkNzEyNjYzZWY5ZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUFER0h4RVUxRmpHQWpXbjFteHhiUXgiLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwicG93ZXJzaGVsbCAtQ29tbWFuZCBcXFwiUmVtb3ZlLUl0ZW0gJ3NyY1xcXFxqc1xcXFxmcmFtZXdvcmtcXFxcZW50aXRpZXNcXFxcZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzJ1xcXCJcIiwgXCJ3YWl0XCI6IHRydWUsIFwibWF4X3dhaXRfc2Vjb25kc1wiOiAxMH0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgdHJ5IGEgZGlmZmVyZW50IGFwcHJvYWNoOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBub3QgZm91bmQ6IHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzLiBEaWQgeW91IG1lYW4gb25lIG9mIHRoZXNlPyBzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qcyIsImlzX2Vycm9yIjp0cnVlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTDJlMUFhb0FpQnVIdjV2ZDI0V2V5QSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MTAsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6Mzg6NTQuMjA4WiIsInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgdHJ5IGEgZGlmZmVyZW50IGFwcHJvYWNoOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjYwNTY2MzRjLTlhMTEtNDdmNy04YWE1LTg0ZGI1YWVjNmU1NyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTk2OVJTZjVxVVhKSjk1V2NiQVFrTGkiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiaW5zdHJ1Y3Rpb25zX3JlbWluZGVyXCI6IFwiTElNSVQgVEhFIEZJTEUgQ09OVEVOVCBUTyBBVCBNT1NUIDMwMCBMSU5FUy4gSUYgTU9SRSBDT05URU5UIE5FRURTIFRPIEJFIEFEREVEIFVTRSBUSEUgc3RyLXJlcGxhY2UtZWRpdG9yIFRPT0wgVE8gRURJVCBUSEUgRklMRSBBRlRFUiBJVCBIQVMgQkVFTiBDUkVBVEVELlwiLCBcInBhdGhcIjogXCJzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1wiLCBcImZpbGVfY29udGVudFwiOiBcIi8vSW5pdGlhbGlzZSBFbnRpdHkgQWN0aW9ucyBmcmFtZXdvcmtcXG57XFxuICAvLyBHZW5lcmF0ZSBhbGwgdGhlIHN0YW5kYXJkIGZyYW1ld29yayBmdW5jdGlvbnMgdXNpbmcgY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zXFxuICB2YXIgZW50aXR5QWN0aW9uc0Z1bmN0aW9ucyA9IGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9ucyh7XFxuICAgIG5hbWU6IFxcXCJlbnRpdHlfYWN0aW9uc1xcXCIsXFxuICAgIGNvbmZpZ0tleTogXFxcImVudGl0eV9hY3Rpb25zXFxcIixcXG4gICAgZmxhdHRlbmVkS2V5OiBcXFwiZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXFxcIixcXG4gICAgcmVzZXJ2ZWRLZXk6IFxcXCJyZXNlcnZlZF9lbnRpdHlfYWN0aW9uc1xcXCIsXFxuICAgIGFkZGl0aW9uYWxGdW5jdGlvbnM6IHtcXG4gICAgICAvLyBBZGQgYW55IGFkZGl0aW9uYWwgZnVuY3Rpb25zIHNwZWNpZmljIHRvIGVudGl0eSBhY3Rpb25zXFxuICAgICAgZ2V0RW50aXR5QWN0aW9uc0NhdGVnb3J5OiBmdW5jdGlvbihhcmcwX25hbWUsIGFyZzFfb3B0aW9ucykge1xcbiAgICAgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xcbiAgICAgICAgdmFyIG5hbWUgPSBhcmcwX25hbWU7XFxuICAgICAgICB2YXIgb3B0aW9ucyA9IChhcmcxX29wdGlvbnMpID8gYXJnMV9vcHRpb25zIDoge307XFxuXFxuICAgICAgICAvL0d1YXJkIGNsYXVzZSBmb3Igb2JqZWN0czsgZGlyZWN0IGtleXNcXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcXFwib2JqZWN0XFxcIikgcmV0dXJuIG5hbWU7XFxuICAgICAgICBpZiAoY29uZmlnLmVudGl0eV9hY3Rpb25zW25hbWVdKSByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9hY3Rpb25zW25hbWVdIDogbmFtZTtcXG5cXG4gICAgICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcXG4gICAgICAgIHZhciBhbGxfZW50aXR5X2FjdGlvbnMgPSBPYmplY3Qua2V5cyhjb25maWcuZW50aXR5X2FjdGlvbnMpO1xcbiAgICAgICAgdmFyIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFtmYWxzZSwgXFxcIlxcXCJdOyAvL1tlbnRpdHlfYWN0aW9uc19leGlzdHMsIGVudGl0eV9hY3Rpb25zX2tleV07XFxuICAgICAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xcblxcbiAgICAgICAgLy9JRCBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxcbiAgICAgICAge1xcbiAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZW50aXR5X2FjdGlvbnNcXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspXFxuICAgICAgICAgICAgaWYgKGFsbF9lbnRpdHlfYWN0aW9uc1tpXS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcXG4gICAgICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfZW50aXR5X2FjdGlvbnNbaV1dO1xcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKylcXG4gICAgICAgICAgICBpZiAoYWxsX2VudGl0eV9hY3Rpb25zW2ldLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXFxuICAgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxcbiAgICAgICAge1xcbiAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZW50aXR5X2FjdGlvbnNcXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuZW50aXR5X2FjdGlvbnNbYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcXG5cXG4gICAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcXG4gICAgICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxcbiAgICAgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5lbnRpdHlfYWN0aW9uc1thbGxfZW50aXR5X2FjdGlvbnNbaV1dO1xcblxcbiAgICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxcbiAgICAgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcXG4gICAgICAgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfYWN0aW9uc1tpXV07XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxcbiAgICAgICAgaWYgKGVudGl0eV9hY3Rpb25zX2V4aXN0c1swXSlcXG4gICAgICAgICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy5lbnRpdHlfYWN0aW9uc1tlbnRpdHlfYWN0aW9uc19leGlzdHNbMV1dIDogZW50aXR5X2FjdGlvbnNfZXhpc3RzWzFdO1xcbiAgICAgIH0sXFxuICAgICAgXFxuICAgICAgZ2V0RW50aXR5QWN0aW9uSW5wdXQ6IGZ1bmN0aW9uKGFyZzBfYWN0aW9uX2lkLCBhcmcxX2lucHV0X2lkKSB7XFxuICAgICAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXFxuICAgICAgICB2YXIgYWN0aW9uX2lkID0gYXJnMF9hY3Rpb25faWQ7XFxuICAgICAgICB2YXIgaW5wdXRfaWQgPSBhcmcxX2lucHV0X2lkO1xcblxcbiAgICAgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICAgICAgdmFyIGVudGl0eV9hY3Rpb24gPSBnZXRFbnRpdHlBY3Rpb24oYWN0aW9uX2lkKTtcXG5cXG4gICAgICAgIGlmIChlbnRpdHlfYWN0aW9uKVxcbiAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciAuaW50ZXJmYWNlIGlmIGl0IGV4aXN0c1xcbiAgICAgICAgICBpZiAoZW50aXR5X2FjdGlvbi5pbnRlcmZhY2UpIHtcXG4gICAgICAgICAgICAvL0d1YXJkIGNsYXVzZSBpZiBjaXRpbmcgZGlyZWN0IGtleVxcbiAgICAgICAgICAgIGlmIChlbnRpdHlfYWN0aW9uLmludGVyZmFjZVtpbnB1dF9pZF0pIHJldHVybiBlbnRpdHlfYWN0aW9uLmludGVyZmFjZVtpbnB1dF9pZF07XFxuXFxuICAgICAgICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2lucHV0c1xcbiAgICAgICAgICAgIHZhciBhbGxfaW5wdXRzID0gT2JqZWN0LmtleXMoZW50aXR5X2FjdGlvbi5pbnRlcmZhY2UpO1xcblxcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2lucHV0cy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgICAgdmFyIGxvY2FsX2lucHV0ID0gZW50aXR5X2FjdGlvbi5pbnRlcmZhY2VbYWxsX2lucHV0c1tpXV07XFxuXFxuICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobG9jYWxfaW5wdXQpICYmIHR5cGVvZiBsb2NhbF9pbnB1dCA9PSBcXFwib2JqZWN0XFxcIilcXG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsX2lucHV0LmlkID09IGlucHV0X2lkKVxcbiAgICAgICAgICAgICAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxcbiAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbF9pbnB1dDtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICB9XFxuICAgIH1cXG4gIH0pO1xcblxcbiAgLy8gQXNzaWduIHRoZSBnZW5lcmF0ZWQgZnVuY3Rpb25zIHRvIHRoZSBnbG9iYWwgc2NvcGVcXG4gIHdpbmRvdy5nZXRBbGxFbnRpdHlBY3Rpb25zID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRBbGxFbnRpdHlBY3Rpb25zO1xcbiAgd2luZG93LmdldEVudGl0eUFjdGlvbiA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uO1xcbiAgd2luZG93LmdldEVudGl0eUFjdGlvbnNBdE9yZGVyID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zQXRPcmRlcjtcXG4gIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbnNMb3dlc3RPcmRlcjtcXG4gIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3Q7XFxuICB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uc0NhdGVnb3J5ID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRFbnRpdHlBY3Rpb25zQ2F0ZWdvcnk7XFxuICB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uSW5wdXQgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbklucHV0O1xcbn1cIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgbGV0J3MgY3JlYXRlIHRoZSBuZXcgZmlsZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUgYXJlIHRoZSByZXN1bHRzIGZyb20gZXhlY3V0aW5nIHRoZSBjb21tYW5kLlxuPHJldHVybi1jb2RlPlxuMFxuPC9yZXR1cm4tY29kZT5cbjxzdGRvdXQ+XG5cdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbSFx1MDAxYl0wO0M6XFxXSU5ET1dTXFxTeXN0ZW0zMlxcV2luZG93c1Bvd2VyU2hlbGxcXHYxLjBcXHBvd2Vyc2hlbGwuZXhlXHUwMDA3XHUwMDFiWz8yNWhcbjwvc3Rkb3V0PlxuPHN0ZGVycj5cblxuPC9zdGRlcnI+IiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQURHSHhFVTFGakdBalduMW14eGJReCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MTEsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6Mzk6MDEuMzgyWiIsInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgY3JlYXRlIHRoZSBuZXcgZmlsZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI4ZjAxMjk0MS04NDg0LTQxZTQtODNlMi1lOGJkMjQxZDc3ZWYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFXc0pOTk1QblAzbVk0dEhkd0NFNTdQIiwidG9vbF9uYW1lIjoibGF1bmNoLXByb2Nlc3MiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInBvd2Vyc2hlbGwgLUNvbW1hbmQgXFxcIlJlbW92ZS1JdGVtICdzcmNcXFxcanNcXFxcZnJhbWV3b3JrXFxcXHZhcmlhYmxlc1xcXFx2YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qcydcXFwiXCIsIFwid2FpdFwiOiB0cnVlLCBcIm1heF93YWl0X3NlY29uZHNcIjogMTB9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIHVwZGF0ZSB0aGUgdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanMgZmlsZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQuICBTYXZlZCBmaWxlIHtzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc30iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE5NjlSU2Y1cVVYSko5NVdjYkFRa0xpIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjoxMSwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzozOToyOC45NjVaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyB1cGRhdGUgdGhlIHZhcmlhYmxlX2FjdGlvbnNfZnJhbWV3b3JrLmpzIGZpbGU6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNDNjN2M0ZGYtZGVkNS00NTJlLWIwMWQtN2NhYmY1NWVjZjQ0IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMVA2NWVvUTJUckY0MTIyaWs1WjlNdiIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJpbnN0cnVjdGlvbnNfcmVtaW5kZXJcIjogXCJMSU1JVCBUSEUgRklMRSBDT05URU5UIFRPIEFUIE1PU1QgMzAwIExJTkVTLiBJRiBNT1JFIENPTlRFTlQgTkVFRFMgVE8gQkUgQURERUQgVVNFIFRIRSBzdHItcmVwbGFjZS1lZGl0b3IgVE9PTCBUTyBFRElUIFRIRSBGSUxFIEFGVEVSIElUIEhBUyBCRUVOIENSRUFURUQuXCIsIFwicGF0aFwiOiBcInNyYy9qcy9mcmFtZXdvcmsvdmFyaWFibGVzL3ZhcmlhYmxlX2FjdGlvbnNfZnJhbWV3b3JrLmpzXCIsIFwiZmlsZV9jb250ZW50XCI6IFwiLy9Jbml0aWFsaXNlIGZ1bmN0aW9uc1xcbntcXG4gIC8vIEdlbmVyYXRlIGFsbCB0aGUgc3RhbmRhcmQgZnJhbWV3b3JrIGZ1bmN0aW9ucyB1c2luZyBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnNcXG4gIHZhciB2YXJpYWJsZUFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xcbiAgICBuYW1lOiBcXFwidmFyaWFibGVfYWN0aW9uc1xcXCIsXFxuICAgIGNvbmZpZ0tleTogXFxcInZhcmlhYmxlc1xcXCIsXFxuICAgIGZsYXR0ZW5lZEtleTogXFxcImZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zXFxcIixcXG4gICAgcmVzZXJ2ZWRLZXk6IFxcXCJyZXNlcnZlZF92YXJpYWJsZV9hY3Rpb25zXFxcIixcXG4gICAgdXNlTW9kZXJuSlNEb2M6IHRydWUsXFxuICAgIG5hdmlnYXRpb25SZXR1cm5zQXJyYXk6IHRydWUsXFxuICAgIGFkZGl0aW9uYWxGdW5jdGlvbnM6IHtcXG4gICAgICAvLyBBZGQgYW55IGFkZGl0aW9uYWwgZnVuY3Rpb25zIHNwZWNpZmljIHRvIHZhcmlhYmxlIGFjdGlvbnNcXG4gICAgICBnZXRWYXJpYWJsZUFjdGlvbnNDYXRlZ29yeTogZnVuY3Rpb24oYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcXG4gICAgICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcXG4gICAgICAgIHZhciBuYW1lID0gYXJnMF9uYW1lO1xcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xcblxcbiAgICAgICAgLy9HdWFyZCBjbGF1c2UgZm9yIG9iamVjdHM7IGRpcmVjdCBrZXlzXFxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT0gXFxcIm9iamVjdFxcXCIpIHJldHVybiBuYW1lO1xcbiAgICAgICAgaWYgKGNvbmZpZy52YXJpYWJsZXNbbmFtZV0pIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcudmFyaWFibGVzW25hbWVdIDogbmFtZTtcXG5cXG4gICAgICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcXG4gICAgICAgIHZhciBhbGxfdmFyaWFibGVfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGNvbmZpZy52YXJpYWJsZXMpO1xcbiAgICAgICAgdmFyIHZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzID0gW2ZhbHNlLCBcXFwiXFxcIl07IC8vW3ZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzLCB2YXJpYWJsZV9hY3Rpb25zX2tleV07XFxuICAgICAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xcblxcbiAgICAgICAgLy9JRCBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxcbiAgICAgICAge1xcbiAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfdmFyaWFibGVfYWN0aW9uc1xcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKVxcbiAgICAgICAgICAgIGlmIChhbGxfdmFyaWFibGVfYWN0aW9uc1tpXS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcXG4gICAgICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF92YXJpYWJsZV9hY3Rpb25zW2ldXTtcXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfdmFyaWFibGVfYWN0aW9ucy5sZW5ndGg7IGkrKylcXG4gICAgICAgICAgICBpZiAoYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV0udG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcXG4gICAgICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF92YXJpYWJsZV9hY3Rpb25zW2ldXTtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgLy9OYW1lIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXFxuICAgICAgICB7XFxuICAgICAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF92YXJpYWJsZV9hY3Rpb25zXFxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcudmFyaWFibGVzW2FsbF92YXJpYWJsZV9hY3Rpb25zW2ldXTtcXG5cXG4gICAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcXG4gICAgICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxcbiAgICAgICAgICAgICAgICB2YXJpYWJsZV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfdmFyaWFibGVfYWN0aW9uc1tpXV07XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfdmFyaWFibGVfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy52YXJpYWJsZXNbYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV1dO1xcblxcbiAgICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxcbiAgICAgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcXG4gICAgICAgICAgICAgICAgdmFyaWFibGVfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV1dO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuXFxuICAgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcXG4gICAgICAgIGlmICh2YXJpYWJsZV9hY3Rpb25zX2V4aXN0c1swXSlcXG4gICAgICAgICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy52YXJpYWJsZXNbdmFyaWFibGVfYWN0aW9uc19leGlzdHNbMV1dIDogdmFyaWFibGVfYWN0aW9uc19leGlzdHNbMV07XFxuICAgICAgfSxcXG4gICAgICBcXG4gICAgICBnZXRWYXJpYWJsZUFjdGlvbklucHV0OiBmdW5jdGlvbihhcmcwX2FjdGlvbl9pZCwgYXJnMV9pbnB1dF9pZCkge1xcbiAgICAgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xcbiAgICAgICAgdmFyIGFjdGlvbl9pZCA9IGFyZzBfYWN0aW9uX2lkO1xcbiAgICAgICAgdmFyIGlucHV0X2lkID0gYXJnMV9pbnB1dF9pZDtcXG5cXG4gICAgICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcXG4gICAgICAgIHZhciB2YXJpYWJsZV9hY3Rpb24gPSBnZXRWYXJpYWJsZUFjdGlvbihhY3Rpb25faWQpO1xcblxcbiAgICAgICAgaWYgKHZhcmlhYmxlX2FjdGlvbilcXG4gICAgICAgICAgLy9JdGVyYXRlIG92ZXIgLmludGVyZmFjZSBpZiBpdCBleGlzdHNcXG4gICAgICAgICAgaWYgKHZhcmlhYmxlX2FjdGlvbi5pbnRlcmZhY2UpIHtcXG4gICAgICAgICAgICAvL0d1YXJkIGNsYXVzZSBpZiBjaXRpbmcgZGlyZWN0IGtleVxcbiAgICAgICAgICAgIGlmICh2YXJpYWJsZV9hY3Rpb24uaW50ZXJmYWNlW2lucHV0X2lkXSkgcmV0dXJuIHZhcmlhYmxlX2FjdGlvbi5pbnRlcmZhY2VbaW5wdXRfaWRdO1xcblxcbiAgICAgICAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9pbnB1dHNcXG4gICAgICAgICAgICB2YXIgYWxsX2lucHV0cyA9IE9iamVjdC5rZXlzKHZhcmlhYmxlX2FjdGlvbi5pbnRlcmZhY2UpO1xcblxcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2lucHV0cy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgICAgdmFyIGxvY2FsX2lucHV0ID0gdmFyaWFibGVfYWN0aW9uLmludGVyZmFjZVthbGxfaW5wdXRzW2ldXTtcXG5cXG4gICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShsb2NhbF9pbnB1dCkgJiYgdHlwZW9mIGxvY2FsX2lucHV0ID09IFxcXCJvYmplY3RcXFwiKVxcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxfaW5wdXQuaWQgPT0gaW5wdXRfaWQpXFxuICAgICAgICAgICAgICAgICAgLy9SZXR1cm4gc3RhdGVtZW50XFxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsX2lucHV0O1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgfVxcbiAgfSk7XFxuXFxuICAvLyBBc3NpZ24gdGhlIGdlbmVyYXRlZCBmdW5jdGlvbnMgdG8gdGhlIGdsb2JhbCBzY29wZVxcbiAgd2luZG93LmdldEFsbFZhcmlhYmxlQWN0aW9ucyA9IHZhcmlhYmxlQWN0aW9uc0Z1bmN0aW9ucy5nZXRBbGxWYXJpYWJsZUFjdGlvbnM7XFxuICB3aW5kb3cuZ2V0VmFyaWFibGVBY3Rpb24gPSB2YXJpYWJsZUFjdGlvbnNGdW5jdGlvbnMuZ2V0VmFyaWFibGVBY3Rpb247XFxuICB3aW5kb3cuZ2V0VmFyaWFibGVBY3Rpb25zQXRPcmRlciA9IHZhcmlhYmxlQWN0aW9uc0Z1bmN0aW9ucy5nZXRWYXJpYWJsZUFjdGlvbnNBdE9yZGVyO1xcbiAgd2luZG93LmdldFZhcmlhYmxlQWN0aW9uc0xvd2VzdE9yZGVyID0gdmFyaWFibGVBY3Rpb25zRnVuY3Rpb25zLmdldFZhcmlhYmxlQWN0aW9uc0xvd2VzdE9yZGVyO1xcbiAgd2luZG93LmdldFZhcmlhYmxlQWN0aW9uc05hdmlnYXRpb25PYmplY3QgPSB2YXJpYWJsZUFjdGlvbnNGdW5jdGlvbnMuZ2V0VmFyaWFibGVBY3Rpb25zTmF2aWdhdGlvbk9iamVjdDtcXG4gIHdpbmRvdy5nZXRWYXJpYWJsZUFjdGlvbnNDYXRlZ29yeSA9IHZhcmlhYmxlQWN0aW9uc0Z1bmN0aW9ucy5nZXRWYXJpYWJsZUFjdGlvbnNDYXRlZ29yeTtcXG4gIHdpbmRvdy5nZXRWYXJpYWJsZUFjdGlvbklucHV0ID0gdmFyaWFibGVBY3Rpb25zRnVuY3Rpb25zLmdldFZhcmlhYmxlQWN0aW9uSW5wdXQ7XFxufVwifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUgYXJlIHRoZSByZXN1bHRzIGZyb20gZXhlY3V0aW5nIHRoZSBjb21tYW5kLlxuPHJldHVybi1jb2RlPlxuMFxuPC9yZXR1cm4tY29kZT5cbjxzdGRvdXQ+XG5cdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbSFx1MDAxYl0wO0M6XFxXSU5ET1dTXFxTeXN0ZW0zMlxcV2luZG93c1Bvd2VyU2hlbGxcXHYxLjBcXHBvd2Vyc2hlbGwuZXhlXHUwMDA3XHUwMDFiWz8yNWhcbjwvc3Rkb3V0PlxuPHN0ZGVycj5cblxuPC9zdGRlcnI+IiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxV3NKTk5NUG5QM21ZNHRIZHdDRTU3UCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MTIsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6Mzk6NDQuNjYxWiIsInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNTIwNjc2ZjgtYWUzMi00MmY3LTgxY2MtN2NkODk4ZDM1M2QzIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRDhRblpQRXdFaVhBRWdiaUVMMldGSyIsInRvb2xfbmFtZSI6ImxhdW5jaC1wcm9jZXNzIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJwb3dlcnNoZWxsIC1Db21tYW5kIFxcXCJSZW1vdmUtSXRlbSAnc3JjXFxcXGpzXFxcXGZyYW1ld29ya1xcXFxlbnRpdGllc1xcXFxlbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qcydcXFwiXCIsIFwid2FpdFwiOiB0cnVlLCBcIm1heF93YWl0X3NlY29uZHNcIjogMTB9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIHVwZGF0ZSB0aGUgZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanMgZmlsZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQuICBTYXZlZCBmaWxlIHtzcmMvanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qc30iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExUDY1ZW9RMlRyRjQxMjJpazVaOU12In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjoxMiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzo0MDowOC41MjVaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyB1cGRhdGUgdGhlIGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzIGZpbGU6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOTI3MGNlYjItZDJhMy00Y2FhLWJlNGItZmM0ODBmZTdjMTM1IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMkY2Tjk0dEdpNFZBNTVLMVFLQXFNaCIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJpbnN0cnVjdGlvbnNfcmVtaW5kZXJcIjogXCJMSU1JVCBUSEUgRklMRSBDT05URU5UIFRPIEFUIE1PU1QgMzAwIExJTkVTLiBJRiBNT1JFIENPTlRFTlQgTkVFRFMgVE8gQkUgQURERUQgVVNFIFRIRSBzdHItcmVwbGFjZS1lZGl0b3IgVE9PTCBUTyBFRElUIFRIRSBGSUxFIEFGVEVSIElUIEhBUyBCRUVOIENSRUFURUQuXCIsIFwicGF0aFwiOiBcInNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanNcIiwgXCJmaWxlX2NvbnRlbnRcIjogXCIvL0luaXRpYWxpc2UgRW50aXR5IEtleWZyYW1lcyBhY3Rpb25zXFxue1xcbiAgZnVuY3Rpb24gZGVsZXRlS2V5ZnJhbWUgKGFyZzBfZW50aXR5X2lkLCBhcmcxX3RpbWVzdGFtcCkgeyAvL1tXSVBdIC0gRGVsZXRpbmcgYSBrZXlmcmFtZSBzaG91bGQgdXBkYXRlIHRoZSBiaW8gYW5kIGNsb3NlIHRoZSBrZXlmcmFtZSBjb250ZXh0IG1lbnVzLiBJdCBjdXJyZW50bHkgZG9lcyBub3RcXG4gICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xcbiAgICB2YXIgZW50aXR5X2lkID0gYXJnMF9lbnRpdHlfaWQ7XFxuICAgIHZhciB0aW1lc3RhbXAgPSBhcmcxX3RpbWVzdGFtcDtcXG5cXG4gICAgLy9EZWxldGUga2V5ZnJhbWU7IHVwZGF0ZSBiaW8gW1dJUF0gLSBNYWtlIHN1cmUgdG8gdXBkYXRlIGJpb1xcbiAgICBjbG9zZUVudGl0eUtleWZyYW1lQ29udGV4dE1lbnVzKGVudGl0eV9pZCk7XFxuICAgIGRlbGV0ZUhpc3RvcnlGcmFtZShlbnRpdHlfaWQsIHRpbWVzdGFtcCk7XFxuXFxuICAgIHByaW50RW50aXR5QmlvKGVudGl0eV9pZCk7XFxuICB9XFxuXFxuICBmdW5jdGlvbiBlZGl0S2V5ZnJhbWUgKGFyZzBfZW50aXR5X2lkLCBhcmcxX3RpbWVzdGFtcCkge1xcbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXFxuICAgIHZhciBlbnRpdHlfaWQgPSBhcmcwX2VudGl0eV9pZDtcXG4gICAgdmFyIHRpbWVzdGFtcCA9IGFyZzFfdGltZXN0YW1wO1xcblxcbiAgICAvL0Nsb3NlIGVudGl0eSBVSSwgY2FsbCBlZGl0RW50aXR5KClcXG4gICAgY2xvc2VFbnRpdHlDb250ZXh0TWVudSgpO1xcbiAgICBzZXREYXRlKHRpbWVzdGFtcCk7XFxuICAgIGVkaXRFbnRpdHkoZW50aXR5X2lkKTtcXG5cXG4gICAgcGVyZm9ybUFjdGlvbih7XFxuICAgICAgYWN0aW9uX2lkOiBcXFwiZWRpdF9rZXlmcmFtZVxcXCIsXFxuICAgICAgcmVkb19mdW5jdGlvbjogXFxcImVkaXRLZXlmcmFtZVxcXCIsXFxuICAgICAgcmVkb19mdW5jdGlvbl9wYXJhbWV0ZXJzOiBbZW50aXR5X2lkLCB0aW1lc3RhbXBdLFxcbiAgICAgIHVuZG9fZnVuY3Rpb246IFxcXCJ1bmRvRWRpdEtleWZyYW1lXFxcIixcXG4gICAgICB1bmRvX2Z1bmN0aW9uX3BhcmFtZXRlcnM6IFtlbnRpdHlfaWRdXFxuICAgIH0pO1xcbiAgfVxcblxcbiAgZnVuY3Rpb24gbW92ZUtleWZyYW1lIChhcmcwX2VudGl0eV9pZCwgYXJnMV9kYXRlLCBhcmcyX2RhdGUpIHsgLy9bV0lQXSAtIFRoaXMgc2hvdWxkIHVwZGF0ZSB0aGUgYmlvIGFuZCBhZGp1c3QgYW55IG9wZW4gY29udGV4dCBtZW51cyB0aWVkIHRvIGEga2V5ZnJhbWUuICgncGxhY2Vob2xkZXI6IFxcXCJ0aW1lc3RhbXBcXFwiJykgSXQgZG9lcyBub3QuXFxuICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcXG4gICAgdmFyIGVudGl0eV9pZCA9IGFyZzBfZW50aXR5X2lkO1xcbiAgICB2YXIgZW50cnlfZGF0ZSA9IGFyZzFfZGF0ZTtcXG4gICAgdmFyIG1vdmVfdG9fZGF0ZSA9IGFyZzJfZGF0ZTtcXG5cXG4gICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICB2YXIgY29tbW9uX3NlbGVjdG9ycyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbi5zZWxlY3RvcnM7XFxuICAgIHZhciBlbnRpdHlfZWwgPSBnZXRFbnRpdHlFbGVtZW50KGVudGl0eV9pZCk7XFxuXFxuICAgIHZhciBlbnRpdHlfb2JqID0gZ2V0RW50aXR5KGVudGl0eV9pZCk7XFxuICAgIHZhciBoaXN0b3J5X2VudHJ5ID0gZ2V0QWJzb2x1dGVIaXN0b3J5RnJhbWUoZW50aXR5X2lkLCBlbnRyeV9kYXRlKTtcXG4gICAgdmFyIG5ld190aW1lc3RhbXAgPSBnZXRUaW1lc3RhbXAobW92ZV90b19kYXRlKTtcXG4gICAgdmFyIG9sZF90aW1lc3RhbXAgPSBnZXRUaW1lc3RhbXAoY29udmVydFRpbWVzdGFtcFRvRGF0ZShlbnRyeV9kYXRlKSk7XFxuICAgIHZhciBwb3B1cF9lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5lbnRpdHktdWktcGFuZVtjbGFzc349JyR7ZW50aXR5X2lkfSddYCk7XFxuXFxuICAgIC8vTW92ZSBoaXN0b3J5X2VudHJ5IHRvIG5ldyB0aW1lc3RhbXBcXG4gICAgaWYgKGhpc3RvcnlfZW50cnkgJiYgZW50aXR5X29iaikge1xcbiAgICAgIC8vRGVsZXRlIG9sZCBoaXN0b3J5IGVudHJ5XFxuICAgICAgZGVsZXRlIGVudGl0eV9vYmoub3B0aW9ucy5oaXN0b3J5W29sZF90aW1lc3RhbXBdO1xcblxcbiAgICAgIC8vQ3JlYXRlIG5ldyBoaXN0b3J5IGVudHJ5XFxuICAgICAgZW50aXR5X29iai5vcHRpb25zLmhpc3RvcnlbbmV3X3RpbWVzdGFtcF0gPSBoaXN0b3J5X2VudHJ5O1xcblxcbiAgICAgIC8vVXBkYXRlIGJpb1xcbiAgICAgIHByaW50RW50aXR5QmlvKGVudGl0eV9pZCk7XFxuICAgIH1cXG4gIH1cXG59XFxuXFxuLy9Jbml0aWFsaXNlIEVudGl0eSBLZXlmcmFtZXMgZnJhbWV3b3JrXFxue1xcbiAgLy8gR2VuZXJhdGUgYWxsIHRoZSBzdGFuZGFyZCBmcmFtZXdvcmsgZnVuY3Rpb25zIHVzaW5nIGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uc1xcbiAgdmFyIGVudGl0eUtleWZyYW1lc0Z1bmN0aW9ucyA9IGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9ucyh7XFxuICAgIG5hbWU6IFxcXCJlbnRpdHlfa2V5ZnJhbWVzXFxcIixcXG4gICAgY29uZmlnS2V5OiBcXFwiZW50aXR5X2tleWZyYW1lc1xcXCIsXFxuICAgIGZsYXR0ZW5lZEtleTogXFxcImZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzXFxcIixcXG4gICAgcmVzZXJ2ZWRLZXk6IFxcXCJyZXNlcnZlZF9lbnRpdHlfa2V5ZnJhbWVzXFxcIixcXG4gICAgbmF2aWdhdGlvblJldHVybnNBcnJheTogdHJ1ZSxcXG4gICAgYWRkaXRpb25hbEZ1bmN0aW9uczoge1xcbiAgICAgIC8vIEluY2x1ZGUgdGhlIGV4aXN0aW5nIGZ1bmN0aW9uc1xcbiAgICAgIGRlbGV0ZUtleWZyYW1lOiBkZWxldGVLZXlmcmFtZSxcXG4gICAgICBlZGl0S2V5ZnJhbWU6IGVkaXRLZXlmcmFtZSxcXG4gICAgICBtb3ZlS2V5ZnJhbWU6IG1vdmVLZXlmcmFtZSxcXG4gICAgICBcXG4gICAgICAvLyBBZGQgYW55IGFkZGl0aW9uYWwgZnVuY3Rpb25zIHNwZWNpZmljIHRvIGVudGl0eSBrZXlmcmFtZXNcXG4gICAgICBnZXRFbnRpdHlLZXlmcmFtZXNDYXRlZ29yeTogZnVuY3Rpb24oYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcXG4gICAgICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcXG4gICAgICAgIHZhciBuYW1lID0gYXJnMF9uYW1lO1xcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xcblxcbiAgICAgICAgLy9HdWFyZCBjbGF1c2UgZm9yIG9iamVjdHM7IGRpcmVjdCBrZXlzXFxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT0gXFxcIm9iamVjdFxcXCIpIHJldHVybiBuYW1lO1xcbiAgICAgICAgaWYgKGNvbmZpZy5lbnRpdHlfa2V5ZnJhbWVzW25hbWVdKSByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9rZXlmcmFtZXNbbmFtZV0gOiBuYW1lO1xcblxcbiAgICAgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICAgICAgdmFyIGFsbF9lbnRpdHlfa2V5ZnJhbWVzID0gT2JqZWN0LmtleXMoY29uZmlnLmVudGl0eV9rZXlmcmFtZXMpO1xcbiAgICAgICAgdmFyIGVudGl0eV9rZXlmcmFtZXNfZXhpc3RzID0gW2ZhbHNlLCBcXFwiXFxcIl07IC8vW2VudGl0eV9rZXlmcmFtZXNfZXhpc3RzLCBlbnRpdHlfa2V5ZnJhbWVzX2tleV07XFxuICAgICAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xcblxcbiAgICAgICAgLy9JRCBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxcbiAgICAgICAge1xcbiAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZW50aXR5X2tleWZyYW1lc1xcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfa2V5ZnJhbWVzLmxlbmd0aDsgaSsrKVxcbiAgICAgICAgICAgIGlmIChhbGxfZW50aXR5X2tleWZyYW1lc1tpXS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcXG4gICAgICAgICAgICAgIGVudGl0eV9rZXlmcmFtZXNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2tleWZyYW1lcy5sZW5ndGg7IGkrKylcXG4gICAgICAgICAgICBpZiAoYWxsX2VudGl0eV9rZXlmcmFtZXNbaV0udG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcXG4gICAgICAgICAgICAgIGVudGl0eV9rZXlmcmFtZXNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxcbiAgICAgICAge1xcbiAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZW50aXR5X2tleWZyYW1lc1xcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfa2V5ZnJhbWVzLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmVudGl0eV9rZXlmcmFtZXNbYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xcblxcbiAgICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxcbiAgICAgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXFxuICAgICAgICAgICAgICAgIGVudGl0eV9rZXlmcmFtZXNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfa2V5ZnJhbWVzLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmVudGl0eV9rZXlmcmFtZXNbYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xcblxcbiAgICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxcbiAgICAgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcXG4gICAgICAgICAgICAgICAgZW50aXR5X2tleWZyYW1lc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuXFxuICAgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcXG4gICAgICAgIGlmIChlbnRpdHlfa2V5ZnJhbWVzX2V4aXN0c1swXSlcXG4gICAgICAgICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy5lbnRpdHlfa2V5ZnJhbWVzW2VudGl0eV9rZXlmcmFtZXNfZXhpc3RzWzFdXSA6IGVudGl0eV9rZXlmcmFtZXNfZXhpc3RzWzFdO1xcbiAgICAgIH1cXG4gICAgfVxcbiAgfSk7XFxuXFxuICAvLyBBc3NpZ24gdGhlIGdlbmVyYXRlZCBmdW5jdGlvbnMgdG8gdGhlIGdsb2JhbCBzY29wZVxcbiAgd2luZG93LmdldEFsbEVudGl0eUtleWZyYW1lcyA9IGVudGl0eUtleWZyYW1lc0Z1bmN0aW9ucy5nZXRBbGxFbnRpdHlLZXlmcmFtZXM7XFxuICB3aW5kb3cuZ2V0RW50aXR5S2V5ZnJhbWUgPSBlbnRpdHlLZXlmcmFtZXNGdW5jdGlvbnMuZ2V0RW50aXR5S2V5ZnJhbWU7XFxuICB3aW5kb3cuZ2V0RW50aXR5S2V5ZnJhbWVzQXRPcmRlciA9IGVudGl0eUtleWZyYW1lc0Z1bmN0aW9ucy5nZXRFbnRpdHlLZXlmcmFtZXNBdE9yZGVyO1xcbiAgd2luZG93LmdldEVudGl0eUtleWZyYW1lc0xvd2VzdE9yZGVyID0gZW50aXR5S2V5ZnJhbWVzRnVuY3Rpb25zLmdldEVudGl0eUtleWZyYW1lc0xvd2VzdE9yZGVyO1xcbiAgd2luZG93LmdldEVudGl0eUtleWZyYW1lc05hdmlnYXRpb25PYmplY3QgPSBlbnRpdHlLZXlmcmFtZXNGdW5jdGlvbnMuZ2V0RW50aXR5S2V5ZnJhbWVzTmF2aWdhdGlvbk9iamVjdDtcXG4gIHdpbmRvdy5nZXRFbnRpdHlLZXlmcmFtZXNDYXRlZ29yeSA9IGVudGl0eUtleWZyYW1lc0Z1bmN0aW9ucy5nZXRFbnRpdHlLZXlmcmFtZXNDYXRlZ29yeTtcXG4gIFxcbiAgLy8gVGhlIGV4aXN0aW5nIGZ1bmN0aW9ucyBhcmUgYWxyZWFkeSBpbiB0aGUgZ2xvYmFsIHNjb3BlIGZyb20gdGhlIGZpcnN0IGJsb2NrXFxufVwifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUgYXJlIHRoZSByZXN1bHRzIGZyb20gZXhlY3V0aW5nIHRoZSBjb21tYW5kLlxuPHJldHVybi1jb2RlPlxuMFxuPC9yZXR1cm4tY29kZT5cbjxzdGRvdXQ+XG5cdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbSFx1MDAxYl0wO0M6XFxXSU5ET1dTXFxTeXN0ZW0zMlxcV2luZG93c1Bvd2VyU2hlbGxcXHYxLjBcXHBvd2Vyc2hlbGwuZXhlXHUwMDA3XHUwMDFiWz8yNWhcbjwvc3Rkb3V0PlxuPHN0ZGVycj5cblxuPC9zdGRlcnI+IiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRDhRblpQRXdFaVhBRWdiaUVMMldGSyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiIsImZvbGRlclJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MTMsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMjJUMDc6NDA6MTguMjgyWiIsInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMTBmYTQ4NzItODZkYS00MjFmLTk2OGYtYTMxYTZmZGUzZTI2IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSk1VZFFtclNnZEVxU1NQcTNLTUNwRCIsInRvb2xfbmFtZSI6ImxhdW5jaC1wcm9jZXNzIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJwb3dlcnNoZWxsIC1Db21tYW5kIFxcXCJSZW1vdmUtSXRlbSAnc3JjXFxcXGpzXFxcXGZyYW1ld29ya1xcXFxicnVzaFxcXFxicnVzaF9hY3Rpb25zX2ZyYW1ld29yay5qcydcXFwiXCIsIFwid2FpdFwiOiB0cnVlLCBcIm1heF93YWl0X3NlY29uZHNcIjogMTB9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIHVwZGF0ZSB0aGUgYnJ1c2hfYWN0aW9uc19mcmFtZXdvcmsuanMgZmlsZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQuICBTYXZlZCBmaWxlIHtzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzfSIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTJGNk45NHRHaTRWQTU1SzFRS0FxTWgifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjEzLCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjQwOjQ4LjUyOVoiLCJyZXNwb25zZV90ZXh0IjoiTm93IGxldCdzIHVwZGF0ZSB0aGUgYnJ1c2hfYWN0aW9uc19mcmFtZXdvcmsuanMgZmlsZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJiMTYzZTZmZC05MzcwLTRmZDItOWM1Ni1lOWZhYWZkOTY3OTgiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExZjl5ZlNXVTFjZEZVTDdlbWQzdkExIiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImluc3RydWN0aW9uc19yZW1pbmRlclwiOiBcIkxJTUlUIFRIRSBGSUxFIENPTlRFTlQgVE8gQVQgTU9TVCAzMDAgTElORVMuIElGIE1PUkUgQ09OVEVOVCBORUVEUyBUTyBCRSBBRERFRCBVU0UgVEhFIHN0ci1yZXBsYWNlLWVkaXRvciBUT09MIFRPIEVESVQgVEhFIEZJTEUgQUZURVIgSVQgSEFTIEJFRU4gQ1JFQVRFRC5cIiwgXCJwYXRoXCI6IFwic3JjL2pzL2ZyYW1ld29yay9icnVzaC9icnVzaF9hY3Rpb25zX2ZyYW1ld29yay5qc1wiLCBcImZpbGVfY29udGVudFwiOiBcIi8vSW5pdGlhbGlzZSBCcnVzaCBBY3Rpb25zIGZyYW1ld29ya1xcbntcXG4gIC8vIEdlbmVyYXRlIGFsbCB0aGUgc3RhbmRhcmQgZnJhbWV3b3JrIGZ1bmN0aW9ucyB1c2luZyBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnNcXG4gIHZhciBicnVzaEFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xcbiAgICBuYW1lOiBcXFwiYnJ1c2hfYWN0aW9uc1xcXCIsXFxuICAgIGNvbmZpZ0tleTogXFxcImJydXNoX2FjdGlvbnNcXFwiLFxcbiAgICBmbGF0dGVuZWRLZXk6IFxcXCJmbGF0dGVuZWRfYnJ1c2hfYWN0aW9uc1xcXCIsXFxuICAgIHJlc2VydmVkS2V5OiBcXFwicmVzZXJ2ZWRfYnJ1c2hfYWN0aW9uc1xcXCIsXFxuICAgIGFkZGl0aW9uYWxGdW5jdGlvbnM6IHtcXG4gICAgICAvLyBBZGQgYW55IGFkZGl0aW9uYWwgZnVuY3Rpb25zIHNwZWNpZmljIHRvIGJydXNoIGFjdGlvbnNcXG4gICAgICBnZXRCcnVzaEFjdGlvbnNDYXRlZ29yeTogZnVuY3Rpb24oYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcXG4gICAgICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcXG4gICAgICAgIHZhciBuYW1lID0gYXJnMF9uYW1lO1xcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xcblxcbiAgICAgICAgLy9HdWFyZCBjbGF1c2UgZm9yIG9iamVjdHM7IGRpcmVjdCBrZXlzXFxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT0gXFxcIm9iamVjdFxcXCIpIHJldHVybiBuYW1lO1xcbiAgICAgICAgaWYgKGNvbmZpZy5icnVzaF9hY3Rpb25zW25hbWVdKSByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmJydXNoX2FjdGlvbnNbbmFtZV0gOiBuYW1lO1xcblxcbiAgICAgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICAgICAgdmFyIGFsbF9icnVzaF9hY3Rpb25zID0gT2JqZWN0LmtleXMoY29uZmlnLmJydXNoX2FjdGlvbnMpO1xcbiAgICAgICAgdmFyIGJydXNoX2FjdGlvbnNfZXhpc3RzID0gW2ZhbHNlLCBcXFwiXFxcIl07IC8vW2JydXNoX2FjdGlvbnNfZXhpc3RzLCBicnVzaF9hY3Rpb25zX2tleV07XFxuICAgICAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xcblxcbiAgICAgICAgLy9JRCBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxcbiAgICAgICAge1xcbiAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfYnJ1c2hfYWN0aW9uc1xcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9icnVzaF9hY3Rpb25zLmxlbmd0aDsgaSsrKVxcbiAgICAgICAgICAgIGlmIChhbGxfYnJ1c2hfYWN0aW9uc1tpXS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcXG4gICAgICAgICAgICAgIGJydXNoX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9icnVzaF9hY3Rpb25zW2ldXTtcXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfYnJ1c2hfYWN0aW9ucy5sZW5ndGg7IGkrKylcXG4gICAgICAgICAgICBpZiAoYWxsX2JydXNoX2FjdGlvbnNbaV0udG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcXG4gICAgICAgICAgICAgIGJydXNoX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9icnVzaF9hY3Rpb25zW2ldXTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxcbiAgICAgICAge1xcbiAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfYnJ1c2hfYWN0aW9uc1xcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9icnVzaF9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmJydXNoX2FjdGlvbnNbYWxsX2JydXNoX2FjdGlvbnNbaV1dO1xcblxcbiAgICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxcbiAgICAgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXFxuICAgICAgICAgICAgICAgIGJydXNoX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9icnVzaF9hY3Rpb25zW2ldXTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9icnVzaF9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmJydXNoX2FjdGlvbnNbYWxsX2JydXNoX2FjdGlvbnNbaV1dO1xcblxcbiAgICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxcbiAgICAgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcXG4gICAgICAgICAgICAgICAgYnJ1c2hfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2JydXNoX2FjdGlvbnNbaV1dO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuXFxuICAgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcXG4gICAgICAgIGlmIChicnVzaF9hY3Rpb25zX2V4aXN0c1swXSlcXG4gICAgICAgICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy5icnVzaF9hY3Rpb25zW2JydXNoX2FjdGlvbnNfZXhpc3RzWzFdXSA6IGJydXNoX2FjdGlvbnNfZXhpc3RzWzFdO1xcbiAgICAgIH0sXFxuICAgICAgXFxuICAgICAgZ2V0QnJ1c2hBY3Rpb25JbnB1dDogZnVuY3Rpb24oYXJnMF9hY3Rpb25faWQsIGFyZzFfaW5wdXRfaWQpIHtcXG4gICAgICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcXG4gICAgICAgIHZhciBhY3Rpb25faWQgPSBhcmcwX2FjdGlvbl9pZDtcXG4gICAgICAgIHZhciBpbnB1dF9pZCA9IGFyZzFfaW5wdXRfaWQ7XFxuXFxuICAgICAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXFxuICAgICAgICB2YXIgYnJ1c2hfYWN0aW9uID0gZ2V0QnJ1c2hBY3Rpb24oYWN0aW9uX2lkKTtcXG5cXG4gICAgICAgIGlmIChicnVzaF9hY3Rpb24pXFxuICAgICAgICAgIC8vSXRlcmF0ZSBvdmVyIC5pbnRlcmZhY2UgaWYgaXQgZXhpc3RzXFxuICAgICAgICAgIGlmIChicnVzaF9hY3Rpb24uaW50ZXJmYWNlKSB7XFxuICAgICAgICAgICAgLy9HdWFyZCBjbGF1c2UgaWYgY2l0aW5nIGRpcmVjdCBrZXlcXG4gICAgICAgICAgICBpZiAoYnJ1c2hfYWN0aW9uLmludGVyZmFjZVtpbnB1dF9pZF0pIHJldHVybiBicnVzaF9hY3Rpb24uaW50ZXJmYWNlW2lucHV0X2lkXTtcXG5cXG4gICAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfaW5wdXRzXFxuICAgICAgICAgICAgdmFyIGFsbF9pbnB1dHMgPSBPYmplY3Qua2V5cyhicnVzaF9hY3Rpb24uaW50ZXJmYWNlKTtcXG5cXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9pbnB1dHMubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgICAgICAgIHZhciBsb2NhbF9pbnB1dCA9IGJydXNoX2FjdGlvbi5pbnRlcmZhY2VbYWxsX2lucHV0c1tpXV07XFxuXFxuICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobG9jYWxfaW5wdXQpICYmIHR5cGVvZiBsb2NhbF9pbnB1dCA9PSBcXFwib2JqZWN0XFxcIilcXG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsX2lucHV0LmlkID09IGlucHV0X2lkKVxcbiAgICAgICAgICAgICAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxcbiAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbF9pbnB1dDtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICB9XFxuICAgIH1cXG4gIH0pO1xcblxcbiAgLy8gQXNzaWduIHRoZSBnZW5lcmF0ZWQgZnVuY3Rpb25zIHRvIHRoZSBnbG9iYWwgc2NvcGVcXG4gIHdpbmRvdy5nZXRBbGxCcnVzaEFjdGlvbnMgPSBicnVzaEFjdGlvbnNGdW5jdGlvbnMuZ2V0QWxsQnJ1c2hBY3Rpb25zO1xcbiAgd2luZG93LmdldEJydXNoQWN0aW9uID0gYnJ1c2hBY3Rpb25zRnVuY3Rpb25zLmdldEJydXNoQWN0aW9uO1xcbiAgd2luZG93LmdldEJydXNoQWN0aW9uc0F0T3JkZXIgPSBicnVzaEFjdGlvbnNGdW5jdGlvbnMuZ2V0QnJ1c2hBY3Rpb25zQXRPcmRlcjtcXG4gIHdpbmRvdy5nZXRCcnVzaEFjdGlvbnNMb3dlc3RPcmRlciA9IGJydXNoQWN0aW9uc0Z1bmN0aW9ucy5nZXRCcnVzaEFjdGlvbnNMb3dlc3RPcmRlcjtcXG4gIHdpbmRvdy5nZXRCcnVzaEFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0ID0gYnJ1c2hBY3Rpb25zRnVuY3Rpb25zLmdldEJydXNoQWN0aW9uc05hdmlnYXRpb25PYmplY3Q7XFxuICB3aW5kb3cuZ2V0QnJ1c2hBY3Rpb25zQ2F0ZWdvcnkgPSBicnVzaEFjdGlvbnNGdW5jdGlvbnMuZ2V0QnJ1c2hBY3Rpb25zQ2F0ZWdvcnk7XFxuICB3aW5kb3cuZ2V0QnJ1c2hBY3Rpb25JbnB1dCA9IGJydXNoQWN0aW9uc0Z1bmN0aW9ucy5nZXRCcnVzaEFjdGlvbklucHV0O1xcbn1cIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbjxyZXR1cm4tY29kZT5cbjBcbjwvcmV0dXJuLWNvZGU+XG48c3Rkb3V0PlxuXHUwMDFiWz85MDAxaFx1MDAxYls/MTAwNGhcdTAwMWJbPzI1bFx1MDAxYlsySlx1MDAxYlttXHUwMDFiW0hcdTAwMWJdMDtDOlxcV0lORE9XU1xcU3lzdGVtMzJcXFdpbmRvd3NQb3dlclNoZWxsXFx2MS4wXFxwb3dlcnNoZWxsLmV4ZVx1MDAwN1x1MDAxYls/MjVoXG48L3N0ZG91dD5cbjxzdGRlcnI+XG5cbjwvc3RkZXJyPiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUpNVWRRbXJTZ2RFcVNTUHEzS01DcEQifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24iLCJmb2xkZXJSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjE0LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTIyVDA3OjQxOjAzLjA3NloiLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjZiYzAwMzA1LWEzMDQtNDNjYi1iYmViLTJkMzZkNTMwYzg1NyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTVYTTlReTU3VUdlTDIyVEM1MUFURjgiLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwicG93ZXJzaGVsbCAtQ29tbWFuZCBcXFwiUmVtb3ZlLUl0ZW0gJ3NyY1xcXFxqc1xcXFxmcmFtZXdvcmtcXFxcZ3JvdXBzXFxcXGdyb3VwX2FjdGlvbnNfZnJhbWV3b3JrLmpzJ1xcXCJcIiwgXCJ3YWl0XCI6IHRydWUsIFwibWF4X3dhaXRfc2Vjb25kc1wiOiAxMH0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJGaW5hbGx5LCBsZXQncyB1cGRhdGUgdGhlIGdyb3VwX2FjdGlvbnNfZnJhbWV3b3JrLmpzIGZpbGU6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIHNhdmVkLiAgU2F2ZWQgZmlsZSB7c3JjL2pzL2ZyYW1ld29yay9icnVzaC9icnVzaF9hY3Rpb25zX2ZyYW1ld29yay5qc30iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExZjl5ZlNXVTFjZEZVTDdlbWQzdkExIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjoxNCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzo0MToyNS43ODdaIiwicmVzcG9uc2VfdGV4dCI6IkZpbmFsbHksIGxldCdzIHVwZGF0ZSB0aGUgZ3JvdXBfYWN0aW9uc19mcmFtZXdvcmsuanMgZmlsZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJiOWRjOTI5NC1lZjI4LTQ5ZDYtYTdiOS0wOWY1NWE2NTk4ZjMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFDekx1NHVOVjdWWGtpWmtDQVRIRVh0IiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImluc3RydWN0aW9uc19yZW1pbmRlclwiOiBcIkxJTUlUIFRIRSBGSUxFIENPTlRFTlQgVE8gQVQgTU9TVCAzMDAgTElORVMuIElGIE1PUkUgQ09OVEVOVCBORUVEUyBUTyBCRSBBRERFRCBVU0UgVEhFIHN0ci1yZXBsYWNlLWVkaXRvciBUT09MIFRPIEVESVQgVEhFIEZJTEUgQUZURVIgSVQgSEFTIEJFRU4gQ1JFQVRFRC5cIiwgXCJwYXRoXCI6IFwic3JjL2pzL2ZyYW1ld29yay9ncm91cHMvZ3JvdXBfYWN0aW9uc19mcmFtZXdvcmsuanNcIiwgXCJmaWxlX2NvbnRlbnRcIjogXCIvL0luaXRpYWxpc2UgZnVuY3Rpb25zXFxue1xcbiAgLy8gR2VuZXJhdGUgYWxsIHRoZSBzdGFuZGFyZCBmcmFtZXdvcmsgZnVuY3Rpb25zIHVzaW5nIGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uc1xcbiAgdmFyIGdyb3VwQWN0aW9uc0Z1bmN0aW9ucyA9IGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9ucyh7XFxuICAgIG5hbWU6IFxcXCJncm91cF9hY3Rpb25zXFxcIixcXG4gICAgY29uZmlnS2V5OiBcXFwiZ3JvdXBfYWN0aW9uc1xcXCIsXFxuICAgIGZsYXR0ZW5lZEtleTogXFxcImZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zXFxcIixcXG4gICAgcmVzZXJ2ZWRLZXk6IFxcXCJyZXNlcnZlZF9ncm91cF9hY3Rpb25zXFxcIixcXG4gICAgbmF2aWdhdGlvblJldHVybnNBcnJheTogdHJ1ZSxcXG4gICAgYWRkaXRpb25hbEZ1bmN0aW9uczoge1xcbiAgICAgIC8vIEFkZCBhbnkgYWRkaXRpb25hbCBmdW5jdGlvbnMgc3BlY2lmaWMgdG8gZ3JvdXAgYWN0aW9uc1xcbiAgICAgIGdldEdyb3VwQWN0aW9uc0NhdGVnb3J5OiBmdW5jdGlvbihhcmcwX25hbWUsIGFyZzFfb3B0aW9ucykge1xcbiAgICAgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xcbiAgICAgICAgdmFyIG5hbWUgPSBhcmcwX25hbWU7XFxuICAgICAgICB2YXIgb3B0aW9ucyA9IChhcmcxX29wdGlvbnMpID8gYXJnMV9vcHRpb25zIDoge307XFxuXFxuICAgICAgICAvL0d1YXJkIGNsYXVzZSBmb3Igb2JqZWN0czsgZGlyZWN0IGtleXNcXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcXFwib2JqZWN0XFxcIikgcmV0dXJuIG5hbWU7XFxuICAgICAgICBpZiAoY29uZmlnLmdyb3VwX2FjdGlvbnNbbmFtZV0pIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZ3JvdXBfYWN0aW9uc1tuYW1lXSA6IG5hbWU7XFxuXFxuICAgICAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXFxuICAgICAgICB2YXIgYWxsX2dyb3VwX2FjdGlvbnMgPSBPYmplY3Qua2V5cyhjb25maWcuZ3JvdXBfYWN0aW9ucyk7XFxuICAgICAgICB2YXIgZ3JvdXBfYWN0aW9uc19leGlzdHMgPSBbZmFsc2UsIFxcXCJcXFwiXTsgLy9bZ3JvdXBfYWN0aW9uc19leGlzdHMsIGdyb3VwX2FjdGlvbnNfa2V5XTtcXG4gICAgICAgIHZhciBzZWFyY2hfbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKS50cmltKCk7XFxuXFxuICAgICAgICAvL0lEIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXFxuICAgICAgICB7XFxuICAgICAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9ncm91cF9hY3Rpb25zXFxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2dyb3VwX2FjdGlvbnMubGVuZ3RoOyBpKyspXFxuICAgICAgICAgICAgaWYgKGFsbF9ncm91cF9hY3Rpb25zW2ldLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxcbiAgICAgICAgICAgICAgZ3JvdXBfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2dyb3VwX2FjdGlvbnNbaV1dO1xcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9ncm91cF9hY3Rpb25zLmxlbmd0aDsgaSsrKVxcbiAgICAgICAgICAgIGlmIChhbGxfZ3JvdXBfYWN0aW9uc1tpXS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxcbiAgICAgICAgICAgICAgZ3JvdXBfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2dyb3VwX2FjdGlvbnNbaV1dO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcXG4gICAgICAgIHtcXG4gICAgICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2dyb3VwX2FjdGlvbnNcXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZ3JvdXBfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5ncm91cF9hY3Rpb25zW2FsbF9ncm91cF9hY3Rpb25zW2ldXTtcXG5cXG4gICAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcXG4gICAgICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxcbiAgICAgICAgICAgICAgICBncm91cF9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfZ3JvdXBfYWN0aW9uc1tpXV07XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZ3JvdXBfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5ncm91cF9hY3Rpb25zW2FsbF9ncm91cF9hY3Rpb25zW2ldXTtcXG5cXG4gICAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcXG4gICAgICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXFxuICAgICAgICAgICAgICAgIGdyb3VwX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9ncm91cF9hY3Rpb25zW2ldXTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgLy9SZXR1cm4gc3RhdGVtZW50XFxuICAgICAgICBpZiAoZ3JvdXBfYWN0aW9uc19leGlzdHNbMF0pXFxuICAgICAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZ3JvdXBfYWN0aW9uc1tncm91cF9hY3Rpb25zX2V4aXN0c1sxXV0gOiBncm91cF9hY3Rpb25zX2V4aXN0c1sxXTtcXG4gICAgICB9LFxcbiAgICAgIFxcbiAgICAgIGdldEdyb3VwQWN0aW9uSW5wdXQ6IGZ1bmN0aW9uKGFyZzBfYWN0aW9uX2lkLCBhcmcxX2lucHV0X2lkKSB7XFxuICAgICAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXFxuICAgICAgICB2YXIgYWN0aW9uX2lkID0gYXJnMF9hY3Rpb25faWQ7XFxuICAgICAgICB2YXIgaW5wdXRfaWQgPSBhcmcxX2lucHV0X2lkO1xcblxcbiAgICAgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xcbiAgICAgICAgdmFyIGdyb3VwX2FjdGlvbiA9IGdldEdyb3VwQWN0aW9uKGFjdGlvbl9pZCk7XFxuXFxuICAgICAgICBpZiAoZ3JvdXBfYWN0aW9uKVxcbiAgICAgICAgICAvL0l0ZXJhdGUgb3ZlciAuaW50ZXJmYWNlIGlmIGl0IGV4aXN0c1xcbiAgICAgICAgICBpZiAoZ3JvdXBfYWN0aW9uLmludGVyZmFjZSkge1xcbiAgICAgICAgICAgIC8vR3VhcmQgY2xhdXNlIGlmIGNpdGluZyBkaXJlY3Qga2V5XFxuICAgICAgICAgICAgaWYgKGdyb3VwX2FjdGlvbi5pbnRlcmZhY2VbaW5wdXRfaWRdKSByZXR1cm4gZ3JvdXBfYWN0aW9uLmludGVyZmFjZVtpbnB1dF9pZF07XFxuXFxuICAgICAgICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2lucHV0c1xcbiAgICAgICAgICAgIHZhciBhbGxfaW5wdXRzID0gT2JqZWN0LmtleXMoZ3JvdXBfYWN0aW9uLmludGVyZmFjZSk7XFxuXFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfaW5wdXRzLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICAgICAgICB2YXIgbG9jYWxfaW5wdXQgPSBncm91cF9hY3Rpb24uaW50ZXJmYWNlW2FsbF9pbnB1dHNbaV1dO1xcblxcbiAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGxvY2FsX2lucHV0KSAmJiB0eXBlb2YgbG9jYWxfaW5wdXQgPT0gXFxcIm9iamVjdFxcXCIpXFxuICAgICAgICAgICAgICAgIGlmIChsb2NhbF9pbnB1dC5pZCA9PSBpbnB1dF9pZClcXG4gICAgICAgICAgICAgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcXG4gICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxfaW5wdXQ7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgfVxcbiAgICB9XFxuICB9KTtcXG5cXG4gIC8vIEFzc2lnbiB0aGUgZ2VuZXJhdGVkIGZ1bmN0aW9ucyB0byB0aGUgZ2xvYmFsIHNjb3BlXFxuICB3aW5kb3cuZ2V0QWxsR3JvdXBBY3Rpb25zID0gZ3JvdXBBY3Rpb25zRnVuY3Rpb25zLmdldEFsbEdyb3VwQWN0aW9ucztcXG4gIHdpbmRvdy5nZXRHcm91cEFjdGlvbiA9IGdyb3VwQWN0aW9uc0Z1bmN0aW9ucy5nZXRHcm91cEFjdGlvbjtcXG4gIHdpbmRvdy5nZXRHcm91cEFjdGlvbnNBdE9yZGVyID0gZ3JvdXBBY3Rpb25zRnVuY3Rpb25zLmdldEdyb3VwQWN0aW9uc0F0T3JkZXI7XFxuICB3aW5kb3cuZ2V0R3JvdXBBY3Rpb25zTG93ZXN0T3JkZXIgPSBncm91cEFjdGlvbnNGdW5jdGlvbnMuZ2V0R3JvdXBBY3Rpb25zTG93ZXN0T3JkZXI7XFxuICB3aW5kb3cuZ2V0R3JvdXBBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCA9IGdyb3VwQWN0aW9uc0Z1bmN0aW9ucy5nZXRHcm91cEFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0O1xcbiAgd2luZG93LmdldEdyb3VwQWN0aW9uc0NhdGVnb3J5ID0gZ3JvdXBBY3Rpb25zRnVuY3Rpb25zLmdldEdyb3VwQWN0aW9uc0NhdGVnb3J5O1xcbiAgd2luZG93LmdldEdyb3VwQWN0aW9uSW5wdXQgPSBncm91cEFjdGlvbnNGdW5jdGlvbnMuZ2V0R3JvdXBBY3Rpb25JbnB1dDtcXG59XCJ9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG48cmV0dXJuLWNvZGU+XG4wXG48L3JldHVybi1jb2RlPlxuPHN0ZG91dD5cblx1MDAxYls/OTAwMWhcdTAwMWJbPzEwMDRoXHUwMDFiWz8yNWxcdTAwMWJbMkpcdTAwMWJbbVx1MDAxYltIXHUwMDFiXTA7QzpcXFdJTkRPV1NcXFN5c3RlbTMyXFxXaW5kb3dzUG93ZXJTaGVsbFxcdjEuMFxccG93ZXJzaGVsbC5leGVcdTAwMDdcdTAwMWJbPzI1aFxuPC9zdGRvdXQ+XG48c3RkZXJyPlxuXG48L3N0ZGVycj4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE1WE05UXk1N1VHZUwyMlRDNTFBVEY4In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjoxNSwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzo0MTozMy43NzlaIiwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2MGQzNDgxMS01YmY4LTRjMGEtYWU0Ni01NjI3OGEyYWRmOGIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ3ZlIHN1Y2Nlc3NmdWxseSByZXBsYWNlZCB0aGUgYm9pbGVycGxhdGUgY29kZSBpbiBhbGwgZml2ZSBmcmFtZXdvcmsgZmlsZXMgd2l0aCBvdXIgbmV3IGltcGxlbWVudGF0aW9uLiBIZXJlJ3MgYSBzdW1tYXJ5IG9mIHdoYXQgSSd2ZSBkb25lOlxuXG4jIyBJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5XG5cbkkndmUgcmVwbGFjZWQgdGhlIGJvaWxlcnBsYXRlIGNvZGUgaW4gdGhlIGZvbGxvd2luZyBmaWxlczpcblxuMS4gYHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzYFxuMi4gYHNyYy9qcy9mcmFtZXdvcmsvdmFyaWFibGVzL3ZhcmlhYmxlX2FjdGlvbnNfZnJhbWV3b3JrLmpzYFxuMy4gYHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanNgXG40LiBgc3JjL2pzL2ZyYW1ld29yay9icnVzaC9icnVzaF9hY3Rpb25zX2ZyYW1ld29yay5qc2BcbjUuIGBzcmMvanMvZnJhbWV3b3JrL2dyb3Vwcy9ncm91cF9hY3Rpb25zX2ZyYW1ld29yay5qc2BcblxuRWFjaCBmaWxlIG5vdyB1c2VzIHRoZSBgY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zYCBmdW5jdGlvbiBmcm9tIGB1aV9mcmFtZXdvcmsuanNgIHRvIGdlbmVyYXRlIHRoZSBzdGFuZGFyZCBmcmFtZXdvcmsgZnVuY3Rpb25zLCB3aGlsZSBwcmVzZXJ2aW5nIGFueSBhZGRpdGlvbmFsIGZ1bmN0aW9uYWxpdHkgc3BlY2lmaWMgdG8gZWFjaCBmcmFtZXdvcmsuXG5cbiMjIEtleSBGZWF0dXJlcyBvZiB0aGUgSW1wbGVtZW50YXRpb25cblxuMS4gKipDb25zaXN0ZW50IFN0cnVjdHVyZSoqOiBBbGwgZnJhbWV3b3JrIGZpbGVzIG5vdyBmb2xsb3cgdGhlIHNhbWUgcGF0dGVybiwgbWFraW5nIHRoZSBjb2RlYmFzZSBtb3JlIG1haW50YWluYWJsZS5cblxuMi4gKipQcmVzZXJ2ZWQgRnVuY3Rpb25hbGl0eSoqOiBBbGwgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uYWxpdHkgaGFzIGJlZW4gbWFpbnRhaW5lZCwgaW5jbHVkaW5nOlxuICAgLSBTdGFuZGFyZCBmdW5jdGlvbnMgbGlrZSBgZ2V0QWxsKmAsIGBnZXQqYCwgYGdldCpBdE9yZGVyYCwgZXRjLlxuICAgLSBGcmFtZXdvcmstc3BlY2lmaWMgZnVuY3Rpb25zIGxpa2UgYGdldCpDYXRlZ29yeWAgYW5kIGBnZXQqSW5wdXRgXG4gICAtIFNwZWNpYWwgZnVuY3Rpb25zIGxpa2UgYGRlbGV0ZUtleWZyYW1lYCwgYGVkaXRLZXlmcmFtZWAsIGFuZCBgbW92ZUtleWZyYW1lYCBpbiB0aGUgZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanNcblxuMy4gKipDb25maWd1cmF0aW9uIE9wdGlvbnMqKjogRWFjaCBmcmFtZXdvcmsgdXNlcyBhcHByb3ByaWF0ZSBjb25maWd1cmF0aW9uIG9wdGlvbnM6XG4gICAtIGBuYXZpZ2F0aW9uUmV0dXJuc0FycmF5OiB0cnVlYCBmb3IgZnJhbWV3b3JrcyB0aGF0IHJldHVybiBhcnJheSBlbGVtZW50c1xuICAgLSBgdXNlTW9kZXJuSlNEb2M6IHRydWVgIGZvciB2YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgLSBDdXN0b20gYGFkZGl0aW9uYWxGdW5jdGlvbnNgIGZvciBmcmFtZXdvcmstc3BlY2lmaWMgZnVuY3Rpb25hbGl0eVxuXG40LiAqKkdsb2JhbCBTY29wZSBBc3NpZ25tZW50Kio6IEFsbCBmdW5jdGlvbnMgYXJlIHByb3Blcmx5IGFzc2lnbmVkIHRvIHRoZSBnbG9iYWwgc2NvcGUsIG1haW50YWluaW5nIHRoZSBzYW1lIEFQSSBhcyBiZWZvcmUuXG5cbiMjIEJlbmVmaXRzXG5cbjEuICoqUmVkdWNlZCBDb2RlIER1cGxpY2F0aW9uKio6IFRoZSBhbW91bnQgb2YgY29kZSBoYXMgYmVlbiBzaWduaWZpY2FudGx5IHJlZHVjZWQgYnkgZWxpbWluYXRpbmcgZHVwbGljYXRlIHBhdHRlcm5zLlxuMi4gKipJbXByb3ZlZCBNYWludGFpbmFiaWxpdHkqKjogQ2hhbmdlcyB0byB0aGUgY29yZSBmdW5jdGlvbmFsaXR5IG9ubHkgbmVlZCB0byBiZSBtYWRlIGluIG9uZSBwbGFjZS5cbjMuICoqQ29uc2lzdGVudCBJbXBsZW1lbnRhdGlvbioqOiBBbGwgZnJhbWV3b3JrcyBub3cgZm9sbG93IHRoZSBzYW1lIHBhdHRlcm5zIGFuZCBiZWhhdmlvcnMuXG40LiAqKkVhc2llciBPbmJvYXJkaW5nKio6IE5ldyBkZXZlbG9wZXJzIGNhbiB1bmRlcnN0YW5kIHRoZSBwYXR0ZXJuIG9uY2UgYW5kIGFwcGx5IGl0IGV2ZXJ5d2hlcmUuXG5cblRoaXMgaW1wbGVtZW50YXRpb24gc3VjY2Vzc2Z1bGx5IHJlZHVjZXMgdGhlIGJvaWxlcnBsYXRlIGNvZGUgd2hpbGUgbWFpbnRhaW5pbmcgYWxsIHRoZSBmdW5jdGlvbmFsaXR5IG9mIHRoZSBvcmlnaW5hbCBmcmFtZXdvcmsgZmlsZXMsIGZvbGxvd2luZyB0aGUgcHJvamVjdCdzIGNvZGluZyBzdHlsZS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQuICBTYXZlZCBmaWxlIHtzcmMvanMvZnJhbWV3b3JrL2dyb3Vwcy9ncm91cF9hY3Rpb25zX2ZyYW1ld29yay5qc30iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFDekx1NHVOVjdWWGtpWmtDQVRIRVh0In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovUHJvamVjdCAxNzA2IC0gTmFpc3NhbmNlIEVsZWN0cm9uIiwiZm9sZGVyUm9vdCI6IkQ6L1Byb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvbiJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjoxNSwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0yMlQwNzo0MTo1Mi45NjZaIiwicmVzcG9uc2VfdGV4dCI6IkkndmUgc3VjY2Vzc2Z1bGx5IHJlcGxhY2VkIHRoZSBib2lsZXJwbGF0ZSBjb2RlIGluIGFsbCBmaXZlIGZyYW1ld29yayBmaWxlcyB3aXRoIG91ciBuZXcgaW1wbGVtZW50YXRpb24uIEhlcmUncyBhIHN1bW1hcnkgb2Ygd2hhdCBJJ3ZlIGRvbmU6XG5cbiMjIEltcGxlbWVudGF0aW9uIFN1bW1hcnlcblxuSSd2ZSByZXBsYWNlZCB0aGUgYm9pbGVycGxhdGUgY29kZSBpbiB0aGUgZm9sbG93aW5nIGZpbGVzOlxuXG4xLiBgc3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanNgXG4yLiBgc3JjL2pzL2ZyYW1ld29yay92YXJpYWJsZXMvdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanNgXG4zLiBgc3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc2BcbjQuIGBzcmMvanMvZnJhbWV3b3JrL2JydXNoL2JydXNoX2FjdGlvbnNfZnJhbWV3b3JrLmpzYFxuNS4gYHNyYy9qcy9mcmFtZXdvcmsvZ3JvdXBzL2dyb3VwX2FjdGlvbnNfZnJhbWV3b3JrLmpzYFxuXG5FYWNoIGZpbGUgbm93IHVzZXMgdGhlIGBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnNgIGZ1bmN0aW9uIGZyb20gYHVpX2ZyYW1ld29yay5qc2AgdG8gZ2VuZXJhdGUgdGhlIHN0YW5kYXJkIGZyYW1ld29yayBmdW5jdGlvbnMsIHdoaWxlIHByZXNlcnZpbmcgYW55IGFkZGl0aW9uYWwgZnVuY3Rpb25hbGl0eSBzcGVjaWZpYyB0byBlYWNoIGZyYW1ld29yay5cblxuIyMgS2V5IEZlYXR1cmVzIG9mIHRoZSBJbXBsZW1lbnRhdGlvblxuXG4xLiAqKkNvbnNpc3RlbnQgU3RydWN0dXJlKio6IEFsbCBmcmFtZXdvcmsgZmlsZXMgbm93IGZvbGxvdyB0aGUgc2FtZSBwYXR0ZXJuLCBtYWtpbmcgdGhlIGNvZGViYXNlIG1vcmUgbWFpbnRhaW5hYmxlLlxuXG4yLiAqKlByZXNlcnZlZCBGdW5jdGlvbmFsaXR5Kio6IEFsbCB0aGUgb3JpZ2luYWwgZnVuY3Rpb25hbGl0eSBoYXMgYmVlbiBtYWludGFpbmVkLCBpbmNsdWRpbmc6XG4gICAtIFN0YW5kYXJkIGZ1bmN0aW9ucyBsaWtlIGBnZXRBbGwqYCwgYGdldCpgLCBgZ2V0KkF0T3JkZXJgLCBldGMuXG4gICAtIEZyYW1ld29yay1zcGVjaWZpYyBmdW5jdGlvbnMgbGlrZSBgZ2V0KkNhdGVnb3J5YCBhbmQgYGdldCpJbnB1dGBcbiAgIC0gU3BlY2lhbCBmdW5jdGlvbnMgbGlrZSBgZGVsZXRlS2V5ZnJhbWVgLCBgZWRpdEtleWZyYW1lYCwgYW5kIGBtb3ZlS2V5ZnJhbWVgIGluIHRoZSBlbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc1xuXG4zLiAqKkNvbmZpZ3VyYXRpb24gT3B0aW9ucyoqOiBFYWNoIGZyYW1ld29yayB1c2VzIGFwcHJvcHJpYXRlIGNvbmZpZ3VyYXRpb24gb3B0aW9uczpcbiAgIC0gYG5hdmlnYXRpb25SZXR1cm5zQXJyYXk6IHRydWVgIGZvciBmcmFtZXdvcmtzIHRoYXQgcmV0dXJuIGFycmF5IGVsZW1lbnRzXG4gICAtIGB1c2VNb2Rlcm5KU0RvYzogdHJ1ZWAgZm9yIHZhcmlhYmxlX2FjdGlvbnNfZnJhbWV3b3JrLmpzXG4gICAtIEN1c3RvbSBgYWRkaXRpb25hbEZ1bmN0aW9uc2AgZm9yIGZyYW1ld29yay1zcGVjaWZpYyBmdW5jdGlvbmFsaXR5XG5cbjQuICoqR2xvYmFsIFNjb3BlIEFzc2lnbm1lbnQqKjogQWxsIGZ1bmN0aW9ucyBhcmUgcHJvcGVybHkgYXNzaWduZWQgdG8gdGhlIGdsb2JhbCBzY29wZSwgbWFpbnRhaW5pbmcgdGhlIHNhbWUgQVBJIGFzIGJlZm9yZS5cblxuIyMgQmVuZWZpdHNcblxuMS4gKipSZWR1Y2VkIENvZGUgRHVwbGljYXRpb24qKjogVGhlIGFtb3VudCBvZiBjb2RlIGhhcyBiZWVuIHNpZ25pZmljYW50bHkgcmVkdWNlZCBieSBlbGltaW5hdGluZyBkdXBsaWNhdGUgcGF0dGVybnMuXG4yLiAqKkltcHJvdmVkIE1haW50YWluYWJpbGl0eSoqOiBDaGFuZ2VzIHRvIHRoZSBjb3JlIGZ1bmN0aW9uYWxpdHkgb25seSBuZWVkIHRvIGJlIG1hZGUgaW4gb25lIHBsYWNlLlxuMy4gKipDb25zaXN0ZW50IEltcGxlbWVudGF0aW9uKio6IEFsbCBmcmFtZXdvcmtzIG5vdyBmb2xsb3cgdGhlIHNhbWUgcGF0dGVybnMgYW5kIGJlaGF2aW9ycy5cbjQuICoqRWFzaWVyIE9uYm9hcmRpbmcqKjogTmV3IGRldmVsb3BlcnMgY2FuIHVuZGVyc3RhbmQgdGhlIHBhdHRlcm4gb25jZSBhbmQgYXBwbHkgaXQgZXZlcnl3aGVyZS5cblxuVGhpcyBpbXBsZW1lbnRhdGlvbiBzdWNjZXNzZnVsbHkgcmVkdWNlcyB0aGUgYm9pbGVycGxhdGUgY29kZSB3aGlsZSBtYWludGFpbmluZyBhbGwgdGhlIGZ1bmN0aW9uYWxpdHkgb2YgdGhlIG9yaWdpbmFsIGZyYW1ld29yayBmaWxlcywgZm9sbG93aW5nIHRoZSBwcm9qZWN0J3MgY29kaW5nIHN0eWxlLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJyZXF1ZXN0X2lkIjoiZmI3ODlmOGYtZjRhNi00M2FhLWJlOTYtMTlkMTNkYWVjMzVmIiwidXVpZCI6IjcwYWM1NTI3LWQwOTktNGE1OC1hYjkzLWIyM2E1YTU0MjdkMSIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MTc0Nzg5OTQ0NTcxOCwidG9UaW1lc3RhbXAiOjE3NDc4OTk3MjY0NDMsInNlZW5fc3RhdGUiOiJzZWVuIn1dLCJmZWVkYmFja1N0YXRlcyI6eyJ0ZW1wLWZlLTU5OTQxMDMxLWU2ZjctNDIzZC04NGFiLWMzNmNhMTc2NjA0NSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYzI4MTE4ZWItNzFlZi00NzQ0LTlhYzMtOTllZWEyYjRhYmMwIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02ZTZiZTQzZC1jZDVhLTQ1YmItYWRmYS01MzIzN2EwMmU4ZWUiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWFhMjQyMjdhLTVlMjUtNGJjMC1hODRhLWRjZWEzMDAwNTYyMCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMmFlNjY0ZGMtZTIxZS00NGViLTk0NjUtNTlhNGQxOWFjMGJhIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xMjM0MDMwMS0xNWNjLTQwOTUtOTdlZS1jNWUwM2U1NTMzYTciOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTQ3MGYyNjNkLTlmM2YtNGNjMi1iODNhLTg5ZmQ3ZGUxYjU4YSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtODM5NGE4MWEtZDhmZC00NTI3LTgwMDUtNTE3ZDMwNGEyYWYzIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xZWY2MDY2NC0yMTY0LTQ0MzktYmRiZS0xZDc4ODUxM2VjNmEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTA3YTU3ZWIxLTQ3MTYtNDQ4OC1iM2NiLTA2MjJlZDNiZTIyNCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOWQ2YmY4MTQtZDgwZC00ZDVlLTg4NzgtZmQ4YWY1YTlmNjZkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05Yzc1NDI0NS0xMjE1LTRkZWMtOWM2NS05ZjkxZjUwOTBkMTYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLThkZjhjZjM4LTAzYjQtNGQwZS1iNTE2LTEyZjcyNWU0NWM3YiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZTQzZjBhOTctNGJmNC00MzI4LWJiMmEtNGYwZmMxMTQyYTc0Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0yMDRlNTJjZC1jYzJhLTRhYjItYWQ2NS05ZmIzYzg3ZWZkYzQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTM2YjU0MDVlLTBlMTktNDk2ZC05M2Q0LWZlMzVhM2EyNjg0YSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtN2VkNWE4OWUtNDc1Ni00NzU4LTg2M2QtZmMyMGMwYWYyNjUyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS00YjExMjEyOC1kYjIzLTQ0NGUtODU0Ni05ZTNiNDQzY2Q3YjkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWI0NGY1YzdjLTUyODQtNDA3Zi1iMjVjLTZiM2UwNWYyMTQxNyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOWExODlhN2UtZGRlMy00ZTVjLTkwYjktYmVlOTkxMzZhOTdmIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0yNDFmMTA1Yy03YTU3LTQ5MWItYmMwZC05MTIzODFjZDQzZGYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTY1NzdkYjUwLWM0NWItNGM1My1iMmY5LWU4NDdkNWY3MmJlNCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYWIxMDYyODItOWNiZS00ZDMyLWFkOGMtYjE0YmJmZjM0MWRhIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1kNWExNjVlOC03NDM3LTQzMjgtYmNmNy01Y2NlZDVmOWEzZTEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTlhZTc4YmY5LTM4M2MtNGUzOC1hZjJhLWYyMDBmMWEyZjJkYSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMjE5ZDI1OTQtOTBjMC00NDQ4LWIwNWYtZWFiNmM1MzlmODhkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS00ZWEyYWU3YS1hZWJmLTQ3YWYtOGFmZC04ZTFlY2U1YmY2NGIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWMzNDZmYjVmLThmNDEtNDVlNS04OTEwLWI2OWY4NGQ4ZDQ0NiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMzk3NzU4OWItNmRmZC00ZGNlLTkzNzItYmQwOTU4YzIzYWEwIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05Y2VlZjQ5Ni05NTE2LTQzM2QtYTRhYy02NjUxODk0OTYzNzkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTU5NGIwNDFiLTMzMzktNGRhNC1hMzg4LTZjYTVhNThlYjVmYSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNWU5ZDYyMGQtM2ZlZS00NjRjLWEyZGQtNmFkMWI3MTA2OTdhIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05ODMwYjg0NC1kNGMxLTQwNjYtYTJjYi02MDM4NzYzZjhiMWMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTMyZmRmYTAyLTY4MzctNGVlMi04ZjM3LWUzNzM4OWM1MmRmNSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMDM5OWEyZjgtMDMwYS00ODFjLThiOGItZmRlNTQ3NTI0YTlmIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xMzI5ODg3Ni01OGNiLTRjM2YtYWVhZS1hZTE2MDI5YTBhZWIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWIyYjVlYjdjLTY5NWYtNGU2Zi1iNGI2LWE5N2YyMjhkYjIzZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNjU2ZjA1NDMtOTFlNS00NjQ2LThmZDgtZGIwYTQyNDBmMmU5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS04Njg4ZTUxYy1lOGEyLTQ1ZWUtOGExNC1hM2MxNjUyNDVmYjYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTEwZGVhYTNiLTZmYjctNDkzNS1hYTI3LWY0NWY4NmY0MTNiMCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOTU2OWM3ZTUtYTYyMy00NWQ5LWFkNWEtMDc3Y2IzMzQzNTM0Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1kNzY1M2Y4My1iM2U1LTQ1M2QtOWU2MC1lYzM2ZGVhYTk0OTIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTcxMDY5NTRmLWY2YmMtNGNjNS05MGZiLWEyZmFiZTk5MWMwMCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOWM1MWNkZmYtODNiMy00YmMyLWFiZDAtY2U5OGI2OWIzNTJlIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS00MzA5MzIzMi0yZWU3LTRkYTEtYWZjMi1iNTNlNDk5MjA3ODMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLThhZjEwNjk3LTNhOGQtNDg5Mi1iNzMwLThlMDEzMmVkMTRhNiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYjk2MmFjNGMtYTMyNS00ZTMwLWFmOGEtZTg5YzBmNjg2NjA2Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS03Nzg4YTk5Yy0zNTMxLTQzYWItODUwNC0zNDg2YzcwYjIzYjUiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWFlNjcyZGRmLWMwOGEtNGRkMC04YjQ0LWUyZTQ2ODY0MmYwMiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZmY5OWFkN2YtMmFlMi00MDQxLWJlZGYtNDBiYTIyOWMxNTUyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS00NmVjMGI1Zi1lNjQxLTRhZGMtODlmNS1mM2I4MTQ3Y2MyZjkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWJjMTBjMjdmLTk5MzYtNDRhOS1hMjZlLTFmMDliYTRkMTMyNCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMzMwZDBiOGUtOGQ2My00ZjM1LTk4OTEtMDRhMWM0NjQxYzE0Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xODVlOTBjZC1kOWRiLTQ2M2MtYmU1MS1jZWFhYzQ1MGM3MmIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTU5OWY0NjMzLTEzYmEtNDRlZC05MDU3LTkyODgxMDZiMjJiMiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNmE3NTY3ZjMtYWUwNC00M2NhLWFlOTAtN2Q0MmIxMTk2ZjM3Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mZWRiOGYyYi0xZjQwLTQ5YmItODBiMS1jNTcyZTM1YjNhY2EiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTM3MWQ4MzZlLWYwYzEtNDNlNi05MDE3LWU5MDc2ODQ5NTBlYyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYmRjMjczMDAtNDIzYS00ODMzLTgxMWUtNmFmM2JmMDU4YjQ3Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS04MzhjYzU0OS1jMTFlLTQ4M2QtYjNkYi01YTEzYTE2ZGExNzkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWYzYmQ2NjZkLWJiNTMtNDRjYi05ZWY3LTI2NmU5YTBhMDYzYSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNGU2OTAxMmYtODdjYy00NmM3LTg4MjEtMmU5NWZhZGFkMmU4Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1kYjZjMDdmZi1hZDI2LTRlOGQtODYwMi0xMzk5NDRiOTkwODYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWEzZTM0NjBlLWEzNjItNDYwMy05ODA2LWIxMGI1MzRkYTg0ZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMmQzYTNhMTUtOTM5My00YmIwLWJmYzUtMDlhMDc5MDlmMDMxIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifX0sInRvb2xVc2VTdGF0ZXMiOnsiOTMzZWRiOGYtNTMyMi00M2RmLTllZDYtNGQ4NTdhODVmY2ViO3Rvb2x1X3ZydHhfMDFQakRQdkVid0FOQ012WkpSRFJmYzhzIjp7InJlcXVlc3RJZCI6IjkzM2VkYjhmLTUzMjItNDNkZi05ZWQ2LTRkODU3YTg1ZmNlYiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFQakRQdkVid0FOQ012WkpSRFJmYzhzIiwicGhhc2UiOjYsInJlc3VsdCI6eyJpc0Vycm9yIjp0cnVlLCJ0ZXh0IjoiVG9vbCBcImNvZGViYXNlLXJldHJpZXZhbFwiIGRvZXMgbm90IGV4aXN0In19LCIzZmQ5ZWUwMC01MDI2LTQ4ZmItOWExYi03NWI4Zjk1MjU3YjA7dG9vbHVfdnJ0eF8wMVFjYUpvbjZaR25Cc1pLQWI3eHVLclAiOnsicmVxdWVzdElkIjoiM2ZkOWVlMDAtNTAyNi00OGZiLTlhMWItNzViOGY5NTI1N2IwIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMVFjYUpvbjZaR25Cc1pLQWI3eHVLclAiLCJwaGFzZSI6NiwicmVzdWx0Ijp7ImlzRXJyb3IiOnRydWUsInRleHQiOiJUb29sIFwibGF1bmNoLXByb2Nlc3NcIiBkb2VzIG5vdCBleGlzdCJ9fSwiZTg0YzY1NWItMzY3NS00NTYzLThlNjQtMWE1NzI1MjdhNGQzO3Rvb2x1X3ZydHhfMDE1R2tKdFQxYnRmeHZ0SkVGa0JZaVUyIjp7InJlcXVlc3RJZCI6ImU4NGM2NTViLTM2NzUtNDU2My04ZTY0LTFhNTcyNTI3YTRkMyIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDE1R2tKdFQxYnRmeHZ0SkVGa0JZaVUyIiwicGhhc2UiOjYsInJlc3VsdCI6eyJpc0Vycm9yIjp0cnVlLCJ0ZXh0IjoiVG9vbCBcIndlYi1zZWFyY2hcIiBkb2VzIG5vdCBleGlzdCJ9fSwiMGUxMTI2NjQtMDcwZi00MjhkLWI5OWEtMzNkZDc2YjZjODA0O3Rvb2x1X3ZydHhfMDFOdDlLaEZWTUdMN2dIZkRVemtaVDlGIjp7InJlcXVlc3RJZCI6IjBlMTEyNjY0LTA3MGYtNDI4ZC1iOTlhLTMzZGQ3NmI2YzgwNCIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFOdDlLaEZWTUdMN2dIZkRVemtaVDlGIiwicGhhc2UiOjYsInJlc3VsdCI6eyJpc0Vycm9yIjp0cnVlLCJ0ZXh0IjoiVG9vbCBcInZpZXdcIiBkb2VzIG5vdCBleGlzdCJ9fSwiYWE4NjYxNWYtNzc3YS00NzY1LWFlYjgtZmE3MmNkYjhiNjFiO3Rvb2x1X3ZydHhfMDE1NHl6ZHRnZVFnaVE4VjVqM3NFdVBtIjp7InJlcXVlc3RJZCI6ImFhODY2MTVmLTc3N2EtNDc2NS1hZWI4LWZhNzJjZGI4YjYxYiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDE1NHl6ZHRnZVFnaVE4VjVqM3NFdVBtIiwicGhhc2UiOjYsInJlc3VsdCI6eyJpc0Vycm9yIjp0cnVlLCJ0ZXh0IjoiVG9vbCBcImxpc3QtcHJvY2Vzc2VzXCIgZG9lcyBub3QgZXhpc3QifX0sImRhMDUxNjNlLTU5YTQtNGVlMS1hYzU0LTM1M2RkOTY2N2U1Yjt0b29sdV92cnR4XzAxN3BVcExrS3p2SFFqTGlSOVZ2dEhZaiI6eyJyZXF1ZXN0SWQiOiJkYTA1MTYzZS01OWE0LTRlZTEtYWM1NC0zNTNkZDk2NjdlNWIiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxN3BVcExrS3p2SFFqTGlSOVZ2dEhZaiIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvbWFwL2tleWZyYW1lX2FjdGlvbnNfY29uZmlnLmpzXG4gICAgIDFcdGNvbmZpZy5lbnRpdHlfa2V5ZnJhbWVzLmtleWZyYW1lX2FjdGlvbnMgPSB7XG4gICAgIDJcdCAgbmFtZTogXCJLZXlmcmFtZSBBY3Rpb25zXCIsXG4gICAgIDNcdCAgc2NvcGVfdHlwZTogW1wicG9saXRpZXNcIl0sXG4gICAgIDRcdFxuICAgICA1XHQgIGFkanVzdF90aW1lOiB7XG4gICAgIDZcdCAgICBpZDogXCJhZGp1c3RfdGltZVwiLFxuICAgICA3XHQgICAgbmFtZTogXCJBZGp1c3QgVGltZVwiLFxuICAgICA4XHQgICAgb3JkZXI6IDIsXG4gICAgIDlcdFxuICAgIDEwXHQgICAgaW50ZXJmYWNlOiB7XG4gICAgMTFcdCAgICAgIGRhdGU6IHtcbiAgICAxMlx0ICAgICAgICBpZDogXCJuZXdfZGF0ZVwiLFxuICAgIDEzXHQgICAgICAgIG5hbWU6IFwiQWRqdXN0IFRpbWU6XCIsXG4gICAgMTRcdCAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgMTVcdCAgICAgICAgeDogMCxcbiAgICAxNlx0ICAgICAgICB5OiAwLFxuICAgIDE3XHRcbiAgICAxOFx0ICAgICAgICBtdWx0aXBsZV9yb3dzOiB0cnVlLFxuICAgIDE5XHQgICAgICAgIHBsYWNlaG9sZGVyOiBcInRpbWVzdGFtcFwiIC8vW1dJUF0gLSBUaGlzIG1lYW5zIHRoZSBpbnRlcmZhY2UgZGVmYXVsdHMgdG8gdGhlIHRpbWVzdGFtcCB0aGUga2V5ZnJhbWUgaXMgdGllZCB0by5cbiAgICAyMFx0ICAgICAgfSxcbiAgICAyMVx0ICAgICAgY2hhbmdlX2RhdGVfYnV0dG9uOiB7XG4gICAgMjJcdCAgICAgICAgaWQ6IFwiY2hhbmdlX2RhdGVfYnV0dG9uXCIsXG4gICAgMjNcdCAgICAgICAgbmFtZTogXCJDaGFuZ2UgRGF0ZVwiLFxuICAgIDI0XHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgMjVcdCAgICAgICAgeDogMCxcbiAgICAyNlx0ICAgICAgICB5OiAxLFxuICAgIDI3XHRcbiAgICAyOFx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICAyOVx0ICAgICAgICAgIG1vdmVfa2V5ZnJhbWU6IFwibmV3X2RhdGVcIlxuICAgIDMwXHQgICAgICAgIH1cbiAgICAzMVx0ICAgICAgfVxuICAgIDMyXHQgICAgfVxuICAgIDMzXHQgIH0sXG4gICAgMzRcdCAgZGVsZXRlX2tleWZyYW1lOiB7XG4gICAgMzVcdCAgICBpZDogXCJkZWxldGVfa2V5ZnJhbWVcIixcbiAgICAzNlx0ICAgIG5hbWU6IFwiRGVsZXRlIEtleWZyYW1lXCIsXG4gICAgMzdcdCAgICBvcmRlcjogMixcbiAgICAzOFx0XG4gICAgMzlcdCAgICBlZmZlY3Q6IHtcbiAgICA0MFx0ICAgICAgY2xvc2VfbWVudXM6IHRydWUsXG4gICAgNDFcdCAgICAgIGRlbGV0ZV9rZXlmcmFtZTogXCJ0aW1lc3RhbXBcIlxuICAgIDQyXHQgICAgfVxuICAgIDQzXHQgIH0sXG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanNcbi4uLlxuICAgIDg5XHRcbiAgICA5MFx0Ly9Jbml0aWFsaXNlIEVudGl0eSBLZXlmcmFtZXMgZnJhbWV3b3JrXG4gICAgOTFcdHtcbiAgICA5Mlx0ICAvKlxuICAgIDkzXHQgICAgZ2V0QWxsRW50aXR5S2V5ZnJhbWVzKCkgLSBGZXRjaGVzIGFsbCBlbnRpdHkga2V5ZnJhbWVzIGFzIGVpdGhlciBhbiBhcnJheSBvZiBrZXlzIG9yIG9iamVjdHMuXG4gICAgOTRcdCAgICBhcmcwX29wdGlvbnM6IChPYmplY3QpXG4gICAgOTVcdCAgICAgIHJldHVybl9rZXlzOiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0LlxuICAgIDk2XHRcbiAgICA5N1x0ICAgIFJldHVybnM6IChBcnJheTxPYmplY3Q+L0FycmF5PFN0cmluZz4pXG4gICAgOThcdCAgKi9cbiAgICA5OVx0ICBmdW5jdGlvbiBnZXRBbGxFbnRpdHlLZXlmcmFtZXMgKGFyZzBfb3B0aW9ucykge1xuICAgMTAwXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgMTAxXHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xuICAgMTAyXHRcbiAgIDEwM1x0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDEwNFx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgIDEwNVx0ICAgIHZhciBmbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcztcbiAgIDEwNlx0ICAgIHZhciByZXR1cm5fa2V5ZnJhbWVzID0gW107XG4gICAxMDdcdCAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgIDEwOFx0XG4gICAxMDlcdCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2VudGl0eV9rZXlmcmFtZXNcbiAgIDExMFx0ICAgIHZhciBhbGxfZmxhdHRlbmVkX2VudGl0eV9rZXlmcmFtZXMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcyk7XG4uLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvbWFwL2tleWZyYW1lX25hdmlnYXRpb25fY29uZmlnLmpzXG4gICAgIDFcdGNvbmZpZy5lbnRpdHlfa2V5ZnJhbWVzLmtleWZyYW1lX25hdmlnYXRpb24gPSB7XG4gICAgIDJcdCAgbmFtZTogXCJLZXlmcmFtZSBOYXZpZ2F0aW9uXCIsXG4gICAgIDNcdCAgc2NvcGVfdHlwZTogW1wicG9saXRpZXNcIl0sXG4gICAgIDRcdFxuICAgICA1XHQgIG5hdmlnYXRpb25fdWk6IHtcbiAgICAgNlx0ICAgIGlkOiBcImNvbnRleHRfbWVudV9vbmVfbmF2aWdhdGlvblwiLFxuICAgICA3XHQgICAgbmFtZTogXCJFbnRpdHkgS2V5ZnJhbWU6XCIsXG4gICAgIDhcdCAgICBvcmRlcjogMSxcbiAgICAgOVx0XG4gICAgMTBcdCAgICBpbnRlcmZhY2U6IHtcbiAgICAxMVx0ICAgICAgYWRqdXN0X3RpbWVfYnV0dG9uOiB7XG4gICAgMTJcdCAgICAgICAgaWQ6IFwiYWRqdXN0X3RpbWVfYnV0dG9uXCIsXG4gICAgMTNcdCAgICAgICAgbmFtZTogXCJBZGp1c3QgVGltZVwiLFxuICAgIDE0XHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgMTVcdCAgICAgICAgeDogMCxcbiAgICAxNlx0ICAgICAgICB5OiAwLFxuICAgIDE3XHRcbiAgICAxOFx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICAxOVx0ICAgICAgICAgIG9wZW5fdWk6IFwiYWRqdXN0X3RpbWVcIlxuICAgIDIwXHQgICAgICAgIH1cbiAgICAyMVx0ICAgICAgfSxcbiAgICAyMlx0ICAgICAgZWRpdF9rZXlmcmFtZV9idXR0b246IHtcbiAgICAyM1x0ICAgICAgICBpZDogXCJlZGl0X2tleWZyYW1lX2J1dHRvblwiLFxuICAgIDI0XHQgICAgICAgIG5hbWU6IFwiRWRpdCBLZXlmcmFtZVwiLFxuICAgIDI1XHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgMjZcdFxuICAgIDI3XHQgICAgICAgIGVmZmVjdDoge1xuICAgIDI4XHQgICAgICAgICAgdHJpZ2dlcjogXCJlZGl0X2tleWZyYW1lXCJcbiAgICAyOVx0ICAgICAgICB9XG4gICAgMzBcdCAgICAgIH0sXG4gICAgMzFcdCAgICAgIGRlbGV0ZV9rZXlmcmFtZV9idXR0b246IHtcbiAgICAzMlx0ICAgICAgICBpZDogXCJkZWxldGVfa2V5ZnJhbWVfYnV0dG9uXCIsXG4gICAgMzNcdCAgICAgICAgbmFtZTogXCJEZWxldGUgS2V5ZnJhbWVcIixcbiAgICAzNFx0ICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIDM1XHRcbiAgICAzNlx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICAzN1x0ICAgICAgICAgIHRyaWdnZXI6IFwiZGVsZXRlX2tleWZyYW1lXCJcbiAgICAzOFx0ICAgICAgICB9XG4gICAgMzlcdCAgICAgIH1cbiAgICA0MFx0ICAgIH1cbiAgICA0MVx0ICB9XG4gICAgNDJcdH07XG4uLi5cblBhdGg6IHNyYy9pbmRleC5odG1sXG4uLi5cbiAgIDI4Nlx0XG4gICAyODdcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy91bmRvX3JlZG9fZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAyODhcdFx0XHRcdDwhLS0gRW50aXR5IEFjdGlvbnMgLS0+XG4gICAyODlcdFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9hY3Rpb25zL2VudGl0aWVzL2FwcGx5X3BhdGhfdG9fa2V5ZnJhbWVzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAyOTBcdFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9hY3Rpb25zL2VudGl0aWVzL2NsZWFuX2tleWZyYW1lcy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMjkxXHRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy9lbnRpdGllcy9lZGl0X2VudGl0eV9ub2Rlcy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMjkyXHRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy9lbnRpdGllcy9zZXRfZW50aXR5X2ZpbGwuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDI5M1x0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2FjdGlvbnMvZW50aXRpZXMvc2V0X2VudGl0eV9zdHJva2UuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDI5NFx0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2FjdGlvbnMvZW50aXRpZXMvc2V0X2VudGl0eV96b29tX2xldmVsLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4uLi5cbiAgIDMzOVx0XG4gICAzNDBcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL2VudGl0eV9hY3Rpb25zX3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNDFcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL2VudGl0eV9jdXN0b21pc2F0aW9uX3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNDJcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL2VudGl0eV9rZXlmcmFtZXNfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0M1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZW50aXR5X3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNDRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL2VudGl0eV92YXJpYWJsZXNfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0NVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZ3JhcGhfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0Nlx0XG4gICAzNDdcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL21hcF9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9vcHRpbWlzYXRpb25fZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vRGVjbGFyZSBmdW5jdGlvblxuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gaW5pdE9wdGltaXNhdGlvbiAoKSB7XG4gICAgIDRcdCAgICAvL0JSVVNIIEFDVElPTlNcbiAgICAgNVx0ICAgIC8vU2V0IC5hbGxfYnJ1c2hfYWN0aW9uczsgLmFsbF9icnVzaF9hY3Rpb25zX2tleXNcbiAgICAgNlx0ICAgIGNvbmZpZy5mbGF0dGVuZWRfYnJ1c2hfYWN0aW9ucyA9IGR1bWJGbGF0dGVuT2JqZWN0KGNvbmZpZy5icnVzaF9hY3Rpb25zKTtcbiAgICAgN1x0XG4gICAgIDhcdCAgICBjb25maWcuYWxsX2JydXNoX2FjdGlvbnMgPSBnZXRBbGxCcnVzaEFjdGlvbnMoKTtcbiAgICAgOVx0ICAgIGNvbmZpZy5hbGxfYnJ1c2hfYWN0aW9uc19rZXlzID0gZ2V0QWxsQnJ1c2hBY3Rpb25zKHsgcmV0dXJuX2tleXM6IHRydWUgfSk7XG4gICAgMTBcdCAgICBjb25maWcuYnJ1c2hfYWN0aW9uc19sb3dlc3Rfb3JkZXIgPSBnZXRCcnVzaEFjdGlvbnNMb3dlc3RPcmRlcigpO1xuICAgIDExXHRcbiAgICAxMlx0ICAgIC8vRU5USVRZIEFDVElPTlNcbiAgICAxM1x0ICAgIC8vU2V0IC5hbGxfZW50aXR5X2FjdGlvbnM7IC5hbGxfZW50aXR5X2FjdGlvbnNfa2V5c1xuICAgIDE0XHQgICAgY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGR1bWJGbGF0dGVuT2JqZWN0KGNvbmZpZy5lbnRpdHlfYWN0aW9ucyk7XG4gICAgMTVcdFxuICAgIDE2XHQgICAgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9ucyA9IGdldEFsbEVudGl0eUFjdGlvbnMoKTtcbiAgICAxN1x0ICAgIGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNfa2V5cyA9IGdldEFsbEVudGl0eUFjdGlvbnMoeyByZXR1cm5fa2V5czogdHJ1ZSB9KTtcbiAgICAxOFx0ICAgIGNvbmZpZy5lbnRpdHlfYWN0aW9uc19sb3dlc3Rfb3JkZXIgPSBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIoKTtcbiAgICAxOVx0XG4gICAgMjBcdCAgICAvL0VOVElUWSBLRVlGUkFNRVNcbiAgICAyMVx0ICAgIC8vU2V0IC5hbGxfZW50aXR5X2tleWZyYW1lczsgLmFsbF9lbnRpdHlfa2V5ZnJhbWVfa2V5c1xuICAgIDIyXHQgICAgY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzID0gZHVtYkZsYXR0ZW5PYmplY3QoY29uZmlnLmVudGl0eV9rZXlmcmFtZXMpO1xuICAgIDIzXHRcbiAgICAyNFx0ICAgIGNvbmZpZy5hbGxfZW50aXR5X2tleWZyYW1lcyA9IGdldEFsbEVudGl0eUtleWZyYW1lcygpO1xuICAgIDI1XHQgICAgY29uZmlnLmFsbF9lbnRpdHlfa2V5ZnJhbWVfa2V5cyA9IGdldEFsbEVudGl0eUtleWZyYW1lcyh7IHJldHVybl9rZXlzOiB0cnVlIH0pO1xuICAgIDI2XHQgICAgY29uZmlnLmVudGl0eV9rZXlmcmFtZXNfbG93ZXN0X29yZGVyID0gZ2V0RW50aXR5S2V5ZnJhbWVzTG93ZXN0T3JkZXIoKTtcbiAgICAyN1x0XG4gICAgMjhcdCAgICAvL0dST1VQIEFDVElPTlNcbiAgICAyOVx0ICAgIC8vU2V0IC5hbGxfZ3JvdXBfYWN0aW9uczsgLmFsbF9ncm91cF9hY3Rpb25zX2tleXNcbiAgICAzMFx0ICAgIGNvbmZpZy5mbGF0dGVuZWRfZ3JvdXBfYWN0aW9ucyA9IGR1bWJGbGF0dGVuT2JqZWN0KGNvbmZpZy5ncm91cF9hY3Rpb25zKTtcbiAgICAzMVx0XG4gICAgMzJcdCAgICBjb25maWcuYWxsX2dyb3VwX2FjdGlvbnMgPSBnZXRBbGxHcm91cEFjdGlvbnMoKTtcbiAgICAzM1x0ICAgIGNvbmZpZy5hbGxfZ3JvdXBfYWN0aW9uc19rZXlzID0gZ2V0QWxsR3JvdXBBY3Rpb25zKHsgcmV0dXJuX2tleXM6IHRydWUgfSk7XG4gICAgMzRcdCAgICBjb25maWcuZ3JvdXBfYWN0aW9uc19sb3dlc3Rfb3JkZXIgPSBnZXRHcm91cEFjdGlvbnNMb3dlc3RPcmRlcigpO1xuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgRW50aXR5IEFjdGlvbnMgZnJhbWV3b3JrXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKlxuICAgICA0XHQgICAgZ2V0QWxsRW50aXR5QWN0aW9ucygpIC0gRmV0Y2hlcyBhbGwgZW50aXR5IGFjdGlvbnMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICAgNVx0ICAgIGFyZzBfb3B0aW9uczogKE9iamVjdClcbiAgICAgNlx0ICAgICAgcmV0dXJuX2tleXM6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuIEZhbHNlIGJ5IGRlZmF1bHQuXG4uLi5cbiAgIDE3MVx0XG4gICAxNzJcdCAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDE3M1x0ICAgIHtcbiAgIDE3NFx0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2VudGl0eV9hY3Rpb25zXG4gICAxNzVcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxNzZcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmVudGl0eV9hY3Rpb25zW2FsbF9lbnRpdHlfYWN0aW9uc1tpXV07XG4gICAxNzdcdFxuICAgMTc4XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTc5XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxODBcdCAgICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfZW50aXR5X2tleWZyYW1lc1tpXV07XG4gICAxODFcdCAgICAgIH1cbiAgIDE4Mlx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDE4M1x0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuZW50aXR5X2FjdGlvbnNbYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcbiAgIDE4NFx0XG4gICAxODVcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxODZcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMTg3XHQgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuICAgMTg4XHQgICAgICB9XG4gICAxODlcdCAgICB9XG4gICAxOTBcdFxuICAgMTkxXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAxOTJcdCAgICBpZiAoZW50aXR5X2FjdGlvbnNfZXhpc3RzWzBdKVxuICAgMTkzXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9hY3Rpb25zW2VudGl0eV9hY3Rpb25zX2V4aXN0c1sxXV0gOiBlbnRpdHlfYWN0aW9uc19leGlzdHNbMV07XG4gICAxOTRcdCAgfVxuLi4uXG5QYXRoOiBzcmMvanMvaW50ZXJmYWNlL2xlZnRfc2lkZWJhci9zZXR0aW5nc19nbG9iYWxfY29uZmlnLmpzXG4gICAgIDFcdGNvbmZpZy5zZXR0aW5ncy5nbG9iYWwgPSB7XG4gICAgIDJcdCAgb3JkZXI6IDEsXG4gICAgIDNcdCAgXG4gICAgIDRcdCAgZ2xvYmFsX3NldHRpbmdzX2h0bWw6IHtcbiAgICAgNVx0ICAgIGlkOiBgZ2xvYmFsX3NldHRpbmdzX2hlYWRlcmAsXG4gICAgIDZcdCAgICB0eXBlOiBcImh0bWxcIixcbiAgICAgN1x0XG4gICAgIDhcdCAgICBpbm5lckhUTUw6IGBcbiAgICAgOVx0ICAgICAgPGRpdiBjbGFzcyA9IFwicHJpbWFyeS1oZWFkZXJcIj5HbG9iYWwgU2V0dGluZ3M8L2Rpdj5cbiAgICAxMFx0ICAgIGAsXG4gICAgMTFcdCAgfSxcbiAgICAxMlx0ICBnbG9iYWxfZGVmYXVsdF9zYXZlX2ZpbGU6IHtcbiAgICAxM1x0ICAgIGlkOiBcImdsb2JhbF9kZWZhdWx0X3NhdmVfZmlsZVwiLFxuICAgIDE0XHQgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgMTVcdFxuICAgIDE2XHQgICAgbmFtZTogXCJEZWZhdWx0IHNhdmUgZmlsZSBvbiBzdGFydHVwOlwiLFxuICAgIDE3XHQgICAgYXR0cmlidXRlczoge1xuICAgIDE4XHQgICAgICB2YWx1ZTogXCIuL2F1dG9zYXZlLmpzXCJcbiAgICAxOVx0ICAgIH1cbiAgICAyMFx0ICB9LFxuICAgIDIxXHQgIGdsb2JhbF91aV9sYXlvdXRfdG9nZ2xlczogeyAvL1tXSVBdIC0gRnVuY3Rpb25hbGl0eSBub3QgeWV0IGFkZGVkXG4gICAgMjJcdCAgICBpZDogYGdsb2JhbF91aV9sYXlvdXRfdG9nZ2xlc2AsXG4gICAgMjNcdCAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgMjRcdFxuICAgIDI1XHQgICAgb3B0aW9uczoge1xuICAgIDI2XHQgICAgICBcImFuY2hvcl9lbnRpdHlfcG9wdXBzXCI6IFwiQW5jaG9yIEVudGl0eSBQb3B1cHNcIixcbiAgICAyN1x0ICAgICAgXCJoaWRlX2VudGl0eV9kYXRhX2dyYXBoX2J5X2RlZmF1bHRcIjogXCJIaWRlIEVudGl0eSBEYXRhIEdyYXBoIGJ5IERlZmF1bHRcIlxuICAgIDI4XHQgICAgfVxuICAgIDI5XHQgIH0sXG4gICAgMzBcdCAgZG9jdW1lbnRfc2V0dGluZ3NfaHRtbDoge1xuICAgIDMxXHQgICAgaWQ6IGBkb2N1bWVudF9zZXR0aW5nc19oZWFkZXJgLFxuICAgIDMyXHQgICAgdHlwZTogXCJodG1sXCIsXG4gICAgMzNcdFxuICAgIDM0XHQgICAgaW5uZXJIVE1MOiBgXG4gICAgMzVcdCAgICAgIDxkaXYgY2xhc3MgPSBcInByaW1hcnktaGVhZGVyXCI+RG9jdW1lbnQgU2V0dGluZ3M8L2Rpdj5cbiAgICAzNlx0ICAgIGAsXG4gICAgMzdcdCAgfVxuICAgIDM4XHR9Oy4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS9tYXAvcG9saXR5X2FjdGlvbnNfY29uZmlnLmpzXG4gICAgIDFcdGNvbmZpZy5lbnRpdHlfYWN0aW9ucy5wb2xpdHlfYWN0aW9ucyA9IHtcbiAgICAgMlx0ICBuYW1lOiBcIlBvbGl0eSBBY3Rpb25zXCIsXG4gICAgIDNcdCAgc2NvcGVfdHlwZTogW1wicG9saXRpZXNcIl0sXG4gICAgIDRcdFxuICAgICA1XHQgIGFwcGx5X3BhdGhfdHdvOiB7XG4gICAgIDZcdCAgICBpZDogXCJhcHBseV9wYXRoX3R3b1wiLFxuICAgICA3XHQgICAgbmFtZTogXCJBcHBseSBQYXRoXCIsXG4gICAgIDhcdCAgICBvcmRlcjogMixcbiAgICAgOVx0XG4gICAgMTBcdCAgICBpbW1lZGlhdGU6IHtcbiAgICAxMVx0ICAgICAgc2VsZWN0X211bHRpcGxlX2tleWZyYW1lczogXCJzZWxlY3RlZF9rZXlmcmFtZXNcIlxuICAgIDEyXHQgICAgfSxcbiAgICAxM1x0ICAgIGludGVyZmFjZToge1xuICAgIDE0XHQgICAgICBjb25maXJtX2J1dHRvbjoge1xuICAgIDE1XHQgICAgICAgIGlkOiBcImNvbmZpcm1fYnV0dG9uXCIsXG4gICAgMTZcdCAgICAgICAgbmFtZTogXCJBcHBseSBQYXRoIHRvIFNlbGVjdGVkIEtleWZyYW1lc1wiLFxuICAgIDE3XHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgMThcdCAgICAgICAgeDogMCxcbiAgICAxOVx0ICAgICAgICB5OiAwLFxuICAgIDIwXHRcbiAgICAyMVx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICAyMlx0ICAgICAgICAgIGFwcGx5X3BhdGg6IFwic2VsZWN0ZWRfa2V5ZnJhbWVzXCJcbiAgICAyM1x0ICAgICAgICB9XG4gICAgMjRcdCAgICAgIH1cbiAgICAyNVx0ICAgIH1cbiAgICAyNlx0ICB9LFxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKipcbiAgICAgNFx0ICAgKiBnZXRBbGxWYXJpYWJsZUFjdGlvbnMoKSAtIEZldGNoZXMgYWxsIHZhcmlhYmxlIGFjdGlvbnMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICAgNVx0ICAgKiBAcGFyYW0ge09iamVjdH0gW2FyZzBfb3B0aW9uc11cbiAgICAgNlx0ICAgKiAgQHBhcmFtIHtib29sZWFufSBbYXJnMF9vcHRpb25zLnJldHVybl9rZXlzPWZhbHNlXSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuXG4gICAgIDdcdCAgICogXG4gICAgIDhcdCAgICogQHJldHVybnMge0FycmF5PE9iamVjdD58QXJyYXk8U3RyaW5nPn1cbiAgICAgOVx0ICAgKi9cbiAgICAxMFx0ICBmdW5jdGlvbiBnZXRBbGxWYXJpYWJsZUFjdGlvbnMgKGFyZzBfb3B0aW9ucykge1xuICAgIDExXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDEyXHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xuICAgIDEzXHRcbiAgICAxNFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxNVx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgICAxNlx0ICAgIHZhciBmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucztcbiAgICAxN1x0ICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xuICAgIDE4XHQgICAgdmFyIHJldHVybl9rZXlzID0gW107XG4gICAgMTlcdFxuICAgIDIwXHQgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zXG4gICAgMjFcdCAgICB2YXIgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMpO1xuICAgIDIyXHQgICBcbiAgICAyM1x0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgIDI0XHQgICAgICBpZiAoIWNvbW1vbl9kZWZpbmVzLnJlc2VydmVkX3ZhcmlhYmxlX2FjdGlvbnMuaW5jbHVkZXMoYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2ldKSkge1xuICAgIDI1XHQgICAgICAgIHJldHVybl9hY3Rpb25zLnB1c2goZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2ldXSk7XG4gICAgMjZcdCAgICAgICAgcmV0dXJuX2tleXMucHVzaChhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbaV0pO1xuICAgIDI3XHQgICAgICB9XG4gICAgMjhcdFxuICAgIDI5XHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAgMzBcdCAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXlzKSA/IHJldHVybl9hY3Rpb25zIDogcmV0dXJuX2tleXM7XG4gICAgMzFcdCAgfVxuICAgIDMyXHRcbiAgICAzM1x0ICAvKipcbiAgICAzNFx0ICAgKiBnZXRWYXJpYWJsZUFjdGlvbigpIC0gRmV0Y2hlcyBhIHZhcmlhYmxlIGFjdGlvbi5cbiAgICAzNVx0ICAgKiBAcGFyYW0ge1N0cmluZ30gYXJnMF9uYW1lIC0gVGhlIG5hbWUvSUQgb2YgdGhlIHZhcmlhYmxlIGFjdGlvbi5cbiAgICAzNlx0ICAgKiBAcGFyYW0ge09iamVjdH0gW2FyZzFfb3B0aW9uc11cbiAgICAzN1x0ICAgKiAgQHBhcmFtIHtib29sZWFufSBbYXJnMV9vcHRpb25zLnJldHVybl9rZXk9ZmFsc2VdIC0gT3B0aW9uYWwuIFdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUga2V5IGluc3RlYWQgb2YgdGhlIG9iamVjdC5cbiAgICAzOFx0ICAgKiBcbiAgICAzOVx0ICAgKiBAcmV0dXJucyB7T2JqZWN0fFN0cmluZ31cbiAgICA0MFx0ICAgKi9cbiAgICA0MVx0ICBmdW5jdGlvbiBnZXRWYXJpYWJsZUFjdGlvbiAoYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcbiAgICA0Mlx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICA0M1x0ICAgIHZhciBuYW1lID0gYXJnMF9uYW1lO1xuICAgIDQ0XHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuICAgIDQ1XHRcbiAgICA0Nlx0ICAgIC8vR3VhcmQgY2xhdXNlIGZvciBvYmplY3RzOyBkaXJlY3Qga2V5c1xuICAgIDQ3XHQgICAgaWYgKHR5cGVvZiBuYW1lID09IFwib2JqZWN0XCIpIHJldHVybiBuYW1lO1xuICAgIDQ4XHQgICAgaWYgKGNvbmZpZy5mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1tuYW1lXSkgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy5mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1tuYW1lXSA6IG5hbWU7XG4uLi5cbiAgIDEwNlx0XG4gICAxMDdcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxMDhcdCAgICB2YXIgZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnM7XG4gICAxMDlcdCAgICB2YXIgb3JkZXIgPSAob3B0aW9ucy5vcmRlciAhPSB1bmRlZmluZWQpID8gb3B0aW9ucy5vcmRlciA6IDE7XG4gICAxMTBcdCAgICB2YXIgcmV0dXJuX2FjdGlvbnMgPSBbXTtcbiAgIDExMVx0ICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1xuICAgMTEyXHQgICAgdmFyIHJldHVybl9vYmogPSB7fTtcbiAgIDExM1x0XG4gICAxMTRcdCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNcbiAgIDExNVx0ICAgIHZhciBhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyk7XG4gICAxMTZcdFxuICAgMTE3XHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDExOFx0ICAgICAgdmFyIGxvY2FsX2FjdGlvbiA9IGZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1tpXV07XG4gICAxMTlcdFxuICAgMTIwXHQgICAgICBpZiAobG9jYWxfYWN0aW9uLm9yZGVyID09IG9yZGVyKSB7XG4gICAxMjFcdCAgICAgICAgcmV0dXJuX2FjdGlvbnMucHVzaChsb2NhbF9hY3Rpb24pO1xuICAgMTIyXHQgICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2ldKTtcbiAgIDEyM1x0ICAgICAgfVxuICAgMTI0XHQgICAgfVxuLi4uXG4gICAyNTFcdFxuICAgMjUyXHQgIC8qKlxuICAgMjUzXHQgICAqIGdldFZhcmlhYmxlQWN0aW9uc05hdmlnYXRpb25PYmplY3QoKSAtIEZldGNoZXMgdGhlIG5hdmlnYXRpb24gb2JqZWN0IGZvciB2YXJpYWJsZSBhY3Rpb25zOyB0aGUgaW5pdGlhbCBjb250ZXh0IG1lbnUgZnJvbSBsb3dlc3Qgb3JkZXIuXG4gICAyNTRcdCAgICogXG4gICAyNTVcdCAgICogQHJldHVybnMge09iamVjdH1cbiAgIDI1Nlx0ICAgKi9cbiAgIDI1N1x0ICBmdW5jdGlvbiBnZXRWYXJpYWJsZUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0ICgpIHtcbiAgIDI1OFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDI1OVx0ICAgIHZhciBmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucztcbiAgIDI2MFx0ICAgIHZhciBsb3dlc3Rfb3JkZXIgPSBnZXRWYXJpYWJsZUFjdGlvbnNMb3dlc3RPcmRlcihmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyk7XG4gICAyNjFcdFxuICAgMjYyXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAyNjNcdCAgICByZXR1cm4gZ2V0VmFyaWFibGVBY3Rpb25zQXRPcmRlcih7IG9yZGVyOiBsb3dlc3Rfb3JkZXIgfSlbMF07XG4gICAyNjRcdCAgfVxuICAgMjY1XHR9Li4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gZW50aXR5VmFyaWFibGVFeGlzdHMgKGFyZzBfZW50aXR5X2lkLCBhcmcxX3ZhcmlhYmxlX2lkKSB7XG4gICAgIDRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgIDVcdCAgICB2YXIgZW50aXR5X2lkID0gYXJnMF9lbnRpdHlfaWQ7XG4gICAgIDZcdCAgICB2YXIgdmFyaWFibGVfaWQgPSBhcmcxX3ZhcmlhYmxlX2lkO1xuICAgICA3XHQgICAgXG4gICAgIDhcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgIDlcdCAgICB2YXIgYWxsX2VudGl0eV92YXJpYWJsZXMgPSBnZXRBbGxFbnRpdHlWYXJpYWJsZXMoZW50aXR5X2lkKTtcbiAgICAxMFx0XG4gICAgMTFcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICAxMlx0ICAgIHJldHVybiBhbGxfZW50aXR5X3ZhcmlhYmxlcy5pbmNsdWRlcyh2YXJpYWJsZV9pZCk7XG4gICAgMTNcdCAgfVxuICAgIDE0XHRcbiAgICAxNVx0ICAvKipcbiAgICAxNlx0ICAgKiBnZXRBbGxFbnRpdHlWYXJpYWJsZXMoKSAtIFJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHVuaXF1ZSBlbnRpdHkgdmFyaWFibGVzIGZvciBhIGdpdmVuIGVudGl0eS5cbiAgICAxN1x0ICAgKiBAcGFyYW0ge1N0cmluZ30gYXJnMF9lbnRpdHlfaWRcbiAgICAxOFx0ICAgKiBcbiAgICAxOVx0ICAgKiBAcmV0dXJucyB7QXJyYXk8U3RyaW5nPn1cbiAgICAyMFx0ICAgKi9cbiAgICAyMVx0ICBmdW5jdGlvbiBnZXRBbGxFbnRpdHlWYXJpYWJsZXMgKGFyZzBfZW50aXR5X2lkKSB7XG4gICAgMjJcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgMjNcdCAgICB2YXIgZW50aXR5X2lkID0gYXJnMF9lbnRpdHlfaWQ7XG4gICAgMjRcdFxuICAgIDI1XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDI2XHQgICAgdmFyIGVudGl0eV9vYmogPSBnZXRFbnRpdHkoZW50aXR5X2lkKTtcbiAgICAyN1x0ICAgIHZhciB1bmlxdWVfdmFyaWFibGVzID0gW107XG4gICAgMjhcdFxuICAgIDI5XHQgICAgaWYgKGVudGl0eV9vYmopXG4gICAgMzBcdCAgICAgIGlmIChlbnRpdHlfb2JqLm9wdGlvbnMpXG4gICAgMzFcdCAgICAgICAgaWYgKGVudGl0eV9vYmoub3B0aW9ucy5oaXN0b3J5KSB7XG4gICAgMzJcdCAgICAgICAgICB2YXIgYWxsX2hpc3RvcnlfZnJhbWVzID0gT2JqZWN0LmtleXMoZW50aXR5X29iai5vcHRpb25zLmhpc3RvcnkpO1xuICAgIDMzXHRcbiAgICAzNFx0ICAgICAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9oaXN0b3J5X2ZyYW1lc1xuICAgIDM1XHQgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfaGlzdG9yeV9mcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAzNlx0ICAgICAgICAgICAgdmFyIGxvY2FsX2hpc3RvcnlfZnJhbWUgPSBlbnRpdHlfb2JqLm9wdGlvbnMuaGlzdG9yeVthbGxfaGlzdG9yeV9mcmFtZXNbaV1dO1xuICAgIDM3XHQgICAgICAgICAgICBcbiAgICAzOFx0ICAgICAgICAgICAgaWYgKGxvY2FsX2hpc3RvcnlfZnJhbWUpXG4gICAgMzlcdCAgICAgICAgICAgICAgaWYgKGxvY2FsX2hpc3RvcnlfZnJhbWUub3B0aW9ucylcbiAgICA0MFx0ICAgICAgICAgICAgICAgIGlmIChsb2NhbF9oaXN0b3J5X2ZyYW1lLm9wdGlvbnMudmFyaWFibGVzKSB7XG4gICAgNDFcdCAgICAgICAgICAgICAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9sb2NhbF92YXJpYWJsZXMgcGVyIGhpc3RvcnkgZnJhbWVcbiAgICA0Mlx0ICAgICAgICAgICAgICAgICAgdmFyIGFsbF9sb2NhbF92YXJpYWJsZXMgPSBPYmplY3Qua2V5cyhsb2NhbF9oaXN0b3J5X2ZyYW1lLm9wdGlvbnMudmFyaWFibGVzKTtcbiAgICA0M1x0XG4gICAgNDRcdCAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgYWxsX2xvY2FsX3ZhcmlhYmxlcy5sZW5ndGg7IHgrKylcbiAgICA0NVx0ICAgICAgICAgICAgICAgICAgICBpZiAoIXVuaXF1ZV92YXJpYWJsZXMuaW5jbHVkZXMoYWxsX2xvY2FsX3ZhcmlhYmxlc1t4XSkpXG4gICAgNDZcdCAgICAgICAgICAgICAgICAgICAgICB1bmlxdWVfdmFyaWFibGVzLnB1c2goYWxsX2xvY2FsX3ZhcmlhYmxlc1t4XSk7XG4gICAgNDdcdCAgICAgICAgICAgICAgICB9XG4gICAgNDhcdCAgICAgICAgICB9XG4gICAgNDlcdCAgICAgICAgfVxuICAgIDUwXHQgICAgXG4gICAgNTFcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICA1Mlx0ICAgIHJldHVybiB1bmlxdWVfdmFyaWFibGVzO1xuICAgIDUzXHQgIH1cbiAgICA1NFx0fVxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2JydXNoL2JydXNoX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0RlY2xhcmUgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBhZGRUb0JydXNoIChhcmcwX3BvbHlnb24sIGFyZzFfZG9fbm90X2FkZF90b191bmRvX3JlZG8pIHtcbiAgICAgNFx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAgNVx0ICAgIHZhciBwb2x5Z29uID0gYXJnMF9wb2x5Z29uO1xuICAgICA2XHQgICAgdmFyIGRvX25vdF9hZGRfdG9fdW5kb19yZWRvID0gYXJnMV9kb19ub3RfYWRkX3RvX3VuZG9fcmVkbztcbiAgICAgN1x0XG4gICAgIDhcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgIDlcdCAgICB2YXIgYnJ1c2hfb2JqID0gbWFpbi5icnVzaDtcbiAgICAxMFx0ICAgIHZhciBvbGRfYnJ1c2hfb2JqID0gKGJydXNoX29iai5jdXJyZW50X3BhdGgpID9cbiAgICAxMVx0ICAgICAgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShicnVzaF9vYmouY3VycmVudF9wYXRoKSkgOiB1bmRlZmluZWQ7XG4gICAgMTJcdFxuICAgIDEzXHQgICAgdHJ5IHtcbiAgICAxNFx0ICAgICAgLy8xLiBJbml0aWFsaXNlIGJydXNoLmN1cnJlbnRfcGF0aCBpZiBub3QgZGVmaW5lZDsgcHJvY2VzcyBnZW9tZXRyeSBtYXNrc1xuICAgIDE1XHQgICAgICBwb2x5Z29uID0gcHJvY2Vzc0JydXNoKHBvbHlnb24pO1xuICAgIDE2XHRcbiAgICAxN1x0ICAgICAgLy8yLiBNYWtlIHN1cmUgaW50ZXJzZWN0aW9uX3BvbHlnb24gaXMgZGVmaW5lZCBmb3IgZGVsdGFfcG9seWdvbiB1c2VcbiAgICAxOFx0ICAgICAgdmFyIGludGVyc2VjdGlvbl9wb2x5Z29uO1xuICAgIDE5XHQgICAgICB0cnkgeyBpbnRlcnNlY3Rpb25fcG9seWdvbiA9IGludGVyc2VjdGlvbihicnVzaF9vYmouY3VycmVudF9wYXRoLCBwb2x5Z29uKTsgfSBjYXRjaCAoZSkge31cbiAgICAyMFx0XG4gICAgMjFcdCAgICAgIC8vMy4gTWFyayBicnVzaCBjaGFuZ2UgYW5kIHVuaW9uIHdpdGggcG9seWdvblxuICAgIDIyXHQgICAgICBicnVzaF9vYmouYnJ1c2hfY2hhbmdlID0gdHJ1ZTtcbiAgICAyM1x0XG4gICAgMjRcdCAgICAgIC8vNC4gQWRkIHRvIGFjdGlvbnNcbiAgICAyNVx0ICAgICAgdmFyIGRlbHRhX3BvbHlnb247XG4gICAgMjZcdCAgICAgIGlmIChwb2x5Z29uKVxuICAgIDI3XHQgICAgICAgIHRyeSB7IGRlbHRhX3BvbHlnb24gPSBkaWZmZXJlbmNlKHBvbHlnb24sIGludGVyc2VjdGlvbl9wb2x5Z29uKTsgfSBjYXRjaCAoZSkge31cbi4uLlxuICAgIDQ5XHQgICAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbCBtYWluLmNhY2hlLm9sZF9tYXNrX2NoYW5nZXNcbiAgICA1MFx0ICAgICAgICBpZiAobWFpbi5jYWNoZS5vbGRfbWFza19jaGFuZ2VzKVxuICAgIDUxXHQgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYWluLmNhY2hlLm9sZF9tYXNrX2NoYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgNTJcdCAgICAgICAgICAgIHJlZG9fZnVuY3Rpb25fcGFyYW1ldGVycy5wdXNoKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWFpbi5jYWNoZS5vbGRfbWFza19jaGFuZ2VzW2ldKSkpO1xuICAgIDUzXHQgICAgICAgIG1haW4uY2FjaGUub2xkX21hc2tfY2hhbmdlcyA9IFtdO1xuICAgIDU0XHRcbiAgICA1NVx0ICAgICAgICBwZXJmb3JtQWN0aW9uKHtcbiAgICA1Nlx0ICAgICAgICAgIGFjdGlvbl9pZDogXCJhZGRfdG9fYnJ1c2hcIixcbiAgICA1N1x0ICAgICAgICAgIHJlZG9fZnVuY3Rpb246IFwic2V0RW50aXRpZXNDb29yZHNcIixcbiAgICA1OFx0ICAgICAgICAgIHJlZG9fZnVuY3Rpb25fcGFyYW1ldGVyczogW3VuZG9fZnVuY3Rpb25fcGFyYW1ldGVyc10sXG4gICAgNTlcdCAgICAgICAgICB1bmRvX2Z1bmN0aW9uOiBcInNldEVudGl0aWVzQ29vcmRzXCIsXG4gICAgNjBcdCAgICAgICAgICB1bmRvX2Z1bmN0aW9uX3BhcmFtZXRlcnM6IFtyZWRvX2Z1bmN0aW9uX3BhcmFtZXRlcnNdXG4gICAgNjFcdCAgICAgICAgfSk7XG4gICAgNjJcdCAgICAgIH1cbiAgICA2M1x0ICAgIH0gY2F0Y2ggKGUpIHtcbiAgICA2NFx0ICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgNjVcdCAgICB9XG4gICAgNjZcdFxuICAgIDY3XHQgICAgLy9SZWZyZXNoIGJydXNoIGlmIGFjdGlvbiB3YXMgY2FsbGVkIGZyb20gVW5kby9SZWRvXG4gICAgNjhcdCAgICBpZiAoZG9fbm90X2FkZF90b191bmRvX3JlZG8pXG4gICAgNjlcdCAgICAgIHJlZnJlc2hCcnVzaCgpO1xuICAgIDcwXHRcbiAgICA3MVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDcyXHQgICAgcmV0dXJuIHBvbHlnb247XG4gICAgNzNcdCAgfVxuLi4uXG4gICAgOTVcdFxuICAgIDk2XHQgIGZ1bmN0aW9uIGRpc2FibGVCcnVzaCAoKSB7XG4gICAgOTdcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgOThcdCAgICB2YXIgYnJ1c2hfb2JqID0gbWFpbi5icnVzaDtcbiAgICA5OVx0XG4gICAxMDBcdCAgICAvL1NldCBicnVzaF9vYmouZGlzYWJsZV9icnVzaFxuICAgMTAxXHQgICAgYnJ1c2hfb2JqLmRpc2FibGVfYnJ1c2ggPSB0cnVlO1xuICAgMTAyXHQgICAgaWYgKGJydXNoX29iai5jdXJzb3IpXG4gICAxMDNcdCAgICAgIGJydXNoX29iai5jdXJzb3IucmVtb3ZlKCk7XG4gICAxMDRcdCAgICB0cnkgeyByZWZyZXNoQnJ1c2hBY3Rpb25zKCk7IH0gY2F0Y2ggKGUpIHt9XG4gICAxMDVcdCAgfVxuICAgMTA2XHRcbiAgIDEwN1x0ICBmdW5jdGlvbiBlbmFibGVCcnVzaCAoKSB7XG4gICAxMDhcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxMDlcdCAgICB2YXIgYnJ1c2hfb2JqID0gbWFpbi5icnVzaDtcbiAgIDExMFx0ICAgIFxuICAgMTExXHQgICAgLy9EZWxldGUgYnJ1c2hfb2JqLmRpc2FibGVfYnJ1c2hcbiAgIDExMlx0ICAgIGRlbGV0ZSBicnVzaF9vYmouZGlzYWJsZV9icnVzaDtcbiAgIDExM1x0ICAgIGlmIChicnVzaF9vYmouY3Vyc29yKVxuICAgMTE0XHQgICAgICBicnVzaF9vYmouY3Vyc29yLnJlbW92ZSgpO1xuICAgMTE1XHQgICAgdHJ5IHsgcmVmcmVzaEJydXNoQWN0aW9ucygpOyB9IGNhdGNoIChlKSB7fVxuICAgMTE2XHQgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9wYXJzaW5nX2ZyYW1ld29yay5qc1xuLi4uXG4gICA0MjlcdFxuICAgNDMwXHQgIC8qXG4gICA0MzFcdCAgICBwYXJzZVZhcmlhYmxlU3RyaW5nKCkgLSBQYXJzZXMgYSB2YXJpYWJsZSBzdHJpbmcgYW5kIHJldHVybnMgaXRzIHJlc29sdmVkIHZhbHVlLlxuICAgNDMyXHQgICAgYXJnMF9zdHJpbmc6IChTdHJpbmcpIC0gVGhlIHN0cmluZyB3aGljaCB0byByZXNvbHZlLlxuICAgNDMzXHQgICAgYXJnMV9vcHRpb25zOiAoT2JqZWN0KVxuICAgNDM0XHQgICAgICA8a2V5PjogKFZhcmlhYmxlKVxuICAgNDM1XHQgICAgICByZWdleF9yZXBsYWNlOiAoT2JqZWN0KVxuICAgNDM2XHQgICAgICAgIDxrZXk+OiAoVmFyaWFibGUpXG4gICA0MzdcdFxuICAgNDM4XHQgICAgUmV0dXJuczogKFZhcmlhYmxlKVxuICAgNDM5XHQgICovXG4gICA0NDBcdCAgZnVuY3Rpb24gcGFyc2VWYXJpYWJsZVN0cmluZyAoYXJnMF9zdHJpbmcsIGFyZzFfb3B0aW9ucykgeyAvL1tXSVBdIC0gU29tZXRoaW5nIGhlcmUgaXMgd3JvbmcgYXMgaXQgcmV0dXJucyBIVE1MRWxlbWVudCBpbiBzb21lIGNhc2VzLlxuICAgNDQxXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgNDQuLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI0ODAxM2ZmNy00ZDM3LTQzYTMtYjljZi1lNzBiN2UxY2FiYjk7dG9vbHVfdnJ0eF8wMTJIdkxxQTQ3VVI5RVUyZExnQXVSNEYiOnsicmVxdWVzdElkIjoiNDgwMTNmZjctNGQzNy00M2EzLWI5Y2YtZTcwYjdlMWNhYmI5IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTJIdkxxQTQ3VVI5RVUyZExnQXVSNEYiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvVUYvanMvZmlsZXMvYmFzaWNfZmlsZXMuanNcbi4uLlxuICAgIDEyXHRcbiAgICAxM1x0ICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTRcdCAgdmFyIGZpbGVfYXJyYXkgPSBbXTtcbiAgICAxNVx0XG4gICAgMTZcdCAgICB0cnkge1xuICAgIDE3XHQgICAgICB2YXIgZmlsZXMgPSBmcy5yZWFkZGlyU3luYyhmb2xkZXIpO1xuICAgIDE4XHRcbiAgICAxOVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgIDIwXHQgICAgICAgIC8vU2VsZi1yZWZlcmVuY2UgdG8gZmV0Y2ggZmlsZXMgaW4gc3ViLWRpcmVjdG9yaWVzXG4gICAgMjFcdCAgICAgICAgbG9jYWxfZGlyX2FycmF5ID0gKGZzLnN0YXRTeW5jKGZvbGRlciArIFwiXFxcXFwiICsgZmlsZXNbaV0pLmlzRGlyZWN0b3J5KCkpID8gZ2V0QWxsRmlsZXMoZm9sZGVyICsgXCJcXFxcXCIgKyBmaWxlc1tpXSkgOiBmaWxlX2FycmF5LnB1c2gocGF0aC5qb2luKGZvbGRlciwgXCJcXFxcXCIsIGZpbGVzW2ldKSk7XG4gICAgMjJcdFxuICAgIDIzXHQgICAgICAgIC8vQWRkIGZpbGVzIGZyb20gbG9jYWxfZGlyX2FycmF5IHRvIGZpbGVfYXJyYXlcbiAgICAyNFx0ICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGxvY2FsX2Rpcl9hcnJheS5sZW5ndGg7IHgrKylcbiAgICAyNVx0ICAgICAgICAgIGZpbGVfYXJyYXkucHVzaChsb2NhbF9kaXJfYXJyYXlbeF0pO1xuICAgIDI2XHQgICAgICB9XG4gICAgMjdcdCAgICB9IGNhdGNoIChlKSB7XG4gICAgMjhcdCAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIDI5XHQgICAgfVxuICAgIDMwXHRcbiAgICAzMVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDMyXHQgICAgcmV0dXJuIGZpbGVfYXJyYXk7XG4gICAgMzNcdH1cbiAgICAzNFx0XG4gICAgMzVcdGZ1bmN0aW9uIGdldEFsbERyaXZlcyAoKSB7XG4gICAgMzZcdCAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDM3XHQgIHZhciBjdXJyZW50X29zID0gcHJvY2Vzcy5wbGF0Zm9ybTtcbi4uLlxuICAgMTQ4XHRcbiAgIDE0OVx0ICAgIC8vTG9hZCBlYWNoIGxvYWQgZGlyZWN0b3J5IHNlcGFyYXRlbHlcbiAgIDE1MFx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9hZF9vcmRlci5sb2FkX2RpcmVjdG9yaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAxNTFcdCAgICAgIHZhciBkaXJfcGF0dGVybiA9IGxvYWRfb3JkZXIubG9hZF9kaXJlY3Rvcmllc1tpXTtcbiAgIDE1Mlx0ICAgICAgXG4gICAxNTNcdCAgICAgIC8vU3BsaXQgdGhlIHBhdHRlcm4gaW50byBkaXJlY3RvcnkgYW5kIGZpbGUgcGF0dGVyblxuICAgMTU0XHQgICAgICB2YXIgbGFzdF9zbGFzaCA9IGRpcl9wYXR0ZXJuLmxhc3RJbmRleE9mKCcvJyk7XG4gICAxNTVcdCAgICAgIHZhciBiYXNlX2RpciA9IGRpcl9wYXR0ZXJuO1xuICAgMTU2XHQgICAgICB2YXIgZmlsZV9wYXR0ZXJuID0gJyouanMnOyAvLyBEZWZhdWx0IHBhdHRlcm5cbiAgIDE1N1x0ICAgICAgXG4gICAxNThcdCAgICAgIC8vSWYgdGhlcmUncyBhIHBhdHRlcm4gaW4gdGhlIHBhdGgsIHVzZSBpdCBpbnN0ZWFkXG4gICAxNTlcdCAgICAgIGlmIChsYXN0X3NsYXNoICE9PSAtMSkge1xuICAgMTYwXHQgICAgICAgIGJhc2VfZGlyID0gZGlyX3BhdHRlcm4uc3Vic3RyaW5nKDAsIGxhc3Rfc2xhc2gpO1xuICAgMTYxXHQgICAgICAgIGZpbGVfcGF0dGVybiA9IGRpcl9wYXR0ZXJuLnN1YnN0cmluZyhsYXN0X3NsYXNoICsgMSk7XG4gICAxNjJcdCAgICAgIH1cbiAgIDE2M1x0ICAgICAgXG4gICAxNjRcdCAgICAgIHZhciBsb2NhbF9kaXIgPSBgJHtfX2Rpcm5hbWV9XFxcXCR7YmFzZV9kaXJ9YDtcbiAgIDE2NVx0ICAgICAgdmFyIGFsbF9kaXJlY3RvcnlfZmlsZXMgPSBnZXRBbGxGaWxlcyhsb2NhbF9kaXIpO1xuICAgMTY2XHQgICAgICBcbiAgIDE2N1x0ICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBhbGxfZGlyZWN0b3J5X2ZpbGVzLmxlbmd0aDsgeCsrKSB7XG4gICAxNjhcdCAgICAgICAgLy9Ta2lwIGlmIGZpbGUgaXMgYWxyZWFkeSBsb2FkZWRcbiAgIDE2OVx0ICAgICAgICBpZiAobG9hZGVkX2ZpbGVzLmluY2x1ZGVzKGFsbF9kaXJlY3RvcnlfZmlsZXNbeF0pKSBjb250aW51ZTtcbiAgIDE3MFx0ICAgICAgICBcbiAgIDE3MVx0ICAgICAgICAvL0dldCBqdXN0IHRoZSBmaWxlbmFtZSBmcm9tIHRoZSBmdWxsIHBhdGhcbiAgIDE3Mlx0ICAgICAgICB2YXIgZmlsZW5hbWUgPSBhbGxfZGlyZWN0b3J5X2ZpbGVzW3hdLnNwbGl0KCdcXFxcJykucG9wKCk7XG4gICAxNzNcdCAgICAgICAgXG4gICAxNzRcdCAgICAgICAgLy9Db252ZXJ0IGdsb2IgcGF0dGVybiB0byByZWdleFxuICAgMTc1XHQgICAgICAgIHZhciBwYXR0ZXJuID0gZmlsZV9wYXR0ZXJuXG4gICAxNzZcdCAgICAgICAgICAucmVwbGFjZSgvXFwuL2csICdcXFxcLicpIC8vIEVzY2FwZSBkb3RzXG4gICAxNzdcdCAgICAgICAgICAucmVwbGFjZSgvXFwqL2csICcuKicpICAvLyBDb252ZXJ0ICogdG8gLipcbiAgIDE3OFx0ICAgICAgICAgIC5yZXBsYWNlKC9cXD8vZywgJy4nKTsgIC8vIENvbnZlcnQgPyB0byAuXG4gICAxNzlcdCAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnXicgKyBwYXR0ZXJuICsgJyQnKTtcbiAgIDE4MFx0ICAgICAgICBcbiAgIDE4MVx0ICAgICAgICAvL09ubHkgbG9hZCBpZiBmaWxlIG1hdGNoZXMgcGF0dGVyblxuICAgMTgyXHQgICAgICAgIGlmICghcmVnZXgudGVzdChmaWxlbmFtZSkpIGNvbnRpbnVlO1xuICAgMTgzXHQgICAgICAgIFxuICAgMTg0XHQgICAgICAgIGxvYWRGaWxlKGFsbF9kaXJlY3RvcnlfZmlsZXNbeF0pO1xuICAgMTg1XHQgICAgICAgIGxvYWRlZF9maWxlcy5wdXNoKGFsbF9kaXJlY3RvcnlfZmlsZXNbeF0pO1xuICAgMTg2XHQgICAgICB9XG4gICAxODdcdCAgICB9XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvb3B0aW1pc2F0aW9uX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0RlY2xhcmUgZnVuY3Rpb25cbiAgICAgMlx0e1xuICAgICAzXHQgIGZ1bmN0aW9uIGluaXRPcHRpbWlzYXRpb24gKCkge1xuICAgICA0XHQgICAgLy9CUlVTSCBBQ1RJT05TXG4gICAgIDVcdCAgICAvL1NldCAuYWxsX2JydXNoX2FjdGlvbnM7IC5hbGxfYnJ1c2hfYWN0aW9uc19rZXlzXG4gICAgIDZcdCAgICBjb25maWcuZmxhdHRlbmVkX2JydXNoX2FjdGlvbnMgPSBkdW1iRmxhdHRlbk9iamVjdChjb25maWcuYnJ1c2hfYWN0aW9ucyk7XG4gICAgIDdcdFxuICAgICA4XHQgICAgY29uZmlnLmFsbF9icnVzaF9hY3Rpb25zID0gZ2V0QWxsQnJ1c2hBY3Rpb25zKCk7XG4gICAgIDlcdCAgICBjb25maWcuYWxsX2JydXNoX2FjdGlvbnNfa2V5cyA9IGdldEFsbEJydXNoQWN0aW9ucyh7IHJldHVybl9rZXlzOiB0cnVlIH0pO1xuICAgIDEwXHQgICAgY29uZmlnLmJydXNoX2FjdGlvbnNfbG93ZXN0X29yZGVyID0gZ2V0QnJ1c2hBY3Rpb25zTG93ZXN0T3JkZXIoKTtcbiAgICAxMVx0XG4gICAgMTJcdCAgICAvL0VOVElUWSBBQ1RJT05TXG4gICAgMTNcdCAgICAvL1NldCAuYWxsX2VudGl0eV9hY3Rpb25zOyAuYWxsX2VudGl0eV9hY3Rpb25zX2tleXNcbiAgICAxNFx0ICAgIGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBkdW1iRmxhdHRlbk9iamVjdChjb25maWcuZW50aXR5X2FjdGlvbnMpO1xuICAgIDE1XHRcbiAgICAxNlx0ICAgIGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnMgPSBnZXRBbGxFbnRpdHlBY3Rpb25zKCk7XG4gICAgMTdcdCAgICBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zX2tleXMgPSBnZXRBbGxFbnRpdHlBY3Rpb25zKHsgcmV0dXJuX2tleXM6IHRydWUgfSk7XG4gICAgMThcdCAgICBjb25maWcuZW50aXR5X2FjdGlvbnNfbG93ZXN0X29yZGVyID0gZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyKCk7XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvdmFyaWFibGVzL3ZhcmlhYmxlX2FjdGlvbnNfZnJhbWV3b3JrLmpzXG4uLi5cbiAgICA3MFx0XG4gICAgNzFcdCAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgICA3Mlx0ICAgIHtcbiAgICA3M1x0ICAgICAgLy9JdGVyYXRlIG92ZXIgY29uZmlnLmFsbF92YXJpYWJsZV9hY3Rpb25zXG4gICAgNzRcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgNzVcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF92YXJpYWJsZV9hY3Rpb25zW2ldO1xuICAgIDc2XHRcbiAgICA3N1x0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgICA3OFx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgIDc5XHQgICAgICAgICAgICB2YXJpYWJsZV9hY3Rpb25fZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAgODBcdCAgICAgIH1cbiAgICA4MVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICA4Mlx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV07XG4gICAgODNcdCAgICAgICAgXG4gICAgODRcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAgODVcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgIDg2XHQgICAgICAgICAgICB2YXJpYWJsZV9hY3Rpb25fZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAgODdcdCAgICAgIH1cbiAgICA4OFx0ICAgIH1cbiAgICA4OVx0XG4gICAgOTBcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICA5MVx0ICAgIGlmICh2YXJpYWJsZV9hY3Rpb25fZXhpc3RzWzBdKVxuICAgIDkyXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW3ZhcmlhYmxlX2FjdGlvbl9leGlzdHNbMV1dIDogdmFyaWFibGVfYWN0aW9uX2V4aXN0c1sxXTtcbiAgICA5M1x0ICB9XG4uLi5cbiAgIDE1NFx0XG4gICAxNTVcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxNTZcdCAgICB2YXIgYWxsX3ZhcmlhYmxlX2FjdGlvbnMgPSBPYmplY3Qua2V5cyhjb25maWcudmFyaWFibGVzKTtcbiAgIDE1N1x0ICAgIHZhciB2YXJpYWJsZV9hY3Rpb25zX2V4aXN0cyA9IFtmYWxzZSwgXCJcIl07IC8vW3ZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzLCB2YXJpYWJsZV9hY3Rpb25zX2tleV07XG4gICAxNThcdCAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgMTU5XHRcbiAgIDE2MFx0ICAgIC8vSUQgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDE2MVx0ICAgIHtcbiAgIDE2Mlx0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX3ZhcmlhYmxlX2FjdGlvbnNcbiAgIDE2M1x0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfdmFyaWFibGVfYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgIDE2NFx0ICAgICAgICBpZiAoYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxNjVcdCAgICAgICAgICB2YXJpYWJsZV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfdmFyaWFibGVfYWN0aW9uc1tpXV07XG4gICAxNjZcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspXG4gICAxNjdcdCAgICAgICAgaWYgKGFsbF92YXJpYWJsZV9hY3Rpb25zW2ldLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAxNjhcdCAgICAgICAgICB2YXJpYWJsZV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfdmFyaWFibGVfYWN0aW9uc1tpXV07XG4gICAxNjlcdCAgICB9XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvYnJ1c2gvYnJ1c2hfYWN0aW9uc19mcmFtZXdvcmsuanNcbi4uLlxuICAgIDcwXHRcbiAgICA3MVx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgIDcyXHQgICAge1xuICAgIDczXHQgICAgICAvL0l0ZXJhdGUgb3ZlciBjb25maWcuYWxsX2JydXNoX2FjdGlvbnNcbiAgICA3NFx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX2JydXNoX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICA3NVx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX2JydXNoX2FjdGlvbnNbaV07XG4gICAgNzZcdFxuICAgIDc3XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgIDc4XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAgNzlcdCAgICAgICAgICAgIGJydXNoX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAgODBcdCAgICAgIH1cbiAgICA4MVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX2JydXNoX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICA4Mlx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX2JydXNoX2FjdGlvbnNbaV07XG4gICAgODNcdFxuICAgIDg0XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgIDg1XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgICA4Nlx0ICAgICAgICAgICAgYnJ1c2hfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA4N1x0ICAgICAgfVxuICAgIDg4XHQgICAgfVxuICAgIDg5XHRcbiAgICA5MFx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDkxXHQgICAgaWYgKGJydXNoX2FjdGlvbnNfZXhpc3RzWzBdKVxuICAgIDkyXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmZsYXR0ZW5lZF9icnVzaF9hY3Rpb25zW2JydXNoX2FjdGlvbnNfZXhpc3RzWzFdXSA6IGJydXNoX2FjdGlvbnNfZXhpc3RzWzFdO1xuICAgIDkzXHQgIH1cbi4uLlxuICAgMTcxXHRcbiAgIDE3Mlx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgMTczXHQgICAge1xuICAgMTc0XHQgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfYnJ1c2hfYWN0aW9uc1xuICAgMTc1XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9icnVzaF9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxNzZcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmJydXNoX2FjdGlvbnNbYWxsX2JydXNoX2FjdGlvbnNbaV1dO1xuICAgMTc3XHRcbiAgIDE3OFx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgIDE3OVx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgMTgwXHQgICAgICAgICAgICBicnVzaF9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfYnJ1c2hfYWN0aW9uc1tpXV07XG4gICAxODFcdCAgICAgIH1cbiAgIDE4Mlx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfYnJ1c2hfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgMTgzXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5icnVzaF9hY3Rpb25zW2FsbF9icnVzaF9hY3Rpb25zW2ldXTtcbiAgIDE4NFx0XG4gICAxODVcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxODZcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMTg3XHQgICAgICAgICAgICBicnVzaF9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfYnJ1c2hfYWN0aW9uc1tpXV07XG4gICAxODhcdCAgICAgIH1cbiAgIDE4OVx0ICAgIH1cbiAgIDE5MFx0XG4gICAxOTFcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDE5Mlx0ICAgIGlmIChicnVzaF9hY3Rpb25zX2V4aXN0c1swXSlcbiAgIDE5M1x0ICAgICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy5icnVzaF9hY3Rpb25zW2JydXNoX2FjdGlvbnNfZXhpc3RzWzFdXSA6IGJydXNoX2FjdGlvbnNfZXhpc3RzWzFdO1xuICAgMTk0XHQgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanNcbi4uLlxuICAgMTcxXHRcbiAgIDE3Mlx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgMTczXHQgICAge1xuICAgMTc0XHQgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZW50aXR5X2FjdGlvbnNcbiAgIDE3NVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDE3Nlx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuZW50aXR5X2FjdGlvbnNbYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcbiAgIDE3N1x0XG4gICAxNzhcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxNzlcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgIDE4MFx0ICAgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcbiAgIDE4MVx0ICAgICAgfVxuICAgMTgyXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgMTgzXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5lbnRpdHlfYWN0aW9uc1thbGxfZW50aXR5X2FjdGlvbnNbaV1dO1xuICAgMTg0XHRcbiAgIDE4NVx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgIDE4Nlx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAxODdcdCAgICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfZW50aXR5X2tleWZyYW1lc1tpXV07XG4gICAxODhcdCAgICAgIH1cbiAgIDE4OVx0ICAgIH1cbiAgIDE5MFx0XG4gICAxOTFcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDE5Mlx0ICAgIGlmIChlbnRpdHlfYWN0aW9uc19leGlzdHNbMF0pXG4gICAxOTNcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZW50aXR5X2FjdGlvbnNbZW50aXR5X2FjdGlvbnNfZXhpc3RzWzFdXSA6IGVudGl0eV9hY3Rpb25zX2V4aXN0c1sxXTtcbiAgIDE5NFx0ICB9XG4uLi5cblBhdGg6IHNyYy9qcy9zdGFydHVwLmpzXG4gICAgIDFcdC8vSW1wb3J0IG1vZHVsZXNcbiAgICAgMlx0d2luZG93LmNoaWxkX3Byb2Nlc3MgPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTtcbiAgICAgM1x0d2luZG93LmZzID0gcmVxdWlyZShcImZzXCIpO1xuICAgICA0XHR3aW5kb3cucGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuICAgICA1XHRcbiAgICAgNlx0Ly9Mb2FkIGNvbmZpZ1xuICAgICA3XHR7XG4gICAgIDhcdCAgZ2xvYmFsLmxvYWRfb3JkZXIgPSB7XG4gICAgIDlcdCAgICBsb2FkX2RpcmVjdG9yaWVzOiBbXG4gICAgMTBcdCAgICAgIFwiY29uZmlnXCIsXG4gICAgMTFcdCAgICAgIFwiLi9qcy9pbnRlcmZhY2UvKl9jb25maWcuanNcIixcbiAgICAxMlx0ICAgICAgXCJVRlwiXG4gICAgMTNcdCAgICBdLFxuICAgIDE0XHQgICAgbG9hZF9maWxlczogW1xuICAgIDE1XHQgICAgICBcIi5jb25maWdfYmFja2VuZC5qc1wiXG4gICAgMTZcdCAgICBdXG4gICAgMTdcdCAgfTtcbiAgICAxOFx0ICBsb2FkQ29uZmlnKCk7XG4gICAgMTlcdH1cbiAgICAyMFx0XG4gICAgMjFcdC8vSW5pdCBnbG9iYWxcbiAgICAyMlx0e1xuICAgIDIzXHQgIC8vRGVjbGFyZSBsb2NhbCBpbml0aWFsaXNhdGlvbiBjb25zdGFudHNcbiAgICAyNFx0ICB2YXIgY3VycmVudF9kYXRlID0gbmV3IERhdGUoKTtcbiAgICAyNVx0XG4gICAgMjZcdCAgLy9Jbml0aWFsaXNlIGdsb2JhbC5pbnRlcmZhY2VzXG4gICAgMjdcdCAgZ2xvYmFsLmludGVyZmFjZXMgPSB7fTtcbiAgICAyOFx0XG4gICAgMjlcdCAgLy9Jbml0aWFsaXNlIGdsb2JhbC5tYWluXG4gICAgMzBcdCAgZ2xvYmFsLm1haW4gPSB7fTtcbi4uLlxuUGF0aDogc3JjL1VGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgLyoqXG4gICAgIDRcdCAgICogY3JlYXRlU2VjdGlvbigpIC0gQ3JlYXRlcyBhIGZvbGRhYmxlIGVsZW1lbnQgdGhhdCBjYW4gYmUgbWluaW1pc2VkL2V4cGFuZGVkLlxuICAgICA1XHQgICAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnMF9vcHRpb25zXVxuICAgICA2XHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5leHBhbmRfY2xhc3M9XCJ1Zi1leHBhbmRlZFwiXSAtIFRoZSBjbGFzcyB0byBhZGQgd2hlbiB0aGUgc2VjdGlvbiBpcyBleHBhbmRlZC5cbiAgICAgN1x0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMubWluaW1pc2VfY2xhc3M9XCJ1Zi1taW5pbWlzZWRcIl0gLSBUaGUgY2xhc3MgdG8gYWRkIHdoZW4gdGhlIHNlY3Rpb24gaXMgY29sbGFwc2VkLlxuICAgICA4XHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5zZWxlY3Rvcl0gLSBUaGUgc2VsZWN0b3Igb2YgdGhlIGVsZW1lbnRzIHRoYXQgY2FuIGJlIG1pbmltaXNlZC9leHBhbmRlZC4gTm90ZSB0aGF0IHRoZSBmaXJzdCBlbGVtZW50IGNvdmVyZWQgYnkgdGhlIHNlbGVjdG9yIHdpbGwgaGF2ZSB0aGUgY2hldnJvbiBjb250cm9sbGVyLlxuICAgICA5XHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5zZWxlY3Rvcl9jbGFzcz1cInVmLWNoZXZyb24gbWluaW1pc2VcIl0gLSBUaGUgY2xhc3MgdG8gYWRkIHRvIHRoZSBjaGV2cm9uIGNvbnRyb2xsZXIuXG4gICAgMTBcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNyYz1cIi4vVUYvZ2Z4L2NoZXZyb25faWNvbi5wbmdcIl0gLSBUaGUgc291cmNlIG9mIHRoZSBjaGV2cm9uIGltYWdlLlxuICAgIDExXHQgICAqICBAcGFyYW0ge0Jvb2xlYW59IFthcmcwX29wdGlvbnMuaXNfY29sbGFwc2VkPWZhbHNlXSAtIFdoZXRoZXIgdGhlIHNlY3Rpb24gc2hvdWxkIHN0YXJ0IGluIGEgY29sbGFwc2VkIHN0YXRlLlxuICAgIDEyXHQgICAqL1xuICAgIDEzXHQgIGZ1bmN0aW9uIGNyZWF0ZVNlY3Rpb24gKGFyZzBfb3B0aW9ucykge1xuICAgIDE0XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDE1XHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xuICAgIDE2XHRcbiAgICAxN1x0ICAgIC8vSW5pdGlhbGlzZSBvcHRpb25zXG4gICAgMThcdCAgICBpZiAoIW9wdGlvbnMuZXhwYW5kX2NsYXNzKSBvcHRpb25zLmV4cGFuZF9jbGFzcyA9IFwidWYtZXhwYW5kZWRcIjtcbiAgICAxOVx0ICAgIGlmICghb3B0aW9ucy5taW5pbWlzZV9jbGFzcykgb3B0aW9ucy5taW5pbWlzZV9jbGFzcyA9IFwidWYtbWluaW1pc2VkXCI7XG4gICAgMjBcdCAgICBpZiAoIW9wdGlvbnMuc2VsZWN0b3IpIG9wdGlvbnMuc2VsZWN0b3IgPSBcIlwiO1xuICAgIDIxXHQgICAgaWYgKCFvcHRpb25zLnNlbGVjdG9yX2NsYXNzKSBvcHRpb25zLnNlbGVjdG9yX2NsYXNzID0gXCJ1Zi1jaGV2cm9uIG1pbmltaXNlXCI7XG4gICAgMjJcdCAgICBpZiAoIW9wdGlvbnMuc3JjKSBvcHRpb25zLnNyYyA9IFwiLi9VRi9nZngvY2hldnJvbl9pY29uLnBuZ1wiO1xuICAgIDIzXHQgICAgaWYgKG9wdGlvbnMuaXNfY29sbGFwc2VkID09PSB1bmRlZmluZWQpIG9wdGlvbnMuaXNfY29sbGFwc2VkID0gZmFsc2U7XG4gICAgMjRcdFxuICAgIDI1XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDI2XHQgICAgdmFyIGFsbF9jb2xsYXBzaWJsZV9lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMuc2VsZWN0b3IpO1xuICAgIDI3XHRcbiAgICAyOFx0ICAgIC8vU2V0IGNoZXZyb24gaW1hZ2Ugb24gZmlyc3QgY29sbGFwc2libGUgZWxcbiAgICAyOVx0ICAgIHZhciBjaGV2cm9uX2J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgMzBcdCAgICAgIGNoZXZyb25fYnRuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIG9wdGlvbnMuc2VsZWN0b3JfY2xhc3MpO1xuICAgIDMxXHQgICAgICBjaGV2cm9uX2J0bi5zZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIiwgZmFsc2UpO1xuICAgIDMyXHQgICAgICBjaGV2cm9uX2J0bi5zcmMgPSBvcHRpb25zLnNyYztcbiAgICAzM1x0XG4gICAgMzRcdCAgICAvL0FkZCBjaGV2cm9uIHRvIGZpcnN0IGVsZW1lbnQgaWYgaXQgZXhpc3RzXG4gICAgMzVcdCAgICBpZiAoYWxsX2NvbGxhcHNpYmxlX2Vscy5sZW5ndGggPiAwKSB7XG4gICAgMzZcdCAgICAgIHZhciBmaXJzdF9lbCA9IGFsbF9jb2xsYXBzaWJsZV9lbHNbMF07XG4gICAgMzdcdCAgICAgIGZpcnN0X2VsLmFwcGVuZENoaWxkKGNoZXZyb25fYnRuLCBmaXJzdF9lbC5maXJzdENoaWxkKTtcbiAgICAzOFx0ICAgIH1cbi4uLlxuICAgIDQ5XHRcbiAgICA1MFx0ICAgIC8vQWRkIGNsaWNrIGhhbmRsZXIgdG8gdG9nZ2xlIHNlY3Rpb25cbiAgICA1MVx0ICAgIGNoZXZyb25fYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgNTJcdCAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICA1M1x0ICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICA1NFx0XG4gICAgNTVcdCAgICAgIC8vVG9nZ2xlIGNsYXNzZXMgb24gYWxsIGNvbGxhcHNpYmxlIGVsZW1lbnRzXG4gICAgNTZcdCAgICAgIGlmIChhbGxfY29sbGFwc2libGVfZWxzLmxlbmd0aCA+IDEpXG4gICAgNTdcdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhbGxfY29sbGFwc2libGVfZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgNThcdCAgICAgICAgICB2YXIgZWwgPSBhbGxfY29sbGFwc2libGVfZWxzW2ldO1xuICAgIDU5XHQgICAgICAgICAgXG4gICAgNjBcdCAgICAgICAgICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucyhvcHRpb25zLm1pbmltaXNlX2NsYXNzKSkge1xuICAgIDYxXHQgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKG9wdGlvbnMuZXhwYW5kX2NsYXNzKTtcbiAgICA2Mlx0ICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChvcHRpb25zLm1pbmltaXNlX2NsYXNzKTtcbiAgICA2M1x0ICAgICAgICAgIH0gZWxzZSB7XG4gICAgNjRcdCAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUob3B0aW9ucy5taW5pbWlzZV9jbGFzcyk7XG4gICAgNjVcdCAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQob3B0aW9ucy5leHBhbmRfY2xhc3MpO1xuICAgIDY2XHQgICAgICAgICAgfVxuICAgIDY3XHQgICAgICAgIH1cbiAgICA2OFx0XG4gICAgNjlcdCAgICAgIC8vVG9nZ2xlIGNoZXZyb24gcm90YXRpb25cbiAgICA3MFx0ICAgICAgaWYgKGNoZXZyb25fYnRuLnN0eWxlLnRyYW5zZm9ybSA9PT0gXCJyb3RhdGUoMTgwZGVnKVwiKSB7XG4gICAgNzFcdCAgICAgICAgY2hldnJvbl9idG4uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoMGRlZylcIjtcbiAgICA3Mlx0ICAgICAgfSBlbHNlIHtcbiAgICA3M1x0ICAgICAgICBjaGV2cm9uX2J0bi5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgxODBkZWcpXCI7XG4gICAgNzRcdCAgICAgIH1cbiAgICA3NVx0ICAgIH0pO1xuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2dyb3Vwcy9ncm91cF9mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gc2VsZWN0R3JvdXAgKGFyZzBfZ3JvdXBfaWQpIHtcbiAgICAgNFx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAgNVx0ICAgIHZhciBncm91cF9pZCA9IGFyZzBfZ3JvdXBfaWQ7XG4gICAgIDZcdFxuICAgICA3XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgICA4XHQgICAgdmFyIGJydXNoX29iaiA9IG1haW4uYnJ1c2g7XG4gICAgIDlcdCAgICB2YXIgY29tbW9uX3NlbGVjdG9ycyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbi5zZWxlY3RvcnM7XG4gICAgMTBcdCAgICB2YXIgZ3JvdXBfZWwgPSBnZXRHcm91cEVsZW1lbnQoZ3JvdXBfaWQpO1xuICAgIDExXHQgICAgdmFyIGdyb3VwX29iaiA9IGdldEdyb3VwKFwiaGllcmFyY2h5XCIsIGdyb3VwX2lkKTtcbiAgICAxMlx0XG4gICAgMTNcdCAgICB2YXIgYWxsX2dyb3VwX2VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29tbW9uX3NlbGVjdG9ycy5oaWVyYXJjaHkpLnF1ZXJ5U2VsZWN0b3JBbGwoYC5ncm91cGApO1xuICAgIDE0XHRcbiAgICAxNVx0ICAgIGJydXNoX29iai5zZWxlY3RlZF9ncm91cF9pZCA9IGdyb3VwX2lkO1xuICAgIDE2XHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZ3JvdXBfZWxzLmxlbmd0aDsgaSsrKVxuICAgIDE3XHQgICAgICBhbGxfZ3JvdXBfZWxzW2ldLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGAke2dyb3VwX2VsLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLnJlcGxhY2UoXCIgc2VsZWN0ZWRcIiwgXCJcIil9YCk7XG4gICAgMThcdCAgICBncm91cF9lbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBgJHtncm91cF9lbC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKX0gc2VsZWN0ZWRgKTtcbiAgICAxOVx0ICB9XG4gICAgMjBcdH1cbi4uLlxuUGF0aDogc3JjL1VGL2pzL0Jyb3dzZXJVSS9oaWVyYXJjaHlfZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vSGllcmFyY2hpZXNcbiAgICAgMlx0Ly9Jbml0aWFsaXNhdGlvbiBmdW5jdGlvbnNcbiAgICAgM1x0e1xuICAgICA0XHQgIC8qXG4gICAgIDVcdCAgICBnZXRIaWVyYXJjaHlGcm9tSUQoKSAtIEZldGNoZXMgaGllcmFyY2h5IGZyb20gaGllcmFyY2h5IElELlxuICAgICA2XHQgICAgYXJnMF9oaWVyYXJjaHlfaWQ6IChTdHJpbmcpXG4gICAgIDdcdCAgICBhcmcxX29wdGlvbnM6IChPYmplY3QpXG4gICAgIDhcdCAgICAgIHJldHVybl9rZXk6IChCb29sZWFuKVxuICAgICA5XHQgICovXG4gICAgMTBcdCAgZnVuY3Rpb24gZ2V0SGllcmFyY2h5RnJvbUlEIChhcmcwX2hpZXJhcmNoeV9pZCwgYXJnMV9vcHRpb25zKSB7XG4gICAgMTFcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJtYWV0ZXJzXG4gICAgMTJcdCAgICB2YXIgaGllcmFyY2h5X2lkICA9IGFyZzBfaGllcmFyY2h5X2lkO1xuICAgIDEzXHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuICAgIDE0XHRcbiAgICAxNVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxNlx0ICAgIHZhciBhbGxfaGllcmFyY2hpZXMgPSBPYmplY3Qua2V5cyhtYWluLmhpZXJhcmNoeV9vcHRpb25zKTtcbiAgICAxN1x0XG4gICAgMThcdCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfaGllcmFyY2hpZXNcbiAgICAxOVx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2hpZXJhcmNoaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgMjBcdCAgICAgIHZhciBoaWVyYXJjaHlfb2JqID0gbWFpbi5oaWVyYXJjaHlfb3B0aW9uc1thbGxfaGllcmFyY2hpZXNbaV1dO1xuICAgIDIxXHRcbiAgICAyMlx0ICAgICAgaWYgKGhpZXJhcmNoeV9vYmouaWQgPT0gaGllcmFyY2h5X2lkKVxuICAgIDIzXHQgICAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDI0XHQgICAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBoaWVyYXJjaHlfb2JqIDogYWxsX2hpZXJhcmNoaWVzW2ldO1xuICAgIDI1XHQgICAgfVxuICAgIDI2XHQgIH1cbi4uLlxuICAgIDM2XHRcbiAgICAzN1x0ICAgICAgZGVsZXRlX2Z1bmN0aW9uOiAoU3RyaW5nKSAtIFRoZSBmdW5jdGlvbiB0byBhcHBseSB3aGVuIGFuIGVudGl0eSBpcyBkZWxldGVkXG4gICAgMzhcdCAgICAgIHJlbmFtZV9mdW5jdGlvbjogKFN0cmluZykgLSBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgd2hlbiBhbiBlbnRpdHkgaXMgcmVuYW1lZFxuICAgIDM5XHQgICovXG4gICAgNDBcdCAgZnVuY3Rpb24gaW5pdEhpZXJhcmNoeSAoYXJnMF9vcHRpb25zKSB7XG4gICAgNDFcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgNDJcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAgNDNcdFxuICAgIDQ0XHQgICAgLy9NYWtlIHN1cmUgbWFpbi5oaWVyYXJjaGllcyBleGlzdHNcbiAgICA0NVx0ICAgIGlmICghZ2xvYmFsLm1haW4pIGdsb2JhbC5tYWluID0ge307XG4gICAgNDZcdCAgICBpZiAoIWdsb2JhbC5tYWluLmhpZXJhcmNoaWVzKSBnbG9iYWwubWFpbi5oaWVyYXJjaGllcyA9IHt9O1xuICAgIDQ3XHQgICAgaWYgKCFnbG9iYWwubWFpbi5oaWVyYXJjaHlfb3B0aW9ucykgZ2xvYmFsLm1haW4uaGllcmFyY2h5X29wdGlvbnMgPSB7fTtcbi4uLlxuICAgMTEyXHRcbiAgIDExM1x0Ly9IaWVyYXJjaHkgVUkgRnVuY3Rpb25zIC0gW1dJUF0gLSBNYWtlIHN1cmUgZ3JvdXBzL2VudGl0aWVzIGFyZSBwb3B1bGF0ZWQgd2l0aCBib3RoIHByb3BlciBJRHMgYW5kIG5hbWVzXG4gICAxMTRcdHtcbiAgIDExNVx0ICAvKlxuICAgMTE2XHQgICAgYWRkRW50aXR5KCkgLSBBZGRzIGFuIGVudGl0eSB0byBhIGhpZXJhcmNoeSBpbiB0aGUgRE9NLlxuICAgMTE3XHQgICAgYXJnMF9oaWVyYXJjaHlfaWQ6IChTdHJpbmcpXG4gICAxMThcdCAgICBhcmcxX29wdGlvbnM6IChPYmplY3QpXG4gICAxMTlcdCAgICAgIGlkOiAoU3RyaW5nKVxuICAgMTIwXHQgICAgICBuYW1lOiAoU3RyaW5nKVxuICAgMTIxXHQgICAgICBwYXJlbnRfZ3JvdXA6IChTdHJpbmcpXG4gICAxMjJcdFxuICAgMTIzXHQgICAgICBuYWlzc2FuY2VfaGllcmFyY2h5OiAoQm9vbGVhbilcbiAgIDEyNFx0ICAqL1xuICAgMTI1XHQgIGZ1bmN0aW9uIGFkZEVudGl0eSAoYXJnMF9oaWVyYXJjaHlfaWQsIGFyZzFfb3B0aW9ucykge1xuICAgMTI2XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgMTI3XHQgICAgdmFyIGhpZXJhcmNoeV9pZCA9IGFyZzBfaGllcmFyY2h5X2lkO1xuICAgMTI4XHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuLi4uXG4gICA1MzJcdFxuICAgNTMzXHQgIC8vW1dJUF0gLSBGaW5pc2ggcmVuZGVySGllcmFyY2h5KCkgLSBSZW5kZXJzIGhpZXJhcmNoeSBlbGVtZW50cyBmcm9tIG9iamVjdFxuICAgNTM0XHQgIC8qXG4gICA1MzVcdCAgICByZW5kZXJIaWVyYXJjaHkoKSAtIFJlbmRlcnMgYSBoaWVyYXJjaHkgaW50byB0aGUgRE9NLlxuICAgNTM2XHQgICAgYXJnMF9oaWVyYXJjaHlfa2V5OiAoU3RyaW5nKVxuICAgNTM3XHQgICAgYXJnMV9vcHRpb25zOiAoT2JqZWN0KVxuICAgNTM4XHQgICAgICBkZXB0aDogKE51bWJlcilcbiAgIDUzOVx0ICAgICAgZW50aXR5X3JlbmRlcmluZ19vcmRlcjogKEFycmF5PFN0cmluZz4pXG4gICA1NDBcdCAgICAgIGV4Y2x1ZGVkX2VudGl0aWVzOiAoQXJyYXk8U3RyaW5nPilcbiAgIDU0MVx0ICAgICAgZXhjbHVkZWRfZ3JvdXBzOiAoQXJyYXk8U3RyaW5nPilcbiAgIDU0Mlx0ICAgICAgbmFpc3NhbmNlX2hpZXJhcmNoeTogKEJvb2xlYW4pXG4gICA1NDNcdCAgKi9cbiAgIDU0NFx0ICBmdW5jdGlvbiByZW5kZXJIaWVyYXJjaHkgKGFyZzBfaGllcmFyY2h5X2tleSwgYXJnMV9vcHRpb25zKSB7XG4gICA1NDVcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICA1NDZcdCAgICB2YXIgaGllcmFyY2h5X2tleSA9IGFyZzBfaGllcmFyY2h5X2tleTtcbiAgIDU0N1x0ICAgIHZhciBvcHRpb25zID0gKGFyZzFfb3B0aW9ucykgPyBhcmcxX29wdGlvbnMgOiB7fTtcbi4uLlxuUGF0aDogc3JjL1VGL2pzL0Jyb3dzZXJVSS9ncm91cHNfZnJhbWV3b3JrLmpzXG4uLi5cbiAgICAxMFx0XG4gICAgMTFcdCAgICBSZXR1cm5zOiAoT2JqZWN0KVxuICAgIDEyXHQgICovXG4gICAgMTNcdCAgZnVuY3Rpb24gY3JlYXRlR3JvdXAgKGFyZzBfaGllcmFyY2h5X2tleSwgYXJnMV9wYXJlbnRfZ3JvdXBfaWQsIGFyZzJfb3B0aW9ucykge1xuICAgIDE0XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDE1XHQgICAgdmFyIGhpZXJhcmNoeV9rZXkgPSAoYXJnMF9oaWVyYXJjaHlfa2V5KSA/IGFyZzBfaGllcmFyY2h5X2tleSA6IFwiaGllcmFyY2h5XCI7XG4gICAgMTZcdCAgICB2YXIgcGFyZW50X2dyb3VwX2lkID0gYXJnMV9wYXJlbnRfZ3JvdXBfaWQ7XG4gICAgMTdcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcyX29wdGlvbnMpID8gYXJnMl9vcHRpb25zIDoge307XG4gICAgMThcdFxuICAgIDE5XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDIwXHQgICAgdmFyIGdyb3VwX2lkID0gZ2VuZXJhdGVHcm91cElEKCk7XG4gICAgMjFcdCAgICB2YXIgZ3JvdXBfb2JqID0ge1xuICAgIDIyXHQgICAgICBuYW1lOiBcIk5ldyBHcm91cFwiLFxuICAgIDIzXHQgICAgICBpZDogZ3JvdXBfaWQsXG4gICAgMjRcdFxuICAgIDI1XHQgICAgICBwYXJlbnRfZ3JvdXA6IChwYXJlbnRfZ3JvdXBfaWQpID8gcGFyZW50X2dyb3VwX2lkIDogdW5kZWZpbmVkXG4gICAgMjZcdCAgICB9O1xuICAgIDI3XHQgICAgdmFyIGhpZXJhcmNoeV9vYmogPSBtYWluLmhpZXJhcmNoaWVzW2hpZXJhcmNoeV9rZXldO1xuICAgIDI4XHQgICAgdmFyIHNpZGViYXJfZWwgPSAob3B0aW9ucy5oaWVyYXJjaHlfZWwpID8gb3B0aW9ucy5oaWVyYXJjaHlfZWwgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoaWVyYXJjaHlfa2V5KTtcbiAgICAyOVx0XG4gICAgMzBcdCAgICBtYWluLmdyb3Vwc1tncm91cF9pZF0gPSBncm91cF9vYmo7XG4gICAgMzFcdFxuICAgIDMyXHQgICAgLy9DcmVhdGUgYWN0dWFsIFVJIGVsZW1lbnRcbiAgICAzM1x0ICAgIHZhciBncm91cF9lbCA9IGNyZWF0ZUdyb3VwRWxlbWVudChoaWVyYXJjaHlfa2V5LCBncm91cF9pZCk7XG4uLi5cbiAgIDQwN1x0XG4gICA0MDhcdCAgICAvL0luaXRpYWxpc2UgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICA0MDlcdCAgICBlbnRpdHlfaWQgPSBlbnRpdHlfb2JqLm9wdGlvbnMuY2xhc3NOYW1lO1xuICAgNDEwXHRcbiAgIDQxMVx0ICAgIC8vUmVtb3ZlIGZyb20gb2xkIGdyb3VwIGlmIGVudGl0eSBoYXMgYWxyZWFkeSBiZWVuIGFzc2lnbmVkIGEgZ3JvdXBcbiAgIDQxMlx0ICAgIGlmIChvbGRfZ3JvdXApXG4gICA0MTNcdCAgICAgIGlmIChvbGRfZ3JvdXAuZW50aXRpZXMpIHtcbiAgIDQxNFx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZF9ncm91cC5lbnRpdGllcy5sZW5ndGg7IGkrKylcbiAgIDQxNVx0ICAgICAgICAgIGlmIChvbGRfZ3JvdXAuZW50aXRpZXNbaV0gPT0gZW50aXR5X2lkKVxuICAgNDE2XHQgICAgICAgICAgICBvbGRfZ3JvdXAuZW50aXRpZXMuc3BsaWNlKGksIDEpO1xuICAgNDE3XHRcbiAgIDQxOFx0ICAgICAgICBpZiAob2xkX2dyb3VwLmVudGl0aWVzLmxlbmd0aCA9PSAwKVxuICAgNDE5XHQgICAgICAgICAgZGVsZXRlIG9sZF9ncm91cC5lbnRpdGllcztcbiAgIDQyMFx0ICAgICAgfVxuICAgNDIxXHRcbiAgIDQyMlx0ICAgIC8vQWRkIHRvIG5ldyBncm91cFxuICAgNDIzXHQgICAgaWYgKG5ld19ncm91cCkge1xuICAgNDI0XHQgICAgICAvL01ha2Ugc3VyZSBlbnRpdGllcyBhcnJheSBleGlzdHMgaWYgcG9zc2libGVcbiAgIDQyNVx0ICAgICAgaWYgKCFuZXdfZ3JvdXAuZW50aXRpZXMpXG4gICA0MjZcdCAgICAgICAgbmV3X2dyb3VwLmVudGl0aWVzID0gW107XG4gICA0MjdcdFxuICAgNDI4XHQgICAgICAvL1B1c2ggdG8gbmV3X2dyb3VwLmVudGl0aWVzXG4gICA0MjlcdCAgICAgIG5ld19ncm91cC5lbnRpdGllcy5wdXNoKGVudGl0eV9pZCk7XG4gICA0MzBcdFxuICAgNDMxXHQgICAgICAvL0dyb3VwIG9wdGlvbnMgaGFuZGxpbmdcbiAgIDQzMlx0ICAgICAge1xuICAgNDMzXHQgICAgICAgIC8vTWFzayBoYW5kbGluZ1xuICAgNDM0XHQgICAgICAgIHJlbW92ZUVudGl0eU1hc2soZW50aXR5X29iaik7XG4gICA0MzVcdFxuICAgNDM2XHQgICAgICAgIGlmIChuZXdfZ3JvdXAubWFzaylcbiAgIDQzN1x0ICAgICAgICAgIG1haW4uYnJ1c2gubWFza3NbbmV3X2dyb3VwLm1hc2tdLnB1c2goZW50aXR5X29iaik7XG4gICA0MzhcdCAgICAgIH1cbiAgIDQzOVx0ICAgIH1cbiAgIDQ0MFx0ICB9XG4uLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vVUkgd2luZG93IGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gY2xvc2VQb3B1cCAoKSB7XG4gICAgIDRcdCAgICBtYXAuY2xvc2VQb3B1cCgpO1xuICAgICA1XHQgIH1cbiAgICAgNlx0XG4gICAgIDdcdCAgZnVuY3Rpb24gaGlkZUVsZW1lbnQgKGFyZzBfZWxlbWVudCkge1xuICAgICA4XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgICA5XHQgICAgdmFyIGVsZW1lbnQgPSBhcmcwX2VsZW1lbnQ7XG4gICAgMTBcdFxuICAgIDExXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDEyXHQgICAgdmFyIGNsYXNzX25hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIDEzXHRcbiAgICAxNFx0ICAgIGlmICghY2xhc3NfbmFtZS5pbmNsdWRlcyhcIiBoaWRkZW5cIikpXG4gICAgMTVcdCAgICAgIChjbGFzc19uYW1lKSA/XG4gICAgMTZcdCAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZTcxY2JiN2UtM2NiYS00YTY0LWE2ZjYtNDlhM2RlMzc0NDZmO3Rvb2x1X3ZydHhfMDFDMlFqdnhSQmdpRnFvWm9FMWg1OWtNIjp7InJlcXVlc3RJZCI6ImU3MWNiYjdlLTNjYmEtNGE2NC1hNmY2LTQ5YTNkZTM3NDQ2ZiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFDMlFqdnhSQmdpRnFvWm9FMWg1OWtNIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc1xuLi4uXG4gICAgODlcdFxuICAgIDkwXHQvL0luaXRpYWxpc2UgRW50aXR5IEtleWZyYW1lcyBmcmFtZXdvcmtcbiAgICA5MVx0e1xuICAgIDkyXHQgIC8qXG4gICAgOTNcdCAgICBnZXRBbGxFbnRpdHlLZXlmcmFtZXMoKSAtIEZldGNoZXMgYWxsIGVudGl0eSBrZXlmcmFtZXMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICA5NFx0ICAgIGFyZzBfb3B0aW9uczogKE9iamVjdClcbiAgICA5NVx0ICAgICAgcmV0dXJuX2tleXM6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuIEZhbHNlIGJ5IGRlZmF1bHQuXG4gICAgOTZcdFxuICAgIDk3XHQgICAgUmV0dXJuczogKEFycmF5PE9iamVjdD4vQXJyYXk8U3RyaW5nPilcbiAgICA5OFx0ICAqL1xuICAgIDk5XHQgIGZ1bmN0aW9uIGdldEFsbEVudGl0eUtleWZyYW1lcyAoYXJnMF9vcHRpb25zKSB7XG4gICAxMDBcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAxMDFcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAxMDJcdFxuICAgMTAzXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMTA0XHQgICAgdmFyIGNvbW1vbl9kZWZpbmVzID0gY29uZmlnLmRlZmluZXMuY29tbW9uO1xuICAgMTA1XHQgICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzID0gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzO1xuICAgMTA2XHQgICAgdmFyIHJldHVybl9rZXlmcmFtZXMgPSBbXTtcbiAgIDEwN1x0ICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1xuICAgMTA4XHRcbiAgIDEwOVx0ICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lc1xuICAgMTEwXHQgICAgdmFyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lcyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzKTtcbi4uLlxuICAgMTQyXHRcbiAgIDE0M1x0ICAgIC8vSUQgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDE0NFx0ICAgIHtcbiAgIDE0NVx0ICAgICAgLy9JdGVyYXRlIG92ZXIgY29uZmlnLmFsbF9lbnRpdHlfa2V5ZnJhbWVzXG4gICAxNDZcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF9lbnRpdHlfa2V5ZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAxNDdcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldO1xuICAgMTQ4XHRcbiAgIDE0OVx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUuaWQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxNTBcdCAgICAgICAgICBlbnRpdHlfa2V5ZnJhbWVfZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAxNTFcdCAgICAgIH1cbiAgIDE1Mlx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX2VudGl0eV9rZXlmcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgIDE1M1x0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX2VudGl0eV9rZXlmcmFtZXNbaV07XG4gICAxNTRcdFxuICAgMTU1XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5pZC50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMTU2XHQgICAgICAgICAgZW50aXR5X2tleWZyYW1lX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgMTU3XHQgICAgICB9XG4gICAxNThcdCAgICB9XG4gICAxNTlcdFxuICAgMTYwXHQgICAgLy9OYW1lIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXG4gICAxNjFcdCAgICB7XG4gICAxNjJcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGNvbmZpZy5hbGxfZW50aXR5X2tleWZyYW1lc1xuICAgMTYzXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfZW50aXR5X2tleWZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgMTY0XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZW50aXR5X2tleWZyYW1lc1tpXTtcbiAgIDE2NVx0XG4gICAxNjZcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxNjdcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgIDE2OFx0ICAgICAgICAgICAgZW50aXR5X2tleWZyYW1lX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgMTY5XHQgICAgICB9XG4gICAxNzBcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF9lbnRpdHlfa2V5ZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAxNzFcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldO1xuICAgMTcyXHRcbiAgIDE3M1x0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgIDE3NFx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAxNzVcdCAgICAgICAgICAgIGVudGl0eV9rZXlmcmFtZV9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgIDE3Nlx0ICAgICAgfVxuICAgMTc3XHQgICAgfVxuICAgMTc4XHRcbiAgIDE3OVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMTgwXHQgICAgaWYgKGVudGl0eV9rZXlmcmFtZV9leGlzdHNbMF0pXG4gICAxODFcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9rZXlmcmFtZXNbZW50aXR5X2tleWZyYW1lX2V4aXN0c1sxXV0gOiBlbnRpdHlfa2V5ZnJhbWVfZXhpc3RzWzFdO1xuICAgMTgyXHQgIH1cbi4uLlxuICAgMjYwXHRcbiAgIDI2MVx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgMjYyXHQgICAge1xuICAgMjYzXHQgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZW50aXR5X2tleWZyYW1lc1xuICAgMjY0XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfa2V5ZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAyNjVcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmVudGl0eV9rZXlmcmFtZXNbYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuICAgMjY2XHRcbiAgIDI2N1x0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgIDI2OFx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgMjY5XHQgICAgICAgICAgICBlbnRpdHlfa2V5ZnJhbWVzX2V4aXN0cyA9IFt0cnVlLCBhbGxfZW50aXR5X2tleWZyYW1lc1tpXV07XG4gICAyNzBcdCAgICAgIH1cbiAgIDI3MVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2tleWZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgMjcyXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5lbnRpdHlfa2V5ZnJhbWVzW2FsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcbiAgIDI3M1x0XG4gICAyNzRcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAyNzVcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMjc2XHQgICAgICAgICAgICBlbnRpdHlfa2V5ZnJhbWVzX2V4aXN0cyA9IFt0cnVlLCBhbGxfZW50aXR5X2tleWZyYW1lc1tpXV07XG4gICAyNzdcdCAgICAgIH1cbiAgIDI3OFx0ICAgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanNcbi4uLlxuICAgIDcwXHRcbiAgICA3MVx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgIDcyXHQgICAge1xuICAgIDczXHQgICAgICAvL0l0ZXJhdGUgb3ZlciBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zXG4gICAgNzRcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDc1XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNbaV07XG4gICAgNzZcdFxuICAgIDc3XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgIDc4XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAgNzlcdCAgICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgIDgwXHQgICAgICB9XG4gICAgODFcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDgyXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNbaV07XG4gICAgODNcdFxuICAgIDg0XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgIDg1XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgICA4Nlx0ICAgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAgODdcdCAgICAgIH1cbiAgICA4OFx0ICAgIH1cbiAgICA4OVx0XG4gICAgOTBcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICA5MVx0ICAgIGlmIChlbnRpdHlfYWN0aW9uc19leGlzdHNbMF0pXG4gICAgOTJcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2VudGl0eV9hY3Rpb25zX2V4aXN0c1sxXV0gOiBlbnRpdHlfYWN0aW9uc19leGlzdHNbMV07XG4gICAgOTNcdCAgfVxuLi4uXG4gICAxNzFcdFxuICAgMTcyXHQgICAgLy9OYW1lIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXG4gICAxNzNcdCAgICB7XG4gICAxNzRcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9lbnRpdHlfYWN0aW9uc1xuICAgMTc1XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgMTc2XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5lbnRpdHlfYWN0aW9uc1thbGxfZW50aXR5X2FjdGlvbnNbaV1dO1xuICAgMTc3XHRcbiAgIDE3OFx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgIDE3OVx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgMTgwXHQgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuICAgMTgxXHQgICAgICB9XG4gICAxODJcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxODNcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmVudGl0eV9hY3Rpb25zW2FsbF9lbnRpdHlfYWN0aW9uc1tpXV07XG4gICAxODRcdFxuICAgMTg1XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTg2XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgIDE4N1x0ICAgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcbiAgIDE4OFx0ICAgICAgfVxuICAgMTg5XHQgICAgfVxuICAgMTkwXHRcbiAgIDE5MVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMTkyXHQgICAgaWYgKGVudGl0eV9hY3Rpb25zX2V4aXN0c1swXSlcbiAgIDE5M1x0ICAgICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy5lbnRpdHlfYWN0aW9uc1tlbnRpdHlfYWN0aW9uc19leGlzdHNbMV1dIDogZW50aXR5X2FjdGlvbnNfZXhpc3RzWzFdO1xuICAgMTk0XHQgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9vcHRpbWlzYXRpb25fZnJhbWV3b3JrLmpzXG4uLi5cbiAgICAxOVx0XG4gICAgMjBcdCAgICAvL0VOVElUWSBLRVlGUkFNRVNcbiAgICAyMVx0ICAgIC8vU2V0IC5hbGxfZW50aXR5X2tleWZyYW1lczsgLmFsbF9lbnRpdHlfa2V5ZnJhbWVfa2V5c1xuICAgIDIyXHQgICAgY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzID0gZHVtYkZsYXR0ZW5PYmplY3QoY29uZmlnLmVudGl0eV9rZXlmcmFtZXMpO1xuICAgIDIzXHRcbiAgICAyNFx0ICAgIGNvbmZpZy5hbGxfZW50aXR5X2tleWZyYW1lcyA9IGdldEFsbEVudGl0eUtleWZyYW1lcygpO1xuICAgIDI1XHQgICAgY29uZmlnLmFsbF9lbnRpdHlfa2V5ZnJhbWVfa2V5cyA9IGdldEFsbEVudGl0eUtleWZyYW1lcyh7IHJldHVybl9rZXlzOiB0cnVlIH0pO1xuICAgIDI2XHQgICAgY29uZmlnLmVudGl0eV9rZXlmcmFtZXNfbG93ZXN0X29yZGVyID0gZ2V0RW50aXR5S2V5ZnJhbWVzTG93ZXN0T3JkZXIoKTtcbiAgICAyN1x0XG4gICAgMjhcdCAgICAvL0dST1VQIEFDVElPTlNcbiAgICAyOVx0ICAgIC8vU2V0IC5hbGxfZ3JvdXBfYWN0aW9uczsgLmFsbF9ncm91cF9hY3Rpb25zX2tleXNcbiAgICAzMFx0ICAgIGNvbmZpZy5mbGF0dGVuZWRfZ3JvdXBfYWN0aW9ucyA9IGR1bWJGbGF0dGVuT2JqZWN0KGNvbmZpZy5ncm91cF9hY3Rpb25zKTtcbiAgICAzMVx0XG4gICAgMzJcdCAgICBjb25maWcuYWxsX2dyb3VwX2FjdGlvbnMgPSBnZXRBbGxHcm91cEFjdGlvbnMoKTtcbiAgICAzM1x0ICAgIGNvbmZpZy5hbGxfZ3JvdXBfYWN0aW9uc19rZXlzID0gZ2V0QWxsR3JvdXBBY3Rpb25zKHsgcmV0dXJuX2tleXM6IHRydWUgfSk7XG4gICAgMzRcdCAgICBjb25maWcuZ3JvdXBfYWN0aW9uc19sb3dlc3Rfb3JkZXIgPSBnZXRHcm91cEFjdGlvbnNMb3dlc3RPcmRlcigpO1xuLi4uXG5QYXRoOiBzcmMvanMvaW50ZXJmYWNlL2xlZnRfc2lkZWJhci9zZXR0aW5nc19nbG9iYWxfY29uZmlnLmpzXG4gICAgIDFcdGNvbmZpZy5zZXR0aW5ncy5nbG9iYWwgPSB7XG4gICAgIDJcdCAgb3JkZXI6IDEsXG4gICAgIDNcdCAgXG4gICAgIDRcdCAgZ2xvYmFsX3NldHRpbmdzX2h0bWw6IHtcbiAgICAgNVx0ICAgIGlkOiBgZ2xvYmFsX3NldHRpbmdzX2hlYWRlcmAsXG4gICAgIDZcdCAgICB0eXBlOiBcImh0bWxcIixcbiAgICAgN1x0XG4gICAgIDhcdCAgICBpbm5lckhUTUw6IGBcbiAgICAgOVx0ICAgICAgPGRpdiBjbGFzcyA9IFwicHJpbWFyeS1oZWFkZXJcIj5HbG9iYWwgU2V0dGluZ3M8L2Rpdj5cbiAgICAxMFx0ICAgIGAsXG4gICAgMTFcdCAgfSxcbiAgICAxMlx0ICBnbG9iYWxfZGVmYXVsdF9zYXZlX2ZpbGU6IHtcbiAgICAxM1x0ICAgIGlkOiBcImdsb2JhbF9kZWZhdWx0X3NhdmVfZmlsZVwiLFxuICAgIDE0XHQgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgMTVcdFxuICAgIDE2XHQgICAgbmFtZTogXCJEZWZhdWx0IHNhdmUgZmlsZSBvbiBzdGFydHVwOlwiLFxuICAgIDE3XHQgICAgYXR0cmlidXRlczoge1xuICAgIDE4XHQgICAgICB2YWx1ZTogXCIuL2F1dG9zYXZlLmpzXCJcbiAgICAxOVx0ICAgIH1cbiAgICAyMFx0ICB9LFxuICAgIDIxXHQgIGdsb2JhbF91aV9sYXlvdXRfdG9nZ2xlczogeyAvL1tXSVBdIC0gRnVuY3Rpb25hbGl0eSBub3QgeWV0IGFkZGVkXG4gICAgMjJcdCAgICBpZDogYGdsb2JhbF91aV9sYXlvdXRfdG9nZ2xlc2AsXG4gICAgMjNcdCAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgMjRcdFxuICAgIDI1XHQgICAgb3B0aW9uczoge1xuICAgIDI2XHQgICAgICBcImFuY2hvcl9lbnRpdHlfcG9wdXBzXCI6IFwiQW5jaG9yIEVudGl0eSBQb3B1cHNcIixcbiAgICAyN1x0ICAgICAgXCJoaWRlX2VudGl0eV9kYXRhX2dyYXBoX2J5X2RlZmF1bHRcIjogXCJIaWRlIEVudGl0eSBEYXRhIEdyYXBoIGJ5IERlZmF1bHRcIlxuICAgIDI4XHQgICAgfVxuICAgIDI5XHQgIH0sXG4gICAgMzBcdCAgZG9jdW1lbnRfc2V0dGluZ3NfaHRtbDoge1xuICAgIDMxXHQgICAgaWQ6IGBkb2N1bWVudF9zZXR0aW5nc19oZWFkZXJgLFxuICAgIDMyXHQgICAgdHlwZTogXCJodG1sXCIsXG4gICAgMzNcdFxuICAgIDM0XHQgICAgaW5uZXJIVE1MOiBgXG4gICAgMzVcdCAgICAgIDxkaXYgY2xhc3MgPSBcInByaW1hcnktaGVhZGVyXCI+RG9jdW1lbnQgU2V0dGluZ3M8L2Rpdj5cbiAgICAzNlx0ICAgIGAsXG4gICAgMzdcdCAgfVxuICAgIDM4XHR9Oy4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS9tYXAva2V5ZnJhbWVfbmF2aWdhdGlvbl9jb25maWcuanNcbiAgICAgMVx0Y29uZmlnLmVudGl0eV9rZXlmcmFtZXMua2V5ZnJhbWVfbmF2aWdhdGlvbiA9IHtcbiAgICAgMlx0ICBuYW1lOiBcIktleWZyYW1lIE5hdmlnYXRpb25cIixcbiAgICAgM1x0ICBzY29wZV90eXBlOiBbXCJwb2xpdGllc1wiXSxcbiAgICAgNFx0XG4gICAgIDVcdCAgbmF2aWdhdGlvbl91aToge1xuICAgICA2XHQgICAgaWQ6IFwiY29udGV4dF9tZW51X29uZV9uYXZpZ2F0aW9uXCIsXG4gICAgIDdcdCAgICBuYW1lOiBcIkVudGl0eSBLZXlmcmFtZTpcIixcbiAgICAgOFx0ICAgIG9yZGVyOiAxLFxuICAgICA5XHRcbiAgICAxMFx0ICAgIGludGVyZmFjZToge1xuICAgIDExXHQgICAgICBhZGp1c3RfdGltZV9idXR0b246IHtcbiAgICAxMlx0ICAgICAgICBpZDogXCJhZGp1c3RfdGltZV9idXR0b25cIixcbiAgICAxM1x0ICAgICAgICBuYW1lOiBcIkFkanVzdCBUaW1lXCIsXG4gICAgMTRcdCAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAxNVx0ICAgICAgICB4OiAwLFxuICAgIDE2XHQgICAgICAgIHk6IDAsXG4gICAgMTdcdFxuICAgIDE4XHQgICAgICAgIGVmZmVjdDoge1xuICAgIDE5XHQgICAgICAgICAgb3Blbl91aTogXCJhZGp1c3RfdGltZVwiXG4gICAgMjBcdCAgICAgICAgfVxuICAgIDIxXHQgICAgICB9LFxuICAgIDIyXHQgICAgICBlZGl0X2tleWZyYW1lX2J1dHRvbjoge1xuICAgIDIzXHQgICAgICAgIGlkOiBcImVkaXRfa2V5ZnJhbWVfYnV0dG9uXCIsXG4gICAgMjRcdCAgICAgICAgbmFtZTogXCJFZGl0IEtleWZyYW1lXCIsXG4gICAgMjVcdCAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAyNlx0XG4gICAgMjdcdCAgICAgICAgZWZmZWN0OiB7XG4gICAgMjhcdCAgICAgICAgICB0cmlnZ2VyOiBcImVkaXRfa2V5ZnJhbWVcIlxuICAgIDI5XHQgICAgICAgIH1cbiAgICAzMFx0ICAgICAgfSxcbiAgICAzMVx0ICAgICAgZGVsZXRlX2tleWZyYW1lX2J1dHRvbjoge1xuICAgIDMyXHQgICAgICAgIGlkOiBcImRlbGV0ZV9rZXlmcmFtZV9idXR0b25cIixcbiAgICAzM1x0ICAgICAgICBuYW1lOiBcIkRlbGV0ZSBLZXlmcmFtZVwiLFxuICAgIDM0XHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgMzVcdFxuICAgIDM2XHQgICAgICAgIGVmZmVjdDoge1xuICAgIDM3XHQgICAgICAgICAgdHJpZ2dlcjogXCJkZWxldGVfa2V5ZnJhbWVcIlxuICAgIDM4XHQgICAgICAgIH1cbiAgICAzOVx0ICAgICAgfVxuICAgIDQwXHQgICAgfVxuICAgIDQxXHQgIH1cbiAgICA0Mlx0fTtcbi4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS91aV9jb25maWcuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIGNvbmZpZyBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgIDJcdGlmICghZ2xvYmFsLmNvbmZpZykgZ2xvYmFsLmNvbmZpZyA9IHt9O1xuICAgICAzXHRcbiAgICAgNFx0Ly9Jbml0aWFsaXNlIGhlbHBlciBmdW5jdGlvbnNcbiAgICAgNVx0e1xuICAgICA2XHQgIGZ1bmN0aW9uIGdldFVJU2VsZWN0b3IgKGFyZzBfa2V5LCBhcmcxX3JldHVybl9hcnJheSkge1xuICAgICA3XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgICA4XHQgICAgdmFyIGtleSA9IGFyZzBfa2V5O1xuICAgICA5XHQgICAgdmFyIHJldHVybl9hcnJheSA9IGFyZzFfcmV0dXJuX2FycmF5O1xuICAgIDEwXHRcbiAgICAxMVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxMlx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgICAxM1x0ICAgIHZhciBjb21tb25fc2VsZWN0b3JzID0gY29tbW9uX2RlZmluZXMuc2VsZWN0b3JzO1xuICAgIDE0XHRcbiAgICAxNVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDE2XHQgICAgaWYgKGNvbW1vbl9zZWxlY3RvcnNba2V5XSkge1xuICAgIDE3XHQgICAgICByZXR1cm4gKCFyZXR1cm5fYXJyYXkpID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb21tb25fc2VsZWN0b3JzW2tleV0pIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb21tb25fc2VsZWN0b3JzW2tleV0pO1xuICAgIDE4XHQgICAgfSBlbHNlIHtcbiAgICAxOVx0ICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IGZpbmQgc2VsZWN0b3IgaW4gY29uZmlnLmRlZmluZXMuY29tbW9uOmAsIGtleSk7XG4gICAgMjBcdCAgICB9XG4gICAgMjFcdCAgfVxuICAgIDIyXHR9XG4uLi5cblBhdGg6IHNyYy9VRi9qcy9Ccm93c2VyVUkvdWlfZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBmdW5jdGlvbnNcbiAgICAgMlx0e1xuICAgICAzXHQgIC8qKlxuICAgICA0XHQgICAqIGNyZWF0ZVNlY3Rpb24oKSAtIENyZWF0ZXMgYSBmb2xkYWJsZSBlbGVtZW50IHRoYXQgY2FuIGJlIG1pbmltaXNlZC9leHBhbmRlZC5cbiAgICAgNVx0ICAgKiBAcGFyYW0ge09iamVjdH0gW2FyZzBfb3B0aW9uc11cbiAgICAgNlx0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMuZXhwYW5kX2NsYXNzPVwidWYtZXhwYW5kZWRcIl0gLSBUaGUgY2xhc3MgdG8gYWRkIHdoZW4gdGhlIHNlY3Rpb24gaXMgZXhwYW5kZWQuXG4gICAgIDdcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLm1pbmltaXNlX2NsYXNzPVwidWYtbWluaW1pc2VkXCJdIC0gVGhlIGNsYXNzIHRvIGFkZCB3aGVuIHRoZSBzZWN0aW9uIGlzIGNvbGxhcHNlZC5cbiAgICAgOFx0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMuc2VsZWN0b3JdIC0gVGhlIHNlbGVjdG9yIG9mIHRoZSBlbGVtZW50cyB0aGF0IGNhbiBiZSBtaW5pbWlzZWQvZXhwYW5kZWQuIE5vdGUgdGhhdCB0aGUgZmlyc3QgZWxlbWVudCBjb3ZlcmVkIGJ5IHRoZSBzZWxlY3RvciB3aWxsIGhhdmUgdGhlIGNoZXZyb24gY29udHJvbGxlci5cbiAgICAgOVx0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMuc2VsZWN0b3JfY2xhc3M9XCJ1Zi1jaGV2cm9uIG1pbmltaXNlXCJdIC0gVGhlIGNsYXNzIHRvIGFkZCB0byB0aGUgY2hldnJvbiBjb250cm9sbGVyLlxuICAgIDEwXHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5zcmM9XCIuL1VGL2dmeC9jaGV2cm9uX2ljb24ucG5nXCJdIC0gVGhlIHNvdXJjZSBvZiB0aGUgY2hldnJvbiBpbWFnZS5cbiAgICAxMVx0ICAgKiAgQHBhcmFtIHtCb29sZWFufSBbYXJnMF9vcHRpb25zLmlzX2NvbGxhcHNlZD1mYWxzZV0gLSBXaGV0aGVyIHRoZSBzZWN0aW9uIHNob3VsZCBzdGFydCBpbiBhIGNvbGxhcHNlZCBzdGF0ZS5cbiAgICAxMlx0ICAgKi9cbiAgICAxM1x0ICBmdW5jdGlvbiBjcmVhdGVTZWN0aW9uIChhcmcwX29wdGlvbnMpIHtcbiAgICAxNFx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAxNVx0ICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgICAxNlx0XG4gICAgMTdcdCAgICAvL0luaXRpYWxpc2Ugb3B0aW9uc1xuICAgIDE4XHQgICAgaWYgKCFvcHRpb25zLmV4cGFuZF9jbGFzcykgb3B0aW9ucy5leHBhbmRfY2xhc3MgPSBcInVmLWV4cGFuZGVkXCI7XG4gICAgMTlcdCAgICBpZiAoIW9wdGlvbnMubWluaW1pc2VfY2xhc3MpIG9wdGlvbnMubWluaW1pc2VfY2xhc3MgPSBcInVmLW1pbmltaXNlZFwiO1xuICAgIDIwXHQgICAgaWYgKCFvcHRpb25zLnNlbGVjdG9yKSBvcHRpb25zLnNlbGVjdG9yID0gXCJcIjtcbiAgICAyMVx0ICAgIGlmICghb3B0aW9ucy5zZWxlY3Rvcl9jbGFzcykgb3B0aW9ucy5zZWxlY3Rvcl9jbGFzcyA9IFwidWYtY2hldnJvbiBtaW5pbWlzZVwiO1xuICAgIDIyXHQgICAgaWYgKCFvcHRpb25zLnNyYykgb3B0aW9ucy5zcmMgPSBcIi4vVUYvZ2Z4L2NoZXZyb25faWNvbi5wbmdcIjtcbiAgICAyM1x0ICAgIGlmIChvcHRpb25zLmlzX2NvbGxhcHNlZCA9PT0gdW5kZWZpbmVkKSBvcHRpb25zLmlzX2NvbGxhcHNlZCA9IGZhbHNlO1xuICAgIDI0XHRcbiAgICAyNVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAyNlx0ICAgIHZhciBhbGxfY29sbGFwc2libGVfZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLnNlbGVjdG9yKTtcbiAgICAyN1x0XG4gICAgMjhcdCAgICAvL1NldCBjaGV2cm9uIGltYWdlIG9uIGZpcnN0IGNvbGxhcHNpYmxlIGVsXG4gICAgMjlcdCAgICB2YXIgY2hldnJvbl9idG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIDMwXHQgICAgICBjaGV2cm9uX2J0bi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBvcHRpb25zLnNlbGVjdG9yX2NsYXNzKTtcbiAgICAzMVx0ICAgICAgY2hldnJvbl9idG4uc2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIsIGZhbHNlKTtcbiAgICAzMlx0ICAgICAgY2hldnJvbl9idG4uc3JjID0gb3B0aW9ucy5zcmM7XG4gICAgMzNcdFxuICAgIDM0XHQgICAgLy9BZGQgY2hldnJvbiB0byBmaXJzdCBlbGVtZW50IGlmIGl0IGV4aXN0c1xuICAgIDM1XHQgICAgaWYgKGFsbF9jb2xsYXBzaWJsZV9lbHMubGVuZ3RoID4gMCkge1xuICAgIDM2XHQgICAgICB2YXIgZmlyc3RfZWwgPSBhbGxfY29sbGFwc2libGVfZWxzWzBdO1xuICAgIDM3XHQgICAgICBmaXJzdF9lbC5hcHBlbmRDaGlsZChjaGV2cm9uX2J0biwgZmlyc3RfZWwuZmlyc3RDaGlsZCk7XG4gICAgMzhcdCAgICB9XG4uLi5cbiAgICA3Nlx0XG4gICAgNzdcdCAgICAvL1JldHVybiB0aGUgY2hldnJvbiBidXR0b24gZm9yIGV4dGVybmFsIGNvbnRyb2wgaWYgbmVlZGVkXG4gICAgNzhcdCAgICByZXR1cm4gY2hldnJvbl9idG47XG4gICAgNzlcdCAgfVxuICAgIDgwXHR9Li4uXG5QYXRoOiBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL1VJIHdpbmRvdyBmdW5jdGlvbnNcbiAgICAgMlx0e1xuICAgICAzXHQgIGZ1bmN0aW9uIGNsb3NlUG9wdXAgKCkge1xuICAgICA0XHQgICAgbWFwLmNsb3NlUG9wdXAoKTtcbiAgICAgNVx0ICB9XG4gICAgIDZcdFxuICAgICA3XHQgIGZ1bmN0aW9uIGhpZGVFbGVtZW50IChhcmcwX2VsZW1lbnQpIHtcbiAgICAgOFx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAgOVx0ICAgIHZhciBlbGVtZW50ID0gYXJnMF9lbGVtZW50O1xuICAgIDEwXHRcbiAgICAxMVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxMlx0ICAgIHZhciBjbGFzc19uYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAxM1x0XG4gICAgMTRcdCAgICBpZiAoIWNsYXNzX25hbWUuaW5jbHVkZXMoXCIgaGlkZGVuXCIpKVxuICAgIDE1XHQgICAgICAoY2xhc3NfbmFtZSkgP1xuICAgIDE2XHQgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYCR7Y2xhc3NfbmFtZX0gaGlkZGVuYCkgOlxuICAgIDE3XHQgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCIgaGlkZGVuXCIpO1xuICAgIDE4XHQgIH1cbiAgICAxOVx0XG4gICAgMjBcdCAgZnVuY3Rpb24gdXBkYXRlU2lkZWJhckhvdmVyICgpIHtcbiAgICAyMVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAyMlx0ICAgIHZhciBhbGxfaG92ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLmhpZXJhcmNoeS1lbGVtZW50cy1jb250YWluZXIgZGl2OmhvdmVyYCk7XG4gICAgMjNcdCAgICB2YXIgYWxsX2xlZ2FjeV9ob3ZlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuaG92ZXJgKTtcbiAgICAyNFx0XG4gICAgMjVcdCAgICAvL0NsZWFyIGFsbCBlbGVtZW50cyB3aXRoIC5ob3ZlciBjbGFzc1xuICAgIDI2XHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfbGVnYWN5X2hvdmVycy5sZW5ndGg7IGkrKylcbiAgICAyN1x0ICAgICAgYWxsX2xlZ2FjeV9ob3ZlcnNbaV0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcbiAgICAyOFx0ICAgICAgICBhbGxfbGVnYWN5X2hvdmVyc1tpXS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKS5yZXBsYWNlKFwiIGhvdmVyXCIsIFwiXCIpXG4gICAgMjlcdCAgICAgICk7XG4gICAgMzBcdFxuICAgIDMxXHQgICAgLy9TZXQgb25seSBsYXN0IGhvdmVyIHRvIGJlIGhvdmVyZWRcbiAgICAzMlx0ICAgIGlmIChhbGxfaG92ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAzM1x0ICAgICAgdmFyIGxvY2FsX2NsYXNzID0gYWxsX2hvdmVyc1thbGxfaG92ZXJzLmxlbmd0aCAtIDFdLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIDM0XHRcbiAgICAzNVx0ICAgICAgKGxvY2FsX2NsYXNzKSA/XG4gICAgMzZcdCAgICAgICAgYWxsX2hvdmVyc1thbGxfaG92ZXJzLmxlbmd0aCAtIDFdLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXG4gICAgMzdcdCAgICAgICAgICBsb2NhbF9jbGFzcyArIFwiIGhvdmVyXCJcbiAgICAzOFx0ICAgICAgICApIDpcbiAgICAzOVx0ICAgICAgICBhbGxfaG92ZXJzW2FsbF9ob3ZlcnMubGVuZ3RoIC0gMV0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCIgaG92ZXJcIik7XG4gICAgNDBcdCAgICB9XG4gICAgNDFcdCAgfVxuICAgIDQyXHRcbiAgICA0M1x0ICBmdW5jdGlvbiB0b2dnbGVFbGVtZW50VmlzaWJpbGl0eSAoYXJnMF9lbGVtZW50LCBhcmcxX2J1dHRvbl9lbGVtZW50KSB7XG4gICAgNDRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgNDVcdCAgICB2YXIgZWxlbWVudCA9IGFyZzBfZWxlbWVudDtcbiAgICA0Nlx0ICAgIHZhciBidG5fZWxlbWVudCA9IGFyZzFfYnV0dG9uX2VsZW1lbnQ7XG4gICAgNDdcdFxuICAgIDQ4XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDQ5XHQgICAgdmFyIGNsYXNzX25hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIDUwXHQgICAgdmFyIGlzX3Zpc2libGUgPSB0cnVlO1xuICAgIDUxXHRcbiAgICA1Mlx0ICAgIGlmIChjbGFzc19uYW1lKVxuICAgIDUzXHQgICAgICBpZiAoY2xhc3NfbmFtZS5pbmNsdWRlcyhcIiBoaWRkZW5cIikpXG4gICAgNTRcdCAgICAgICAgaXNfdmlzaWJsZSA9IGZhbHNlO1xuICAgIDU1XHRcbiAgICA1Nlx0ICAgIChpc192aXNpYmxlKSA/XG4gICAgNTdcdCAgICAgIGhpZGVFbGVtZW50KGVsZW1lbnQpIDpcbiAgICA1OFx0ICAgICAgc2hvd0VsZW1lbnQoZWxlbWVudCk7XG4gICAgNTlcdFxuICAgIDYwXHQgICAgLy9TZXQgYnV0dG9uIGVsZW1lbnQgY2xhc3MgaWYgcHJlc2VudFxuICAgIDYxXHQgICAgaWYgKGJ0bl9lbGVtZW50KVxuICAgIDYyXHQgICAgICAoaXNfdmlzaWJsZSkgP1xuICAgIDYzXHQgICAgICAgIGJ0bl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGJ0bl9lbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLnJlcGxhY2UoXCIgbWluaW1pc2UtaWNvblwiLCBcIiByZXZlcnNlLW1pbmltaXNlLWljb25cIikpIDpcbiAgICA2NFx0ICAgICAgICBidG5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBidG5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKS5yZXBsYWNlKFwiIHJldmVyc2UtbWluaW1pc2UtaWNvblwiLCBcIiBtaW5pbWlzZS1pY29uXCIpKTtcbiAgICA2NVx0ICB9XG4gICAgNjZcdH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9ncm91cHMvZ3JvdXBfZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBmdW5jdGlvbnNcbiAgICAgMlx0e1xuICAgICAzXHQgIGZ1bmN0aW9uIHNlbGVjdEdyb3VwIChhcmcwX2dyb3VwX2lkKSB7XG4gICAgIDRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgIDVcdCAgICB2YXIgZ3JvdXBfaWQgPSBhcmcwX2dyb3VwX2lkO1xuICAgICA2XHRcbiAgICAgN1x0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAgOFx0ICAgIHZhciBicnVzaF9vYmogPSBtYWluLmJydXNoO1xuICAgICA5XHQgICAgdmFyIGNvbW1vbl9zZWxlY3RvcnMgPSBjb25maWcuZGVmaW5lcy5jb21tb24uc2VsZWN0b3JzO1xuICAgIDEwXHQgICAgdmFyIGdyb3VwX2VsID0gZ2V0R3JvdXBFbGVtZW50KGdyb3VwX2lkKTtcbiAgICAxMVx0ICAgIHZhciBncm91cF9vYmogPSBnZXRHcm91cChcImhpZXJhcmNoeVwiLCBncm91cF9pZCk7XG4gICAgMTJcdFxuICAgIDEzXHQgICAgdmFyIGFsbF9ncm91cF9lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbW1vbl9zZWxlY3RvcnMuaGllcmFyY2h5KS5xdWVyeVNlbGVjdG9yQWxsKGAuZ3JvdXBgKTtcbiAgICAxNFx0XG4gICAgMTVcdCAgICBicnVzaF9vYmouc2VsZWN0ZWRfZ3JvdXBfaWQgPSBncm91cF9pZDtcbiAgICAxNlx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2dyb3VwX2Vscy5sZW5ndGg7IGkrKylcbiAgICAxN1x0ICAgICAgYWxsX2dyb3VwX2Vsc1tpXS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBgJHtncm91cF9lbC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKS5yZXBsYWNlKFwiIHNlbGVjdGVkXCIsIFwiXCIpfWApO1xuICAgIDE4XHQgICAgZ3JvdXBfZWwuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYCR7Z3JvdXBfZWwuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil9IHNlbGVjdGVkYCk7XG4gICAgMTlcdCAgfVxuICAgIDIwXHR9XG4uLi5cblBhdGg6IHNyYy9VRi9qcy9Ccm93c2VyVUkvZ3JvdXBzX2ZyYW1ld29yay5qc1xuLi4uXG4gICAgMTBcdFxuICAgIDExXHQgICAgUmV0dXJuczogKE9iamVjdClcbiAgICAxMlx0ICAqL1xuICAgIDEzXHQgIGZ1bmN0aW9uIGNyZWF0ZUdyb3VwIChhcmcwX2hpZXJhcmNoeV9rZXksIGFyZzFfcGFyZW50X2dyb3VwX2lkLCBhcmcyX29wdGlvbnMpIHtcbiAgICAxNFx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAxNVx0ICAgIHZhciBoaWVyYXJjaHlfa2V5ID0gKGFyZzBfaGllcmFyY2h5X2tleSkgPyBhcmcwX2hpZXJhcmNoeV9rZXkgOiBcImhpZXJhcmNoeVwiO1xuICAgIDE2XHQgICAgdmFyIHBhcmVudF9ncm91cF9pZCA9IGFyZzFfcGFyZW50X2dyb3VwX2lkO1xuICAgIDE3XHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMl9vcHRpb25zKSA/IGFyZzJfb3B0aW9ucyA6IHt9O1xuICAgIDE4XHRcbiAgICAxOVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAyMFx0ICAgIHZhciBncm91cF9pZCA9IGdlbmVyYXRlR3JvdXBJRCgpO1xuICAgIDIxXHQgICAgdmFyIGdyb3VwX29iaiA9IHtcbiAgICAyMlx0ICAgICAgbmFtZTogXCJOZXcgR3JvdXBcIixcbiAgICAyM1x0ICAgICAgaWQ6IGdyb3VwX2lkLFxuICAgIDI0XHRcbiAgICAyNVx0ICAgICAgcGFyZW50X2dyb3VwOiAocGFyZW50X2dyb3VwX2lkKSA/IHBhcmVudF9ncm91cF9pZCA6IHVuZGVmaW5lZFxuICAgIDI2XHQgICAgfTtcbiAgICAyN1x0ICAgIHZhciBoaWVyYXJjaHlfb2JqID0gbWFpbi5oaWVyYXJjaGllc1toaWVyYXJjaHlfa2V5XTtcbiAgICAyOFx0ICAgIHZhciBzaWRlYmFyX2VsID0gKG9wdGlvbnMuaGllcmFyY2h5X2VsKSA/IG9wdGlvbnMuaGllcmFyY2h5X2VsIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGllcmFyY2h5X2tleSk7XG4gICAgMjlcdFxuICAgIDMwXHQgICAgbWFpbi5ncm91cHNbZ3JvdXBfaWRdID0gZ3JvdXBfb2JqO1xuICAgIDMxXHRcbiAgICAzMlx0ICAgIC8vQ3JlYXRlIGFjdHVhbCBVSSBlbGVtZW50XG4gICAgMzNcdCAgICB2YXIgZ3JvdXBfZWwgPSBjcmVhdGVHcm91cEVsZW1lbnQoaGllcmFyY2h5X2tleSwgZ3JvdXBfaWQpO1xuLi4uXG4gICA0MDdcdFxuICAgNDA4XHQgICAgLy9Jbml0aWFsaXNlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgNDA5XHQgICAgZW50aXR5X2lkID0gZW50aXR5X29iai5vcHRpb25zLmNsYXNzTmFtZTtcbiAgIDQxMFx0XG4gICA0MTFcdCAgICAvL1JlbW92ZSBmcm9tIG9sZCBncm91cCBpZiBlbnRpdHkgaGFzIGFscmVhZHkgYmVlbiBhc3NpZ25lZCBhIGdyb3VwXG4gICA0MTJcdCAgICBpZiAob2xkX2dyb3VwKVxuICAgNDEzXHQgICAgICBpZiAob2xkX2dyb3VwLmVudGl0aWVzKSB7XG4gICA0MTRcdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRfZ3JvdXAuZW50aXRpZXMubGVuZ3RoOyBpKyspXG4gICA0MTVcdCAgICAgICAgICBpZiAob2xkX2dyb3VwLmVudGl0aWVzW2ldID09IGVudGl0eV9pZClcbiAgIDQxNlx0ICAgICAgICAgICAgb2xkX2dyb3VwLmVudGl0aWVzLnNwbGljZShpLCAxKTtcbiAgIDQxN1x0XG4gICA0MThcdCAgICAgICAgaWYgKG9sZF9ncm91cC5lbnRpdGllcy5sZW5ndGggPT0gMClcbiAgIDQxOVx0ICAgICAgICAgIGRlbGV0ZSBvbGRfZ3JvdXAuZW50aXRpZXM7XG4gICA0MjBcdCAgICAgIH1cbiAgIDQyMVx0XG4gICA0MjJcdCAgICAvL0FkZCB0byBuZXcgZ3JvdXBcbiAgIDQyM1x0ICAgIGlmIChuZXdfZ3JvdXApIHtcbiAgIDQyNFx0ICAgICAgLy9NYWtlIHN1cmUgZW50aXRpZXMgYXJyYXkgZXhpc3RzIGlmIHBvc3NpYmxlXG4gICA0MjVcdCAgICAgIGlmICghbmV3X2dyb3VwLmVudGl0aWVzKVxuICAgNDI2XHQgICAgICAgIG5ld19ncm91cC5lbnRpdGllcyA9IFtdO1xuICAgNDI3XHRcbiAgIDQyOFx0ICAgICAgLy9QdXNoIHRvIG5ld19ncm91cC5lbnRpdGllc1xuICAgNDI5XHQgICAgICBuZXdfZ3JvdXAuZW50aXRpZXMucHVzaChlbnRpdHlfaWQpO1xuICAgNDMwXHRcbiAgIDQzMVx0ICAgICAgLy9Hcm91cCBvcHRpb25zIGhhbmRsaW5nXG4gICA0MzJcdCAgICAgIHtcbiAgIDQzM1x0ICAgICAgICAvL01hc2sgaGFuZGxpbmdcbiAgIDQzNFx0ICAgICAgICByZW1vdmVFbnRpdHlNYXNrKGVudGl0eV9vYmopO1xuICAgNDM1XHRcbiAgIDQzNlx0ICAgICAgICBpZiAobmV3X2dyb3VwLm1hc2spXG4gICA0MzdcdCAgICAgICAgICBtYWluLmJydXNoLm1hc2tzW25ld19ncm91cC5tYXNrXS5wdXNoKGVudGl0eV9vYmopO1xuICAgNDM4XHQgICAgICB9XG4gICA0MzlcdCAgICB9XG4gICA0NDBcdCAgfVxuLi4uXG5QYXRoOiBzcmMvanMvaW50ZXJmYWNlL3VpX2luaXRpYWxpc2F0aW9uLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBVSSBmdW5jdGlvbiAtIG1hc3RlclxuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gaW5pdGlhbGlzZVVJICgpIHtcbiAgICAgNFx0ICAgIC8vSW5pdGlhbGlzZSBsZWZ0X3NpZGViYXJcbiAgICAgNVx0ICAgIGluaXREYXRlVUkoKTtcbiAgICAgNlx0ICAgIGluaXRIaWVyYXJjaHlVSSgpO1xuICAgICA3XHQgICAgaW5pdFNjcmlwdHNVSSgpO1xuICAgICA4XHQgICAgaW5pdFNldHRpbmdzVUkoKTtcbiAgICAgOVx0XG4gICAgMTBcdCAgICAvL0luaXRpYWxpc2UgdG9wYmFyXG4gICAgMTFcdCAgICBpbml0VG9wYmFyVUkoKTtcbiAgICAxMlx0ICB9XG4gICAgMTNcdH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9tYXNrcy9tYXNrX2ZyYW1ld29yay5qc1xuLi4uXG4gICAgMjZcdFxuICAgIDI3XHQgIC8qXG4gICAgMjhcdCAgICBhZGRHcm91cE1hc2soKSAtIFNldHMgYW4gZW50aXJlIGdyb3VwIHRvIGhhdmUgYSBtYXNrIGFjY29yZGluZyB0byBtb2RlLlxuICAgIDI5XHQgICAgYXJnMF9ncm91cF9pZDogKFN0cmluZykgLSBUaGUgZ3JvdXAgSUQgdG8gYWRkIHRvIHRoZSBtYXNrLlxuICAgIDMwXHQgICAgYXJnMV9tb2RlOiAoU3RyaW5nKSAtIFRoZSBwcmVzZXQgY29uZmlnLm1hc2tfdHlwZXMgdHlwZSB0byB1c2UuXG4gICAgMzFcdCAgKi9cbiAgICAzMlx0ICBmdW5jdGlvbiBhZGRHcm91cE1hc2sgKGFyZzBfZ3JvdXBfaWQsIGFyZzFfbW9kZSkge1xuICAgIDMzXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDM0XHQgICAgdmFyIGdyb3VwX2lkID0gYXJnMF9ncm91cF9pZDtcbiAgICAzNVx0ICAgIHZhciBtb2RlID0gKGFyZzFfbW9kZSkgPyBhcmcxX21vZGUgOiBcImFkZFwiO1xuICAgIDM2XHRcbiAgICAzN1x0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAzOFx0ICAgIHZhciBicnVzaF9vYmogPSBtYWluLmJydXNoO1xuICAgIDM5XHQgICAgdmFyIGdyb3VwX29iaiA9IGdldEdyb3VwKFwiaGllcmFyY2h5XCIsIGdyb3VwX2lkKTtcbiAgICA0MFx0XG4gICAgNDFcdCAgICBpZiAoZ3JvdXBfb2JqKSB7XG4gICAgNDJcdCAgICAgIHJlbW92ZUdyb3VwTWFzayhncm91cF9vYmouaWQpO1xuICAgIDQzXHRcbiAgICA0NFx0ICAgICAgLy9Nb2RlIGhhbmRsaW5nXG4gICAgNDVcdCAgICAgIHZhciBhbGxfc2VsZWN0ZWRfZW50aXRpZXMgPSBnZXRHcm91cEVudGl0aWVzKFwiaGllcmFyY2h5XCIsIGdyb3VwX29iai5pZCk7XG4gICAgNDZcdFxuICAgIDQ3XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9zZWxlY3RlZF9lbnRpdGllcy5sZW5ndGg7IGkrKylcbiAgICA0OFx0ICAgICAgICBhZGRFbnRpdHlNYXNrKGFsbF9zZWxlY3RlZF9lbnRpdGllc1tpXSwgbW9kZSk7XG4gICAgNDlcdCAgICB9XG4gICAgNTBcdCAgfVxuLi4uXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI1NGQwM2RlYi00YTQ5LTQ5MzEtOTExMi1kNmI4ZjdlYmY4YjU7dG9vbHVfdnJ0eF8wMVBpVHhmMW54OXMyUWZiQVkxaEdGcHoiOnsicmVxdWVzdElkIjoiNTRkMDNkZWItNGE0OS00OTMxLTkxMTItZDZiOGY3ZWJmOGI1IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMVBpVHhmMW54OXMyUWZiQVkxaEdGcHoiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKipcbiAgICAgNFx0ICAgKiBnZXRBbGxWYXJpYWJsZUFjdGlvbnMoKSAtIEZldGNoZXMgYWxsIHZhcmlhYmxlIGFjdGlvbnMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICAgNVx0ICAgKiBAcGFyYW0ge09iamVjdH0gW2FyZzBfb3B0aW9uc11cbiAgICAgNlx0ICAgKiAgQHBhcmFtIHtib29sZWFufSBbYXJnMF9vcHRpb25zLnJldHVybl9rZXlzPWZhbHNlXSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuXG4gICAgIDdcdCAgICogXG4gICAgIDhcdCAgICogQHJldHVybnMge0FycmF5PE9iamVjdD58QXJyYXk8U3RyaW5nPn1cbiAgICAgOVx0ICAgKi9cbiAgICAxMFx0ICBmdW5jdGlvbiBnZXRBbGxWYXJpYWJsZUFjdGlvbnMgKGFyZzBfb3B0aW9ucykge1xuICAgIDExXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDEyXHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xuICAgIDEzXHRcbiAgICAxNFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxNVx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgICAxNlx0ICAgIHZhciBmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucztcbiAgICAxN1x0ICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xuICAgIDE4XHQgICAgdmFyIHJldHVybl9rZXlzID0gW107XG4uLi5cbiAgICA0OVx0XG4gICAgNTBcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgNTFcdCAgICB2YXIgdmFyaWFibGVfYWN0aW9uX2V4aXN0cyA9IFtmYWxzZSwgXCJcIl07IC8vW3ZhcmlhYmxlX2FjdGlvbl9leGlzdHMsIHZhcmlhYmxlX2FjdGlvbl9rZXldO1xuICAgIDUyXHQgICAgdmFyIHNlYXJjaF9uYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICA1M1x0ICAgIFxuICAgIDU0XHQgICAgLy9JRCBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgIDU1XHQgICAge1xuICAgIDU2XHQgICAgICAvL0l0ZXJhdGUgb3ZlciBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnNcbiAgICA1N1x0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICA1OFx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV07XG4gICAgNTlcdCAgICAgICAgXG4gICAgNjBcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLmlkLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgIDYxXHQgICAgICAgICAgdmFyaWFibGVfYWN0aW9uX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgIDYyXHQgICAgICB9XG4gICAgNjNcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgNjRcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF92YXJpYWJsZV9hY3Rpb25zW2ldO1xuICAgIDY1XHRcbiAgICA2Nlx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUuaWQudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgICA2N1x0ICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbl9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA2OFx0ICAgICAgfVxuICAgIDY5XHQgICAgfVxuICAgIDcwXHRcbiAgICA3MVx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgIDcyXHQgICAge1xuICAgIDczXHQgICAgICAvL0l0ZXJhdGUgb3ZlciBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnNcbiAgICA3NFx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICA3NVx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV07XG4gICAgNzZcdFxuICAgIDc3XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgIDc4XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAgNzlcdCAgICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbl9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA4MFx0ICAgICAgfVxuICAgIDgxXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfdmFyaWFibGVfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDgyXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfdmFyaWFibGVfYWN0aW9uc1tpXTtcbiAgICA4M1x0ICAgICAgICBcbiAgICA4NFx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgICA4NVx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAgODZcdCAgICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbl9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA4N1x0ICAgICAgfVxuICAgIDg4XHQgICAgfVxuICAgIDg5XHRcbiAgICA5MFx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDkxXHQgICAgaWYgKHZhcmlhYmxlX2FjdGlvbl9leGlzdHNbMF0pXG4gICAgOTJcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbdmFyaWFibGVfYWN0aW9uX2V4aXN0c1sxXV0gOiB2YXJpYWJsZV9hY3Rpb25fZXhpc3RzWzFdO1xuICAgIDkzXHQgIH1cbi4uLlxuICAgMTU0XHRcbiAgIDE1NVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDE1Nlx0ICAgIHZhciBhbGxfdmFyaWFibGVfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGNvbmZpZy52YXJpYWJsZXMpO1xuICAgMTU3XHQgICAgdmFyIHZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzID0gW2ZhbHNlLCBcIlwiXTsgLy9bdmFyaWFibGVfYWN0aW9uc19leGlzdHMsIHZhcmlhYmxlX2FjdGlvbnNfa2V5XTtcbiAgIDE1OFx0ICAgIHZhciBzZWFyY2hfbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAxNTlcdFxuICAgMTYwXHQgICAgLy9JRCBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgMTYxXHQgICAge1xuICAgMTYyXHQgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfdmFyaWFibGVfYWN0aW9uc1xuICAgMTYzXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgMTY0XHQgICAgICAgIGlmIChhbGxfdmFyaWFibGVfYWN0aW9uc1tpXS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgIDE2NVx0ICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF92YXJpYWJsZV9hY3Rpb25zW2ldXTtcbiAgIDE2Nlx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfdmFyaWFibGVfYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgIDE2N1x0ICAgICAgICBpZiAoYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV0udG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgIDE2OFx0ICAgICAgICAgIHZhcmlhYmxlX2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF92YXJpYWJsZV9hY3Rpb25zW2ldXTtcbiAgIDE2OVx0ICAgIH1cbiAgIDE3MFx0ICAgIFxuICAgMTcxXHQgICAgLy9OYW1lIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXG4gICAxNzJcdCAgICB7XG4gICAxNzNcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF92YXJpYWJsZV9hY3Rpb25zXG4gICAxNzRcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDE3NVx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcudmFyaWFibGVzW2FsbF92YXJpYWJsZV9hY3Rpb25zW2ldXTtcbiAgIDE3Nlx0XG4gICAxNzdcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxNzhcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgIDE3OVx0ICAgICAgICAgICAgdmFyaWFibGVfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX3ZhcmlhYmxlX2FjdGlvbnNbaV1dO1xuICAgMTgwXHQgICAgICB9XG4gICAxODFcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDE4Mlx0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcudmFyaWFibGVzW2FsbF92YXJpYWJsZV9hY3Rpb25zW2ldXTtcbiAgIDE4M1x0XG4gICAxODRcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxODVcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMTg2XHQgICAgICAgICAgICB2YXJpYWJsZV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfdmFyaWFibGVfYWN0aW9uc1tpXV07XG4gICAxODdcdCAgICAgIH1cbiAgIDE4OFx0ICAgIH1cbiAgIDE4OVx0XG4gICAxOTBcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDE5MVx0ICAgIGlmICh2YXJpYWJsZV9hY3Rpb25zX2V4aXN0c1swXSlcbiAgIDE5Mlx0ICAgICAgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy52YXJpYWJsZXNbdmFyaWFibGVfYWN0aW9uc19leGlzdHNbMV1dIDogdmFyaWFibGVfYWN0aW9uc19leGlzdHNbMV07XG4gICAxOTNcdCAgfVxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2dyb3Vwcy9ncm91cF9hY3Rpb25zX2ZyYW1ld29yay5qc1xuLi4uXG4gICAgNzBcdFxuICAgIDcxXHQgICAgLy9OYW1lIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXG4gICAgNzJcdCAgICB7XG4gICAgNzNcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGNvbmZpZy5hbGxfZ3JvdXBfYWN0aW9uc1xuICAgIDc0XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbmZpZy5hbGxfZ3JvdXBfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDc1XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZ3JvdXBfYWN0aW9uc1tpXTtcbiAgICA3Nlx0XG4gICAgNzdcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAgNzhcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgICA3OVx0ICAgICAgICAgICAgZ3JvdXBfYWN0aW9uX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgIDgwXHQgICAgICB9XG4gICAgODFcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF9ncm91cF9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgODJcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF9ncm91cF9hY3Rpb25zW2ldO1xuICAgIDgzXHRcbiAgICA4NFx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgICA4NVx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAgODZcdCAgICAgICAgICAgIGdyb3VwX2FjdGlvbl9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA4N1x0ICAgICAgfVxuICAgIDg4XHQgICAgfVxuICAgIDg5XHRcbiAgICA5MFx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDkxXHQgICAgaWYgKGdyb3VwX2FjdGlvbl9leGlzdHNbMF0pXG4gICAgOTJcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnNbZ3JvdXBfYWN0aW9uX2V4aXN0c1sxXV0gOiBncm91cF9hY3Rpb25fZXhpc3RzWzFdO1xuICAgIDkzXHQgIH1cbi4uLlxuICAgMTcxXHRcbiAgIDE3Mlx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgMTczXHQgICAge1xuICAgMTc0XHQgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZ3JvdXBfYWN0aW9uc1xuICAgMTc1XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9ncm91cF9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxNzZcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmdyb3VwX2FjdGlvbnNbYWxsX2dyb3VwX2FjdGlvbnNbaV1dO1xuICAgMTc3XHRcbiAgIDE3OFx0ICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbiAgIDE3OVx0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgMTgwXHQgICAgICAgICAgICBncm91cF9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfZ3JvdXBfYWN0aW9uc1tpXV07XG4gICAxODFcdCAgICAgIH1cbiAgIDE4Mlx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZ3JvdXBfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgMTgzXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5ncm91cF9hY3Rpb25zW2FsbF9ncm91cF9hY3Rpb25zW2ldXTtcbiAgIDE4NFx0XG4gICAxODVcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxODZcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMTg3XHQgICAgICAgICAgICBncm91cF9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfZ3JvdXBfYWN0aW9uc1tpXV07XG4gICAxODhcdCAgICAgIH1cbiAgIDE4OVx0ICAgIH1cbiAgIDE5MFx0XG4gICAxOTFcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDE5Mlx0ICAgIGlmICghZ3JvdXBfYWN0aW9uc19leGlzdHNbMF0pXG4gICAxOTNcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZ3JvdXBfYWN0aW9uc1tncm91cF9hY3Rpb25zX2V4aXN0c1sxXV0gOiBncm91cF9hY3Rpb25zX2V4aXN0c1sxXTtcbiAgIDE5NFx0ICB9XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvb3B0aW1pc2F0aW9uX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0RlY2xhcmUgZnVuY3Rpb25cbiAgICAgMlx0e1xuICAgICAzXHQgIGZ1bmN0aW9uIGluaXRPcHRpbWlzYXRpb24gKCkge1xuICAgICA0XHQgICAgLy9CUlVTSCBBQ1RJT05TXG4gICAgIDVcdCAgICAvL1NldCAuYWxsX2JydXNoX2FjdGlvbnM7IC5hbGxfYnJ1c2hfYWN0aW9uc19rZXlzXG4gICAgIDZcdCAgICBjb25maWcuZmxhdHRlbmVkX2JydXNoX2FjdGlvbnMgPSBkdW1iRmxhdHRlbk9iamVjdChjb25maWcuYnJ1c2hfYWN0aW9ucyk7XG4gICAgIDdcdFxuICAgICA4XHQgICAgY29uZmlnLmFsbF9icnVzaF9hY3Rpb25zID0gZ2V0QWxsQnJ1c2hBY3Rpb25zKCk7XG4gICAgIDlcdCAgICBjb25maWcuYWxsX2JydXNoX2FjdGlvbnNfa2V5cyA9IGdldEFsbEJydXNoQWN0aW9ucyh7IHJldHVybl9rZXlzOiB0cnVlIH0pO1xuICAgIDEwXHQgICAgY29uZmlnLmJydXNoX2FjdGlvbnNfbG93ZXN0X29yZGVyID0gZ2V0QnJ1c2hBY3Rpb25zTG93ZXN0T3JkZXIoKTtcbiAgICAxMVx0XG4gICAgMTJcdCAgICAvL0VOVElUWSBBQ1RJT05TXG4gICAgMTNcdCAgICAvL1NldCAuYWxsX2VudGl0eV9hY3Rpb25zOyAuYWxsX2VudGl0eV9hY3Rpb25zX2tleXNcbiAgICAxNFx0ICAgIGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBkdW1iRmxhdHRlbk9iamVjdChjb25maWcuZW50aXR5X2FjdGlvbnMpO1xuICAgIDE1XHRcbiAgICAxNlx0ICAgIGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnMgPSBnZXRBbGxFbnRpdHlBY3Rpb25zKCk7XG4gICAgMTdcdCAgICBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zX2tleXMgPSBnZXRBbGxFbnRpdHlBY3Rpb25zKHsgcmV0dXJuX2tleXM6IHRydWUgfSk7XG4gICAgMThcdCAgICBjb25maWcuZW50aXR5X2FjdGlvbnNfbG93ZXN0X29yZGVyID0gZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyKCk7XG4uLi5cblBhdGg6IHNyYy9VRi9qcy9maWxlcy9iYXNpY19maWxlcy5qc1xuLi4uXG4gICAxNjNcdCAgICAgIFxuICAgMTY0XHQgICAgICB2YXIgbG9jYWxfZGlyID0gYCR7X19kaXJuYW1lfVxcXFwke2Jhc2VfZGlyfWA7XG4gICAxNjVcdCAgICAgIHZhciBhbGxfZGlyZWN0b3J5X2ZpbGVzID0gZ2V0QWxsRmlsZXMobG9jYWxfZGlyKTtcbiAgIDE2Nlx0ICAgICAgXG4gICAxNjdcdCAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgYWxsX2RpcmVjdG9yeV9maWxlcy5sZW5ndGg7IHgrKykge1xuICAgMTY4XHQgICAgICAgIC8vU2tpcCBpZiBmaWxlIGlzIGFscmVhZHkgbG9hZGVkXG4gICAxNjlcdCAgICAgICAgaWYgKGxvYWRlZF9maWxlcy5pbmNsdWRlcyhhbGxfZGlyZWN0b3J5X2ZpbGVzW3hdKSkgY29udGludWU7XG4gICAxNzBcdCAgICAgICAgXG4gICAxNzFcdCAgICAgICAgLy9HZXQganVzdCB0aGUgZmlsZW5hbWUgZnJvbSB0aGUgZnVsbCBwYXRoXG4gICAxNzJcdCAgICAgICAgdmFyIGZpbGVuYW1lID0gYWxsX2RpcmVjdG9yeV9maWxlc1t4XS5zcGxpdCgnXFxcXCcpLnBvcCgpO1xuICAgMTczXHQgICAgICAgIFxuICAgMTc0XHQgICAgICAgIC8vQ29udmVydCBnbG9iIHBhdHRlcm4gdG8gcmVnZXhcbiAgIDE3NVx0ICAgICAgICB2YXIgcGF0dGVybiA9IGZpbGVfcGF0dGVyblxuICAgMTc2XHQgICAgICAgICAgLnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKSAvLyBFc2NhcGUgZG90c1xuICAgMTc3XHQgICAgICAgICAgLnJlcGxhY2UoL1xcKi9nLCAnLionKSAgLy8gQ29udmVydCAqIHRvIC4qXG4gICAxNzhcdCAgICAgICAgICAucmVwbGFjZSgvXFw/L2csICcuJyk7ICAvLyBDb252ZXJ0ID8gdG8gLlxuICAgMTc5XHQgICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJ14nICsgcGF0dGVybiArICckJyk7XG4gICAxODBcdCAgICAgICAgXG4gICAxODFcdCAgICAgICAgLy9Pbmx5IGxvYWQgaWYgZmlsZSBtYXRjaGVzIHBhdHRlcm5cbiAgIDE4Mlx0ICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoZmlsZW5hbWUpKSBjb250aW51ZTtcbiAgIDE4M1x0ICAgICAgICBcbiAgIDE4NFx0ICAgICAgICBsb2FkRmlsZShhbGxfZGlyZWN0b3J5X2ZpbGVzW3hdKTtcbiAgIDE4NVx0ICAgICAgICBsb2FkZWRfZmlsZXMucHVzaChhbGxfZGlyZWN0b3J5X2ZpbGVzW3hdKTtcbiAgIDE4Nlx0ICAgICAgfVxuICAgMTg3XHQgICAgfVxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2JydXNoL2JydXNoX2FjdGlvbnNfZnJhbWV3b3JrLmpzXG4uLi5cbiAgIDE3MVx0XG4gICAxNzJcdCAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDE3M1x0ICAgIHtcbiAgIDE3NFx0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2JydXNoX2FjdGlvbnNcbiAgIDE3NVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfYnJ1c2hfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgMTc2XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5icnVzaF9hY3Rpb25zW2FsbF9icnVzaF9hY3Rpb25zW2ldXTtcbiAgIDE3N1x0XG4gICAxNzhcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxNzlcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgIDE4MFx0ICAgICAgICAgICAgYnJ1c2hfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2JydXNoX2FjdGlvbnNbaV1dO1xuICAgMTgxXHQgICAgICB9XG4gICAxODJcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2JydXNoX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDE4M1x0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuYnJ1c2hfYWN0aW9uc1thbGxfYnJ1c2hfYWN0aW9uc1tpXV07XG4gICAxODRcdFxuICAgMTg1XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTg2XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgIDE4N1x0ICAgICAgICAgICAgYnJ1c2hfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2JydXNoX2FjdGlvbnNbaV1dO1xuICAgMTg4XHQgICAgICB9XG4gICAxODlcdCAgICB9XG4gICAxOTBcdFxuICAgMTkxXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAxOTJcdCAgICBpZiAoYnJ1c2hfYWN0aW9uc19leGlzdHNbMF0pXG4gICAxOTNcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuYnJ1c2hfYWN0aW9uc1ticnVzaF9hY3Rpb25zX2V4aXN0c1sxXV0gOiBicnVzaF9hY3Rpb25zX2V4aXN0c1sxXTtcbiAgIDE5NFx0ICB9XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBFbnRpdHkgQWN0aW9ucyBmcmFtZXdvcmtcbiAgICAgMlx0e1xuICAgICAzXHQgIC8qXG4gICAgIDRcdCAgICBnZXRBbGxFbnRpdHlBY3Rpb25zKCkgLSBGZXRjaGVzIGFsbCBlbnRpdHkgYWN0aW9ucyBhcyBlaXRoZXIgYW4gYXJyYXkgb2Yga2V5cyBvciBvYmplY3RzLlxuICAgICA1XHQgICAgYXJnMF9vcHRpb25zOiAoT2JqZWN0KVxuICAgICA2XHQgICAgICByZXR1cm5fa2V5czogKEJvb2xlYW4pIC0gT3B0aW9uYWwuIFdoZXRoZXIgb3Igbm90IHRvIHJldHVybiBhbiBhcnJheSBvZiBrZXlzIGluc3RlYWQgb2Ygb2JqZWN0cy4gRmFsc2UgYnkgZGVmYXVsdC5cbiAgICAgN1x0XG4gICAgIDhcdCAgICBSZXR1cm5zOiAoQXJyYXk8T2JqZWN0Pi9BcnJheTxTdHJpbmc+KVxuICAgICA5XHQgICovXG4gICAgMTBcdCAgZnVuY3Rpb24gZ2V0QWxsRW50aXR5QWN0aW9ucyAoYXJnMF9vcHRpb25zKSB7XG4gICAgMTFcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgMTJcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAgMTNcdFxuICAgIDE0XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDE1XHQgICAgdmFyIGNvbW1vbl9kZWZpbmVzID0gY29uZmlnLmRlZmluZXMuY29tbW9uO1xuICAgIDE2XHQgICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnM7XG4gICAgMTdcdCAgICB2YXIgcmV0dXJuX2FjdGlvbnMgPSBbXTtcbiAgICAxOFx0ICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1xuICAgIDE5XHRcbiAgICAyMFx0ICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNcbiAgICAyMVx0ICAgIHZhciBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zKTtcbiAgICAyMlx0XG4gICAgMjNcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspXG4gICAgMjRcdCAgICAgIGlmICghY29tbW9uX2RlZmluZXMucmVzZXJ2ZWRfZW50aXR5X2FjdGlvbnMuaW5jbHVkZXMoYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tpXSkpIHtcbiAgICAyNVx0ICAgICAgICByZXR1cm5fYWN0aW9ucy5wdXNoKGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1thbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldXSk7XG4gICAgMjZcdCAgICAgICAgcmV0dXJuX2tleXMucHVzaChhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldKTtcbiAgICAyN1x0ICAgICAgfVxuLi4uXG4gICAgMzhcdFxuICAgIDM5XHQgICAgUmV0dXJuczogKE9iamVjdC9TdHJpbmcpXG4gICAgNDBcdCAgKi9cbiAgICA0MVx0ICBmdW5jdGlvbiBnZXRFbnRpdHlBY3Rpb24gKGFyZzBfbmFtZSwgYXJnMV9vcHRpb25zKSB7XG4gICAgNDJcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgNDNcdCAgICB2YXIgbmFtZSA9IGFyZzBfbmFtZTtcbiAgICA0NFx0ICAgIHZhciBvcHRpb25zID0gKGFyZzFfb3B0aW9ucykgPyBhcmcxX29wdGlvbnMgOiB7fTtcbiAgICA0NVx0XG4gICAgNDZcdCAgICAvL0d1YXJkIGNsYXVzZSBmb3Igb2JqZWN0czsgZGlyZWN0IGtleXNcbiAgICA0N1x0ICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcIm9iamVjdFwiKSByZXR1cm4gbmFtZTtcbiAgICA0OFx0ICAgIGlmIChjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW25hbWVdKSByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tuYW1lXSA6IG5hbWU7XG4gICAgNDlcdFxuICAgIDUwXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDUxXHQgICAgdmFyIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFtmYWxzZSwgXCJcIl07IC8vW2VudGl0eV9hY3Rpb25zX2V4aXN0cywgZW50aXR5X2FjdGlvbnNfa2V5XTtcbiAgICA1Mlx0ICAgIHZhciBzZWFyY2hfbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG4uLi5cbiAgIDExN1x0XG4gICAxMThcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDExOVx0ICAgICAgdmFyIGxvY2FsX2FjdGlvbiA9IGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1thbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldXTtcbiAgIDEyMFx0XG4gICAxMjFcdCAgICAgIGlmIChsb2NhbF9hY3Rpb24ub3JkZXIgPT0gb3B0aW9ucy5vcmRlcikge1xuICAgMTIyXHQgICAgICAgIHJldHVybl9hY3Rpb25zLnB1c2gobG9jYWxfYWN0aW9uKTtcbiAgIDEyM1x0ICAgICAgICByZXR1cm5fa2V5cy5wdXNoKGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV0pO1xuICAgMTI0XHQgICAgICB9XG4gICAxMjVcdCAgICB9XG4gICAxMjZcdFxuICAgMTI3XHQgICAgLy9vcHRpb25zLnJldHVybl9vYmplY3QgaGFuZGxlclxuICAgMTI4XHQgICAgaWYgKG9wdGlvbnMucmV0dXJuX29iamVjdCkge1xuICAgMTI5XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJldHVybl9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgMTMwXHQgICAgICAgIHJldHVybl9vYmpbcmV0dXJuX2tleXNbaV1dID0gcmV0dXJuX2FjdGlvbnNbaV07XG4gICAxMzFcdCAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMTMyXHQgICAgICByZXR1cm4gcmV0dXJuX29iajtcbiAgIDEzM1x0ICAgIH1cbiAgIDEzNFx0XG4gICAxMzVcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDEzNlx0ICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyByZXR1cm5fYWN0aW9ucyA6IHJldHVybl9rZXlzO1xuICAgMTM3XHQgIH1cbi4uLlxuICAgMjU0XHRcbiAgIDI1NVx0ICAvKlxuICAgMjU2XHQgICAgZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3QoKSAtIEZldGNoZXMgdGhlIG5hdmlnYXRpb24gb2JqZWN0IGZvciBlbnRpdHkgYWN0aW9uczsgdGhlIGluaXRpYWwgY29udGV4dCBtZW51IGZyb20gdGhlIGxvd2VzdCBvcmRlci5cbiAgIDI1N1x0XG4gICAyNThcdCAgICBSZXR1cm5zOiAoT2JqZWN0KVxuICAgMjU5XHQgICovXG4gICAyNjBcdCAgZnVuY3Rpb24gZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3QgKCkge1xuICAgMjYxXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMjYyXHQgICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnM7XG4gICAyNjNcdCAgICB2YXIgbG93ZXN0X29yZGVyID0gZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyKGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyk7XG4gICAyNjRcdFxuICAgMjY1XHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAyNjZcdCAgICByZXR1cm4gZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXIoeyBvcmRlcjogbG93ZXN0X29yZGVyLCByZXR1cm5fb2JqZWN0OiB0cnVlIH0pO1xuICAgMjY3XHQgIH1cbiAgIDI2OFx0fVxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2JydXNoL2JydXNoX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0RlY2xhcmUgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBhZGRUb0JydXNoIChhcmcwX3BvbHlnb24sIGFyZzFfZG9fbm90X2FkZF90b191bmRvX3JlZG8pIHtcbiAgICAgNFx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAgNVx0ICAgIHZhciBwb2x5Z29uID0gYXJnMF9wb2x5Z29uO1xuICAgICA2XHQgICAgdmFyIGRvX25vdF9hZGRfdG9fdW5kb19yZWRvID0gYXJnMV9kb19ub3RfYWRkX3RvX3VuZG9fcmVkbztcbiAgICAgN1x0XG4gICAgIDhcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgIDlcdCAgICB2YXIgYnJ1c2hfb2JqID0gbWFpbi5icnVzaDtcbiAgICAxMFx0ICAgIHZhciBvbGRfYnJ1c2hfb2JqID0gKGJydXNoX29iai5jdXJyZW50X3BhdGgpID9cbiAgICAxMVx0ICAgICAgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShicnVzaF9vYmouY3VycmVudF9wYXRoKSkgOiB1bmRlZmluZWQ7XG4gICAgMTJcdFxuICAgIDEzXHQgICAgdHJ5IHtcbiAgICAxNFx0ICAgICAgLy8xLiBJbml0aWFsaXNlIGJydXNoLmN1cnJlbnRfcGF0aCBpZiBub3QgZGVmaW5lZDsgcHJvY2VzcyBnZW9tZXRyeSBtYXNrc1xuICAgIDE1XHQgICAgICBwb2x5Z29uID0gcHJvY2Vzc0JydXNoKHBvbHlnb24pO1xuICAgIDE2XHRcbiAgICAxN1x0ICAgICAgLy8yLiBNYWtlIHN1cmUgaW50ZXJzZWN0aW9uX3BvbHlnb24gaXMgZGVmaW5lZCBmb3IgZGVsdGFfcG9seWdvbiB1c2VcbiAgICAxOFx0ICAgICAgdmFyIGludGVyc2VjdGlvbl9wb2x5Z29uO1xuICAgIDE5XHQgICAgICB0cnkgeyBpbnRlcnNlY3Rpb25fcG9seWdvbiA9IGludGVyc2VjdGlvbihicnVzaF9vYmouY3VycmVudF9wYXRoLCBwb2x5Z29uKTsgfSBjYXRjaCAoZSkge31cbiAgICAyMFx0XG4gICAgMjFcdCAgICAgIC8vMy4gTWFyayBicnVzaCBjaGFuZ2UgYW5kIHVuaW9uIHdpdGggcG9seWdvblxuICAgIDIyXHQgICAgICBicnVzaF9vYmouYnJ1c2hfY2hhbmdlID0gdHJ1ZTtcbiAgICAyM1x0XG4gICAgMjRcdCAgICAgIC8vNC4gQWRkIHRvIGFjdGlvbnNcbiAgICAyNVx0ICAgICAgdmFyIGRlbHRhX3BvbHlnb247XG4gICAgMjZcdCAgICAgIGlmIChwb2x5Z29uKVxuICAgIDI3XHQgICAgICAgIHRyeSB7IGRlbHRhX3BvbHlnb24gPSBkaWZmZXJlbmNlKHBvbHlnb24sIGludGVyc2VjdGlvbl9wb2x5Z29uKTsgfSBjYXRjaCAoZSkge31cbi4uLlxuICAgIDQ5XHQgICAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbCBtYWluLmNhY2hlLm9sZF9tYXNrX2NoYW5nZXNcbiAgICA1MFx0ICAgICAgICBpZiAobWFpbi5jYWNoZS5vbGRfbWFza19jaGFuZ2VzKVxuICAgIDUxXHQgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYWluLmNhY2hlLm9sZF9tYXNrX2NoYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgNTJcdCAgICAgICAgICAgIHJlZG9fZnVuY3Rpb25fcGFyYW1ldGVycy5wdXNoKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWFpbi5jYWNoZS5vbGRfbWFza19jaGFuZ2VzW2ldKSkpO1xuICAgIDUzXHQgICAgICAgIG1haW4uY2FjaGUub2xkX21hc2tfY2hhbmdlcyA9IFtdO1xuICAgIDU0XHRcbiAgICA1NVx0ICAgICAgICBwZXJmb3JtQWN0aW9uKHtcbiAgICA1Nlx0ICAgICAgICAgIGFjdGlvbl9pZDogXCJhZGRfdG9fYnJ1c2hcIixcbiAgICA1N1x0ICAgICAgICAgIHJlZG9fZnVuY3Rpb246IFwic2V0RW50aXRpZXNDb29yZHNcIixcbiAgICA1OFx0ICAgICAgICAgIHJlZG9fZnVuY3Rpb25fcGFyYW1ldGVyczogW3VuZG9fZnVuY3Rpb25fcGFyYW1ldGVyc10sXG4gICAgNTlcdCAgICAgICAgICB1bmRvX2Z1bmN0aW9uOiBcInNldEVudGl0aWVzQ29vcmRzXCIsXG4gICAgNjBcdCAgICAgICAgICB1bmRvX2Z1bmN0aW9uX3BhcmFtZXRlcnM6IFtyZWRvX2Z1bmN0aW9uX3BhcmFtZXRlcnNdXG4gICAgNjFcdCAgICAgICAgfSk7XG4gICAgNjJcdCAgICAgIH1cbiAgICA2M1x0ICAgIH0gY2F0Y2ggKGUpIHtcbiAgICA2NFx0ICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgNjVcdCAgICB9XG4gICAgNjZcdFxuICAgIDY3XHQgICAgLy9SZWZyZXNoIGJydXNoIGlmIGFjdGlvbiB3YXMgY2FsbGVkIGZyb20gVW5kby9SZWRvXG4gICAgNjhcdCAgICBpZiAoZG9fbm90X2FkZF90b191bmRvX3JlZG8pXG4gICAgNjlcdCAgICAgIHJlZnJlc2hCcnVzaCgpO1xuICAgIDcwXHRcbiAgICA3MVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDcyXHQgICAgcmV0dXJuIHBvbHlnb247XG4gICAgNzNcdCAgfVxuLi4uXG4gICAgOTVcdFxuICAgIDk2XHQgIGZ1bmN0aW9uIGRpc2FibGVCcnVzaCAoKSB7XG4gICAgOTdcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgOThcdCAgICB2YXIgYnJ1c2hfb2JqID0gbWFpbi5icnVzaDtcbiAgICA5OVx0XG4gICAxMDBcdCAgICAvL1NldCBicnVzaF9vYmouZGlzYWJsZV9icnVzaFxuICAgMTAxXHQgICAgYnJ1c2hfb2JqLmRpc2FibGVfYnJ1c2ggPSB0cnVlO1xuICAgMTAyXHQgICAgaWYgKGJydXNoX29iai5jdXJzb3IpXG4gICAxMDNcdCAgICAgIGJydXNoX29iai5jdXJzb3IucmVtb3ZlKCk7XG4gICAxMDRcdCAgICB0cnkgeyByZWZyZXNoQnJ1c2hBY3Rpb25zKCk7IH0gY2F0Y2ggKGUpIHt9XG4gICAxMDVcdCAgfVxuICAgMTA2XHRcbiAgIDEwN1x0ICBmdW5jdGlvbiBlbmFibGVCcnVzaCAoKSB7XG4gICAxMDhcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxMDlcdCAgICB2YXIgYnJ1c2hfb2JqID0gbWFpbi5icnVzaDtcbiAgIDExMFx0ICAgIFxuICAgMTExXHQgICAgLy9EZWxldGUgYnJ1c2hfb2JqLmRpc2FibGVfYnJ1c2hcbiAgIDExMlx0ICAgIGRlbGV0ZSBicnVzaF9vYmouZGlzYWJsZV9icnVzaDtcbiAgIDExM1x0ICAgIGlmIChicnVzaF9vYmouY3Vyc29yKVxuICAgMTE0XHQgICAgICBicnVzaF9vYmouY3Vyc29yLnJlbW92ZSgpO1xuICAgMTE1XHQgICAgdHJ5IHsgcmVmcmVzaEJydXNoQWN0aW9ucygpOyB9IGNhdGNoIChlKSB7fVxuICAgMTE2XHQgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS9tYXAvdmFyaWFibGVfYWN0aW9uc19jb25maWcuanNcbiAgICAgMVx0Y29uZmlnLnZhcmlhYmxlcy52YXJpYWJsZV9hY3Rpb25zID0geyAvL1tXSVBdIC0gRmluaXNoIGNvbmZpZyBib2R5XG4gICAgIDJcdCAgbmFtZTogXCJWYXJpYWJsZSBBY3Rpb25zXCIsXG4gICAgIDNcdCAgc2NvcGVfdHlwZTogW1wiZW50aXRpZXNcIl0sXG4gICAgIDRcdFxuICAgICA1XHQgIGVkaXRfdmFyaWFibGU6IHtcbiAgICAgNlx0ICAgIGlkOiBcImVkaXRfdmFyaWFibGVcIixcbiAgICAgN1x0ICAgIG5hbWU6IFwiRWRpdCBWYXJpYWJsZVwiLFxuICAgICA4XHQgICAgb3JkZXI6IDEsXG4gICAgIDlcdFxuICAgIDEwXHQgICAgaW50ZXJmYWNlOiB7XG4gICAgMTFcdCAgICAgIC8vUm93IDFcbiAgICAxMlx0ICAgICAgdmFyaWFibGVfa2V5X2lucHV0OiB7XG4gICAgMTNcdCAgICAgICAgaWQ6IFwidmFyaWFibGVfa2V5X2lucHV0XCIsXG4gICAgMTRcdCAgICAgICAgbmFtZTogXCJLZXlcIixcbiAgICAxNVx0ICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAxNlx0ICAgICAgICB4OiAwLFxuICAgIDE3XHQgICAgICAgIHk6IDAsXG4gICAgMThcdFxuICAgIDE5XHQgICAgICAgIHBsYWNlaG9sZGVyOiBcIlZBUklBQkxFX09CSi5rZXlcIixcbiAgICAyMFx0ICAgICAgICBlZmZlY3Q6IHtcbiAgICAyMVx0ICAgICAgICAgIHVwZGF0ZV92YXJpYWJsZV9rZXk6IHtcbiAgICAyMlx0ICAgICAgICAgICAgRlJPTTogXCJWQVJJQUJMRV9PQkoua2V5XCIsXG4gICAgMjNcdCAgICAgICAgICAgIFRPOiBcInZhcmlhYmxlX2tleV9pbnB1dFwiXG4gICAgMjRcdCAgICAgICAgICB9XG4gICAgMjVcdCAgICAgICAgfVxuICAgIDI2XHQgICAgICB9LFxuICAgIDI3XHQgICAgICBhZGRfc3VidmFyaWFibGVfYnV0dG9uOiB7XG4gICAgMjhcdCAgICAgICAgaWQ6IFwiYWRkX3N1YnZhcmlhYmxlX2J1dHRvblwiLFxuICAgIDI5XHQgICAgICAgIG5hbWU6IFwiQWRkIFN1YnZhcmlhYmxlXCIsXG4gICAgMzBcdCAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAzMVx0ICAgICAgICB4OiAxLFxuICAgIDMyXHQgICAgICAgIHk6IDAsXG4gICAgMzNcdFxuICAgIDM0XHQgICAgICAgIGVmZmVjdDoge1xuICAgIDM1XHQgICAgICAgICAgYWRkX3N1YnZhcmlhYmxlOiBcIlZBUklBQkxFX09CSi5rZXlcIlxuICAgIDM2XHQgICAgICAgIH1cbiAgICAzN1x0ICAgICAgfSxcbiAgICAzOFx0ICAgICAgZGVsZXRlX3ZhcmlhYmxlX2J1dHRvbjoge1xuICAgIDM5XHQgICAgICAgIGlkOiBcImRlbGV0ZV92YXJpYWJsZV9idXR0b25cIixcbiAgICA0MFx0ICAgICAgICBuYW1lOiBcIkRlbGV0ZSBWYXJpYWJsZVwiLFxuICAgIDQxXHQgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgNDJcdCAgICAgICAgeDogMixcbiAgICA0M1x0ICAgICAgICB5OiAwLFxuICAgIDQ0XHQgICAgICAgIFxuICAgIDQ1XHQgICAgICAgIGVmZmVjdDoge1xuICAgIDQ2XHQgICAgICAgICAgZGVsZXRlX3ZhcmlhYmxlOiBcIlZBUklBQkxFX09CSi5rZXlcIlxuICAgIDQ3XHQgICAgICAgIH1cbiAgICA0OFx0ICAgICAgfSxcbiAgICA0OVx0XG4gICAgNTBcdCAgICAgIC8vUm93IDJcbiAgICA1MVx0ICAgICAgc2V0dGluZ3NfY2hlY2tib3g6IHtcbiAgICA1Mlx0ICAgICAgICBpZDogXCJzZXR0aW5nc19jaGVja2JveFwiLFxuICAgIDUzXHQgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICA1NFx0ICAgICAgICB4OiAwLFxuICAgIDU1XHQgICAgICAgIHk6IDEsXG4gICAgNTZcdCAgICAgICAgXG4gICAgNTdcdCAgICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgNThcdCAgICAgICAgb3B0aW9uczoge1xuICAgIDU5XHQgICAgICAgICAgaXNfZ2xvYmFsX3ZhcmlhYmxlOiBcIkdsb2JhbCBWYXJpYWJsZVwiLFxuICAgIDYwXHQgICAgICAgICAgaXNfdmlld19pbl9ncmFwaDogXCJWaWV3IGluIEdyYXBoXCJcbiAgICA2MVx0ICAgICAgICB9XG4gICAgNjJcdCAgICAgIH0sXG4gICAgNjNcdFxuICAgIDY0XHQgICAgICAvL1JvdyAzXG4gICAgNjVcdCAgICAgIHplcm9fYm91bmRfaW50ZXJwb2xhdGlvbl9jaGVja2JveDoge1xuICAgIDY2XHQgICAgICAgIGlkOiBcInplcm9fYm91bmRfaW50ZXJwb2xhdGlvbl9jaGVja2JveFwiLFxuICAgIDY3XHQgICAgICAgIG5hbWU6IFwiWmVybyBCb3VuZCBJbnRlcnBvbGF0aW9uXCIsXG4gICAgNjhcdCAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgIDY5XHQgICAgICAgIHg6IDAsXG4gICAgNzBcdCAgICAgICAgeTogMixcbiAgICA3MVx0ICAgICAgICBcbiAgICA3Mlx0ICAgICAgICBkZWZhdWx0OiB0cnVlLFxuICAgIDczXHQgICAgICAgIG9wdGlvbnM6IHtcbiAgICA3NFx0ICAgICAgICAgIHplcm9fYm91bmRfaW50ZXJwb2xhdGlvbjogXCJaZXJvLWJvdW5kIEludGVycG9sYXRpb25cIlxuICAgIDc1XHQgICAgICAgIH1cbiAgICA3Nlx0ICAgICAgfSxcbiAgICA3N1x0ICAgICAgaW50ZXJwb2xhdGlvbl9zZWxlY3Q6IHtcbiAgICA3OFx0ICAgICAgICBpZDogXCJpbnRlcnBvbGF0aW9uX3NlbGVjdFwiLFxuICAgIDc5XHQgICAgICAgIG5hbWU6IFwiSW50ZXJwb2xhdGlvblwiLFxuICAgIDgwXHQgICAgICAgIHR5cGU6IFwic2VsZWN0XCIsXG4gICAgODFcdCAgICAgICAgeDogMSxcbiAgICA4Mlx0ICAgICAgICB5OiAyLFxuICAgIDgzXHRcbiAgICA4NFx0ICAgICAgICBvcHRpb25zOiB7XG4gICAgODVcdCAgICAgICAgICBub25lOiBcIk5vbmVcIixcbiAgICA4Nlx0ICAgICAgICAgIGxpbmVhcjogXCJMaW5lYXJcIixcbiAgICA4N1x0ICAgICAgICAgIGN1YmljX3NwbGluZTogXCJDdWJpYyBTcGxpbmVcIlxuICAgIDg4XHQgICAgICAgIH1cbiAgICA4OVx0ICAgICAgfSxcbiAgICA5MFx0XG4gICAgOTFcdCAgICAgIC8vUm93IDRcbiAgICA5Mlx0ICAgICAgY3VycmVudF92YXJpYWJsZV92YWx1ZV9pbnB1dDoge1xuICAgIDkzXHQgICAgICAgIGlkOiBcImN1cnJlbnRfdmFyaWFibGVfdmFsdWVfaW5wdXRcIixcbiAgICA5NFx0ICAgICAgICBuYW1lOiBcIkN1cnJlbnQgVmFsdWVcIixcbiAgICA5NVx0ICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICA5Nlx0ICAgICAgICB4OiAwLFxuICAgIDk3XHQgICAgICAgIHk6IDMsXG4gICAgOThcdCAgICAgICAgXG4gICAgOTlcdCAgICAgICAgcGxhY2Vob2xkZXI6IFwiMFwiXG4gICAxMDBcdCAgICAgIH0sXG4gICAxMDFcdCAgICAgIHZhcmlhYmxlX2hpc3Rvcnk6IHtcbiAgIDEwMlx0ICAgICAgICBpZDogXCJ2YXJpYWJsZV9oaXN0b3J5XCIsXG4gICAxMDNcdCAgICAgICAgbmFtZTogXCJWYXJpYWJsZSBIaXN0b3J5XCIsXG4gICAxMDRcdCAgICAgICAgdHlwZTogXCJodG1sXCIsXG4gICAxMDVcdCAgICAgICAgeDogMCxcbiAgIDEwNlx0ICAgICAgICB5OiA0LFxuICAgMTA3XHQgICAgICAgIFxuICAgMTA4XHQgICAgICAgIGh0bWw6IGA8ZGl2IGNsYXNzID0gXCJ2YXJpYWJsZS1oaXN0b3J5LWNvbnRhaW5lclwiPjwvZGl2PmBcbiAgIDEwOVx0ICAgICAgfSAvL0hUTUwgdHlwZTsgcG9wdWxhdGVzIGFsbCBrZXlmcmFtZXMgZm9yIHZhcmlhYmxlIGNoYW4uLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJhNTcyMWEzOC05OWFiLTQ4NmUtOTQ3OC1iN2IwZWEzN2QyY2Y7dG9vbHVfdnJ0eF8wMTI0YkNQQkVmZWVLV2NBYkY1dGVpaWoiOnsicmVxdWVzdElkIjoiYTU3MjFhMzgtOTlhYi00ODZlLTk0NzgtYjdiMGVhMzdkMmNmIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTI0YkNQQkVmZWVLV2NBYkY1dGVpaWoiLCJwaGFzZSI6NiwicmVzdWx0Ijp7InRleHQiOiJGaWxlIG5vdCBmb3VuZDogc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMuIERpZCB5b3UgbWVhbiBvbmUgb2YgdGhlc2U/IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLCBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcyIsImlzRXJyb3IiOnRydWUsInJlcXVlc3RJZCI6IiJ9fSwiNGQxYjU5M2MtNGYyOS00OGRlLTk1NjEtNjMwODQ2YTA4YzMwO3Rvb2x1X3ZydHhfMDFBenk0Q1didVBRaDZUZ2JIWDN5NlphIjp7InJlcXVlc3RJZCI6IjRkMWI1OTNjLTRmMjktNDhkZS05NTYxLTYzMDg0NmEwOGMzMCIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFBenk0Q1didVBRaDZUZ2JIWDN5NlphIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL2luZGV4Lmh0bWxcbi4uLlxuICAgIDYwXHRcbiAgICA2MVx0XHRcdDwhLS0gQ29sb3JwaWNrZXIsIExlYWRlckxpbmUsIExlYWZsZXQsIFNvcnRhYmxlLCBUaXBweSwgVHVyZiBDU1MgLS0+XG4gICAgNjJcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2xpYnJhcmllcy9jb2xvcnBpY2tlci5jc3NcIj5cbiAgICA2M1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2xpYnJhcmllcy9jb2xvcnBpY2tlci5paWZlLmpzXCI+PC9zY3JpcHQ+XG4gICAgNjRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9saWJyYXJpZXMvbGVhZGVyLWxpbmUubWluLmpzXCI+PC9zY3JpcHQ+XG4gICAgNjVcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2xpYnJhcmllcy9sZWFmbGV0LmNzc1wiPlxuICAgIDY2XHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9saWJyYXJpZXMvc2NhbGUuY3NzXCIvPlxuICAgIDY3XHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9saWJyYXJpZXMvb2wuY3NzXCIgdHlwZT1cInRleHQvY3NzXCI+XG4gICAgNjhcdFx0XHRcbiAgICA2OVx0XHRcdDwhLS0gVUYsIENTUyBJbXBvcnRzIC0tPlxuICAgIDcwXHQgICAgPGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiVUYvY3NzL0Jyb3dzZXJVSS9jb250ZXh0X21lbnVzLmNzc1wiPlxuICAgIDcxXHQgICAgPGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiVUYvY3NzL0Jyb3dzZXJVSS93aW5kb3dzLmNzc1wiPlxuICAgIDcyXHRcbiAgICA3M1x0ICAgIDwhLS0gVUYsIEpTIEltcG9ydHMgLS0+XG4gICAgNzRcdCAgICA8c2NyaXB0IHNyYyA9IFwiVUYvanMvQUJSUy9mcmFtZXdvcmtfQUJSUy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuLi4uXG4gICAgOTJcdFxuICAgIDkzXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS9iYXNpY19odG1sLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAgOTRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvQnJvd3NlclVJL2NvbnRleHRfbWVudXNfaGVscGVyX2Z1bmN0aW9ucy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgIDk1XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS9jb250ZXh0X21lbnVzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAgOTZcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvQnJvd3NlclVJL2NvbnRleHRfbWVudXNfcmVhZC5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgIDk3XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS9jb250ZXh0X21lbnVzX3dyaXRlLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAgOThcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvQnJvd3NlclVJL2dyb3Vwc19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgICA5OVx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9Ccm93c2VyVUkvaGllcmFyY2h5X2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTAwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbi4uLlxuICAgMTE2XHRcbiAgIDExN1x0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9udW1iZXJzL2Jhc2ljX251bWJlcnMuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDExOFx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9udW1iZXJzL3Jhbmdlc19udW1iZXJzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAxMTlcdFxuICAgMTIwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL29iamVjdHMvYmFzaWNfb2JqZWN0cy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTIxXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL29iamVjdHMvbWF0aHNfb2JqZWN0cy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTIyXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL29iamVjdHMvc21hcnRfc2VhcmNoX29iamVjdHMuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDEyM1x0XG4gICAxMjRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvcGF0aGZpbmRpbmcvYV9zdGFyX3BhdGhmaW5kaW5nLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAxMjVcdFxuICAgMTI2XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3N0YXRpc3RpY3MvYmFzaWNfZGVtb2dyYXBoaWNzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAxMjdcdFxuICAgMTI4XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3N0cmluZ3MvYmFzaWNfc3RyaW5ncy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTI5XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3N0cmluZ3MvY2xlYW5pbmdfc3RyaW5ncy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTMwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3N0cmluZ3Mvc3BsaXRfc3RyaW5ncy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTMxXHRcbiAgIDEzMlx0XHRcdDwhLS0gSW1wb3J0IGNvbmZpZyAtLT5cbiAgIDEzM1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS91aV9jb25maWcuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDEzNFx0XHQ8L2hlYWQ+XG4gICAxMzVcdFx0PGJvZHk+XG4gICAxMzZcdFx0XHQ8IS0tIE1hcCBjb250YWluZXIgLS0+XG4gICAxMzdcdFx0XHQ8ZGl2IGlkID0gXCJtYXBcIiBjbGFzcyA9IFwibWFwLWNvbnRhaW5lclwiPjwvZGl2PlxuICAgMTM4XHRcbiAgIDEzOVx0XHRcdDwhLS0gVG9wYmFyIFVJIC0tPlxuICAgMTQwXHRcdFx0PGRpdiBpZCA9IFwidG9wYmFyXCIgY2xhc3MgPSBcInRvcGJhci1jb250YWluZXJcIj5cbiAgIDE0MVx0XHRcdFx0PHVsPlxuICAgMTQyXHRcdFx0XHRcdDxsaSBjbGFzcyA9IFwiZmlsZVwiPjxhIGhyZWYgPSBcIiNcIj5GaWxlPC9hPjwvbGk+XG4gICAxNDNcdFx0XHRcdFx0PGxpIGNsYXNzID0gXCJ1bmRvX3JlZG9cIj48YSBocmVmID0gXCIjXCI+VW5kby9SZWRvPC9hPjwvbGk+XG4gICAxNDRcdFx0XHRcdFx0PGxpIGNsYXNzID0gXCJtYXAgYWN0aXZlXCI+PGEgaHJlZiA9IFwiI1wiPk1hcDwvYT48L2xpPlxuICAgMTQ1XHRcdFx0XHQ8L3VsPlxuLi4uXG4gICAyOTdcdFxuICAgMjk4XHRcdFx0PCEtLSBJbXBvcnQgZnJhbWV3b3JrIC0tPlxuICAgMjk5XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2JydXNoL2JydXNoX2FjdGlvbnNfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMDBcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYnJ1c2gvYnJ1c2hfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMDFcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvY29vcmRzL2Nvb3Jkc19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwMlx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9kYXRlL2RhdGVfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMDNcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMDRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzA1XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9kZWx0YV9hY3Rpb25zX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuLi4uXG4gICAzMTRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvbWFwL3JlbmRlcmluZ19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMxNVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9tYXNrcy9tYXNrX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzE2XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzE3XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMxOFx0XG4gICAzMTlcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvb3B0aW1pc2F0aW9uX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzIwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL3BhcnNpbmdfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMjFcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvc2V0dGluZ3NfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMjJcdFxuICAgMzIzXHRcdFx0PCEtLSBJbXBvcnQgbG9jYWxpc2F0aW9uIC0tPlxuICAgMzI0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL21hcC9lbnRpdHlfbG9jYWxpc2F0aW9uLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMjVcdFxuICAgMzI2XHRcdFx0PCEtLSBJbXBvcnQgVUkgLS0+XG4gICAzMjdcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbGVmdF9zaWRlYmFyL2RhdGVfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMyOFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9sZWZ0X3NpZGViYXIvZmlsZV91aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzI5XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL2xlZnRfc2lkZWJhci91bmRvX3JlZG9fdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbi4uLlxuICAgMzQ4XHRcbiAgIDM0OVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9yaWdodF9zaWRlYmFyL2JydXNoX2FjdGlvbnNfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM1MFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9yaWdodF9zaWRlYmFyL21hcF9icnVzaF91aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PiA8IS0tIFtXSVBdIC0gREVQUkVDQVRFIC0tPlxuICAgMzUxXHRcbiAgIDM1Mlx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS90b3BiYXIvdG9wYmFyX3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNTNcdFxuICAgMzU0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzU1XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL3VpX2luaXRpYWxpc2F0aW9uLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4uLi5cblBhdGg6IHNyYy9qcy9zdGFydHVwLmpzXG4gICAgIDFcdC8vSW1wb3J0IG1vZHVsZXNcbiAgICAgMlx0d2luZG93LmNoaWxkX3Byb2Nlc3MgPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTtcbiAgICAgM1x0d2luZG93LmZzID0gcmVxdWlyZShcImZzXCIpO1xuICAgICA0XHR3aW5kb3cucGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuICAgICA1XHRcbiAgICAgNlx0Ly9Mb2FkIGNvbmZpZ1xuICAgICA3XHR7XG4gICAgIDhcdCAgZ2xvYmFsLmxvYWRfb3JkZXIgPSB7XG4gICAgIDlcdCAgICBsb2FkX2RpcmVjdG9yaWVzOiBbXG4gICAgMTBcdCAgICAgIFwiY29uZmlnXCIsXG4gICAgMTFcdCAgICAgIFwiLi9qcy9pbnRlcmZhY2UvKl9jb25maWcuanNcIixcbiAgICAxMlx0ICAgICAgXCJVRlwiXG4gICAgMTNcdCAgICBdLFxuICAgIDE0XHQgICAgbG9hZF9maWxlczogW1xuICAgIDE1XHQgICAgICBcIi5jb25maWdfYmFja2VuZC5qc1wiXG4gICAgMTZcdCAgICBdXG4gICAgMTdcdCAgfTtcbiAgICAxOFx0ICBsb2FkQ29uZmlnKCk7XG4gICAgMTlcdH1cbiAgICAyMFx0XG4gICAgMjFcdC8vSW5pdCBnbG9iYWxcbiAgICAyMlx0e1xuICAgIDIzXHQgIC8vRGVjbGFyZSBsb2NhbCBpbml0aWFsaXNhdGlvbiBjb25zdGFudHNcbiAgICAyNFx0ICB2YXIgY3VycmVudF9kYXRlID0gbmV3IERhdGUoKTtcbiAgICAyNVx0XG4gICAgMjZcdCAgLy9Jbml0aWFsaXNlIGdsb2JhbC5pbnRlcmZhY2VzXG4gICAgMjdcdCAgZ2xvYmFsLmludGVyZmFjZXMgPSB7fTtcbiAgICAyOFx0XG4gICAgMjlcdCAgLy9Jbml0aWFsaXNlIGdsb2JhbC5tYWluXG4gICAgMzBcdCAgZ2xvYmFsLm1haW4gPSB7fTtcbi4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS91aV9jb25maWcuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIGNvbmZpZyBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgIDJcdGlmICghZ2xvYmFsLmNvbmZpZykgZ2xvYmFsLmNvbmZpZyA9IHt9O1xuICAgICAzXHRcbiAgICAgNFx0Ly9Jbml0aWFsaXNlIGhlbHBlciBmdW5jdGlvbnNcbiAgICAgNVx0e1xuICAgICA2XHQgIGZ1bmN0aW9uIGdldFVJU2VsZWN0b3IgKGFyZzBfa2V5LCBhcmcxX3JldHVybl9hcnJheSkge1xuICAgICA3XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgICA4XHQgICAgdmFyIGtleSA9IGFyZzBfa2V5O1xuICAgICA5XHQgICAgdmFyIHJldHVybl9hcnJheSA9IGFyZzFfcmV0dXJuX2FycmF5O1xuICAgIDEwXHRcbiAgICAxMVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxMlx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgICAxM1x0ICAgIHZhciBjb21tb25fc2VsZWN0b3JzID0gY29tbW9uX2RlZmluZXMuc2VsZWN0b3JzO1xuICAgIDE0XHRcbiAgICAxNVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDE2XHQgICAgaWYgKGNvbW1vbl9zZWxlY3RvcnNba2V5XSkge1xuICAgIDE3XHQgICAgICByZXR1cm4gKCFyZXR1cm5fYXJyYXkpID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb21tb25fc2VsZWN0b3JzW2tleV0pIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb21tb25fc2VsZWN0b3JzW2tleV0pO1xuICAgIDE4XHQgICAgfSBlbHNlIHtcbiAgICAxOVx0ICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IGZpbmQgc2VsZWN0b3IgaW4gY29uZmlnLmRlZmluZXMuY29tbW9uOmAsIGtleSk7XG4gICAgMjBcdCAgICB9XG4gICAgMjFcdCAgfVxuICAgIDIyXHR9XG4uLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvbGVmdF9zaWRlYmFyL3NldHRpbmdzX2dsb2JhbF9jb25maWcuanNcbiAgICAgMVx0Y29uZmlnLnNldHRpbmdzLmdsb2JhbCA9IHtcbiAgICAgMlx0ICBvcmRlcjogMSxcbiAgICAgM1x0ICBcbiAgICAgNFx0ICBnbG9iYWxfc2V0dGluZ3NfaHRtbDoge1xuICAgICA1XHQgICAgaWQ6IGBnbG9iYWxfc2V0dGluZ3NfaGVhZGVyYCxcbiAgICAgNlx0ICAgIHR5cGU6IFwiaHRtbFwiLFxuICAgICA3XHRcbiAgICAgOFx0ICAgIGlubmVySFRNTDogYFxuICAgICA5XHQgICAgICA8ZGl2IGNsYXNzID0gXCJwcmltYXJ5LWhlYWRlclwiPkdsb2JhbCBTZXR0aW5nczwvZGl2PlxuICAgIDEwXHQgICAgYCxcbiAgICAxMVx0ICB9LFxuICAgIDEyXHQgIGdsb2JhbF9kZWZhdWx0X3NhdmVfZmlsZToge1xuICAgIDEzXHQgICAgaWQ6IFwiZ2xvYmFsX2RlZmF1bHRfc2F2ZV9maWxlXCIsXG4gICAgMTRcdCAgICB0eXBlOiBcInRleHRcIixcbiAgICAxNVx0XG4gICAgMTZcdCAgICBuYW1lOiBcIkRlZmF1bHQgc2F2ZSBmaWxlIG9uIHN0YXJ0dXA6XCIsXG4gICAgMTdcdCAgICBhdHRyaWJ1dGVzOiB7XG4gICAgMThcdCAgICAgIHZhbHVlOiBcIi4vYXV0b3NhdmUuanNcIlxuICAgIDE5XHQgICAgfVxuICAgIDIwXHQgIH0sXG4gICAgMjFcdCAgZ2xvYmFsX3VpX2xheW91dF90b2dnbGVzOiB7IC8vW1dJUF0gLSBGdW5jdGlvbmFsaXR5IG5vdCB5ZXQgYWRkZWRcbiAgICAyMlx0ICAgIGlkOiBgZ2xvYmFsX3VpX2xheW91dF90b2dnbGVzYCxcbiAgICAyM1x0ICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAyNFx0XG4gICAgMjVcdCAgICBvcHRpb25zOiB7XG4gICAgMjZcdCAgICAgIFwiYW5jaG9yX2VudGl0eV9wb3B1cHNcIjogXCJBbmNob3IgRW50aXR5IFBvcHVwc1wiLFxuICAgIDI3XHQgICAgICBcImhpZGVfZW50aXR5X2RhdGFfZ3JhcGhfYnlfZGVmYXVsdFwiOiBcIkhpZGUgRW50aXR5IERhdGEgR3JhcGggYnkgRGVmYXVsdFwiXG4gICAgMjhcdCAgICB9XG4gICAgMjlcdCAgfSxcbiAgICAzMFx0ICBkb2N1bWVudF9zZXR0aW5nc19odG1sOiB7XG4gICAgMzFcdCAgICBpZDogYGRvY3VtZW50X3NldHRpbmdzX2hlYWRlcmAsXG4gICAgMzJcdCAgICB0eXBlOiBcImh0bWxcIixcbiAgICAzM1x0XG4gICAgMzRcdCAgICBpbm5lckhUTUw6IGBcbiAgICAzNVx0ICAgICAgPGRpdiBjbGFzcyA9IFwicHJpbWFyeS1oZWFkZXJcIj5Eb2N1bWVudCBTZXR0aW5nczwvZGl2PlxuICAgIDM2XHQgICAgYCxcbiAgICAzN1x0ICB9XG4gICAgMzhcdH07Li4uXG5QYXRoOiBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKipcbiAgICAgNFx0ICAgKiBjcmVhdGVTZWN0aW9uKCkgLSBDcmVhdGVzIGEgZm9sZGFibGUgZWxlbWVudCB0aGF0IGNhbiBiZSBtaW5pbWlzZWQvZXhwYW5kZWQuXG4gICAgIDVcdCAgICogQHBhcmFtIHtPYmplY3R9IFthcmcwX29wdGlvbnNdXG4gICAgIDZcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLmV4cGFuZF9jbGFzcz1cInVmLWV4cGFuZGVkXCJdIC0gVGhlIGNsYXNzIHRvIGFkZCB3aGVuIHRoZSBzZWN0aW9uIGlzIGV4cGFuZGVkLlxuICAgICA3XHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5taW5pbWlzZV9jbGFzcz1cInVmLW1pbmltaXNlZFwiXSAtIFRoZSBjbGFzcyB0byBhZGQgd2hlbiB0aGUgc2VjdGlvbiBpcyBjb2xsYXBzZWQuXG4gICAgIDhcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNlbGVjdG9yXSAtIFRoZSBzZWxlY3RvciBvZiB0aGUgZWxlbWVudHMgdGhhdCBjYW4gYmUgbWluaW1pc2VkL2V4cGFuZGVkLiBOb3RlIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgY292ZXJlZCBieSB0aGUgc2VsZWN0b3Igd2lsbCBoYXZlIHRoZSBjaGV2cm9uIGNvbnRyb2xsZXIuXG4gICAgIDlcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNlbGVjdG9yX2NsYXNzPVwidWYtY2hldnJvbiBtaW5pbWlzZVwiXSAtIFRoZSBjbGFzcyB0byBhZGQgdG8gdGhlIGNoZXZyb24gY29udHJvbGxlci5cbiAgICAxMFx0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMuc3JjPVwiLi9VRi9nZngvY2hldnJvbl9pY29uLnBuZ1wiXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGNoZXZyb24gaW1hZ2UuXG4gICAgMTFcdCAgICogIEBwYXJhbSB7Qm9vbGVhbn0gW2FyZzBfb3B0aW9ucy5pc19jb2xsYXBzZWQ9ZmFsc2VdIC0gV2hldGhlciB0aGUgc2VjdGlvbiBzaG91bGQgc3RhcnQgaW4gYSBjb2xsYXBzZWQgc3RhdGUuXG4gICAgMTJcdCAgICovXG4gICAgMTNcdCAgZnVuY3Rpb24gY3JlYXRlU2VjdGlvbiAoYXJnMF9vcHRpb25zKSB7XG4gICAgMTRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgMTVcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAgMTZcdFxuICAgIDE3XHQgICAgLy9Jbml0aWFsaXNlIG9wdGlvbnNcbiAgICAxOFx0ICAgIGlmICghb3B0aW9ucy5leHBhbmRfY2xhc3MpIG9wdGlvbnMuZXhwYW5kX2NsYXNzID0gXCJ1Zi1leHBhbmRlZFwiO1xuICAgIDE5XHQgICAgaWYgKCFvcHRpb25zLm1pbmltaXNlX2NsYXNzKSBvcHRpb25zLm1pbmltaXNlX2NsYXNzID0gXCJ1Zi1taW5pbWlzZWRcIjtcbiAgICAyMFx0ICAgIGlmICghb3B0aW9ucy5zZWxlY3Rvcikgb3B0aW9ucy5zZWxlY3RvciA9IFwiXCI7XG4gICAgMjFcdCAgICBpZiAoIW9wdGlvbnMuc2VsZWN0b3JfY2xhc3MpIG9wdGlvbnMuc2VsZWN0b3JfY2xhc3MgPSBcInVmLWNoZXZyb24gbWluaW1pc2VcIjtcbiAgICAyMlx0ICAgIGlmICghb3B0aW9ucy5zcmMpIG9wdGlvbnMuc3JjID0gXCIuL1VGL2dmeC9jaGV2cm9uX2ljb24ucG5nXCI7XG4gICAgMjNcdCAgICBpZiAob3B0aW9ucy5pc19jb2xsYXBzZWQgPT09IHVuZGVmaW5lZCkgb3B0aW9ucy5pc19jb2xsYXBzZWQgPSBmYWxzZTtcbiAgICAyNFx0XG4gICAgMjVcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMjZcdCAgICB2YXIgYWxsX2NvbGxhcHNpYmxlX2VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgLy9TZXQgY2hldnJvbiBpbWFnZSBvbiBmaXJzdCBjb2xsYXBzaWJsZSBlbFxuICAgIDI5XHQgICAgdmFyIGNoZXZyb25fYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAzMFx0ICAgICAgY2hldnJvbl9idG4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgb3B0aW9ucy5zZWxlY3Rvcl9jbGFzcyk7XG4gICAgMzFcdCAgICAgIGNoZXZyb25fYnRuLnNldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiLCBmYWxzZSk7XG4gICAgMzJcdCAgICAgIGNoZXZyb25fYnRuLnNyYyA9IG9wdGlvbnMuc3JjO1xuICAgIDMzXHRcbiAgICAzNFx0ICAgIC8vQWRkIGNoZXZyb24gdG8gZmlyc3QgZWxlbWVudCBpZiBpdCBleGlzdHNcbiAgICAzNVx0ICAgIGlmIChhbGxfY29sbGFwc2libGVfZWxzLmxlbmd0aCA+IDApIHtcbiAgICAzNlx0ICAgICAgdmFyIGZpcnN0X2VsID0gYWxsX2NvbGxhcHNpYmxlX2Vsc1swXTtcbiAgICAzN1x0ICAgICAgZmlyc3RfZWwuYXBwZW5kQ2hpbGQoY2hldnJvbl9idG4sIGZpcnN0X2VsLmZpcnN0Q2hpbGQpO1xuICAgIDM4XHQgICAgfVxuICAgIDM5XHRcbiAgICA0MFx0ICAgIC8vU2V0IGluaXRpYWwgc3RhdGUgaWYgY29sbGFwc2VkXG4gICAgNDFcdCAgICBpZiAob3B0aW9ucy5pc19jb2xsYXBzZWQgJiYgYWxsX2NvbGxhcHNpYmxlX2Vscy5sZW5ndGggPiAxKSB7XG4gICAgNDJcdCAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYWxsX2NvbGxhcHNpYmxlX2Vscy5sZW5ndGg7IGkrKykge1xuICAgIDQzXHQgICAgICAgIHZhciBlbCA9IGFsbF9jb2xsYXBzaWJsZV9lbHNbaV07XG4gICAgNDRcdCAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShvcHRpb25zLmV4cGFuZF9jbGFzcyk7XG4gICAgNDVcdCAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChvcHRpb25zLm1pbmltaXNlX2NsYXNzKTtcbiAgICA0Nlx0ICAgICAgfVxuICAgIDQ3XHQgICAgICBjaGV2cm9uX2J0bi5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgwZGVnKVwiO1xuICAgIDQ4XHQgICAgfVxuICAgIDQ5XHRcbiAgICA1MFx0ICAgIC8vQWRkIGNsaWNrIGhhbmRsZXIgdG8gdG9nZ2xlIHNlY3Rpb25cbiAgICA1MVx0ICAgIGNoZXZyb25fYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgNTJcdCAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICA1M1x0ICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICA1NFx0XG4gICAgNTVcdCAgICAgIC8vVG9nZ2xlIGNsYXNzZXMgb24gYWxsIGNvbGxhcHNpYmxlIGVsZW1lbnRzXG4gICAgNTZcdCAgICAgIGlmIChhbGxfY29sbGFwc2libGVfZWxzLmxlbmd0aCA+IDEpXG4gICAgNTdcdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhbGxfY29sbGFwc2libGVfZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgNThcdCAgICAgICAgICB2YXIgZWwgPSBhbGxfY29sbGFwc2libGVfZWxzW2ldO1xuICAgIDU5XHQgICAgICAgICAgXG4gICAgNjBcdCAgICAgICAgICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucyhvcHRpb25zLm1pbmltaXNlX2NsYXNzKSkge1xuICAgIDYxXHQgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKG9wdGlvbnMuZXhwYW5kX2NsYXNzKTtcbiAgICA2Mlx0ICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChvcHRpb25zLm1pbmltaXNlX2NsYXNzKTtcbiAgICA2M1x0ICAgICAgICAgIH0gZWxzZSB7XG4gICAgNjRcdCAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUob3B0aW9ucy5taW5pbWlzZV9jbGFzcyk7XG4gICAgNjVcdCAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQob3B0aW9ucy5leHBhbmRfY2xhc3MpO1xuICAgIDY2XHQgICAgICAgICAgfVxuICAgIDY3XHQgICAgICAgIH1cbiAgICA2OFx0XG4gICAgNjlcdCAgICAgIC8vVG9nZ2xlIGNoZXZyb24gcm90YXRpb25cbiAgICA3MFx0ICAgICAgaWYgKGNoZXZyb25fYnRuLnN0eWxlLnRyYW5zZm9ybSA9PT0gXCJyb3RhdGUoMTgwZGVnKVwiKSB7XG4gICAgNzFcdCAgICAgICAgY2hldnJvbl9idG4uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoMGRlZylcIjtcbiAgICA3Mlx0ICAgICAgfSBlbHNlIHtcbiAgICA3M1x0ICAgICAgICBjaGV2cm9uX2J0bi5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgxODBkZWcpXCI7XG4gICAgNzRcdCAgICAgIH1cbiAgICA3NVx0ICAgIH0pO1xuICAgIDc2XHRcbiAgICA3N1x0ICAgIC8vUmV0dXJuIHRoZSBjaGV2cm9uIGJ1dHRvbiBmb3IgZXh0ZXJuYWwgY29udHJvbCBpZiBuZWVkZWRcbiAgICA3OFx0ICAgIHJldHVybiBjaGV2cm9uX2J0bjtcbiAgICA3OVx0ICB9XG4gICAgODBcdH0uLi5cblBhdGg6IHNyYy9VRi9qcy9BQlJTL2ZyYW1ld29ya19BQlJTLmpzXG4gICAgIDFcdC8vQUJSUyAtIFJlcXVpcmVzIGZzOyBKU09OUGFjayBmb3IgSlNPTiBjb21wcmVzc2lvbiBmZWF0dXJlc1xuICAgICAyXHR7XG4gICAgIDNcdCAgLypcbiAgICAgNFx0ICAgIGNoYW5nZVNhdmVEaXJlY3RvcnkoKSAtIENoYW5nZXMgdGhlIGRlZmF1bHQgc2F2ZSBkaXJlY3RvcnkgdG8gYSBkZWZpbmVkIHBhdGguXG4gICAgIDVcdCAgICBhcmcwX3BhdGg6IChTdHJpbmcpIC0gVGhlIHBhdGggc3RyaW5nIHRvIGNoYW5nZSB0aGUgc2F2ZSBkaXJlY3RvcnkgdG8uXG4gICAgIDZcdCAgKi9cbiAgICAgN1x0ICBmdW5jdGlvbiBjaGFuZ2VTYXZlRGlyZWN0b3J5IChhcmcwX3BhdGgpIHtcbiAgICAgOFx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAgOVx0ICAgIHZhciBwYXRoID0gYXJnMF9wYXRoO1xuICAgIDEwXHRcbiAgICAxMVx0ICAgIC8vU2V0IGdsb2JhbCB2YXJhaWJsZVxuICAgIDEyXHQgICAgZ2xvYmFsLkFCUlNfZGlyZWN0b3J5ID0gcGF0aDtcbiAgICAxM1x0ICB9XG4uLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vVUkgd2luZG93IGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gY2xvc2VQb3B1cCAoKSB7XG4gICAgIDRcdCAgICBtYXAuY2xvc2VQb3B1cCgpO1xuICAgICA1XHQgIH1cbiAgICAgNlx0XG4gICAgIDdcdCAgZnVuY3Rpb24gaGlkZUVsZW1lbnQgKGFyZzBfZWxlbWVudCkge1xuICAgICA4XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgICA5XHQgICAgdmFyIGVsZW1lbnQgPSBhcmcwX2VsZW1lbnQ7XG4gICAgMTBcdFxuICAgIDExXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDEyXHQgICAgdmFyIGNsYXNzX25hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIDEzXHRcbiAgICAxNFx0ICAgIGlmICghY2xhc3NfbmFtZS5pbmNsdWRlcyhcIiBoaWRkZW5cIikpXG4gICAgMTVcdCAgICAgIChjbGFzc19uYW1lKSA/XG4gICAgMTZcdCAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBgJHtjbGFzc19uYW1lfSBoaWRkZW5gKSA6XG4gICAgMTdcdCAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIiBoaWRkZW5cIik7XG4gICAgMThcdCAgfVxuICAgIDE5XHRcbiAgICAyMFx0ICBmdW5jdGlvbiB1cGRhdGVTaWRlYmFySG92ZXIgKCkge1xuICAgIDIxXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDIyXHQgICAgdmFyIGFsbF9ob3ZlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuaGllcmFyY2h5LWVsZW1lbnRzLWNvbnRhaW5lciBkaXY6aG92ZXJgKTtcbiAgICAyM1x0ICAgIHZhciBhbGxfbGVnYWN5X2hvdmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5ob3ZlcmApO1xuICAgIDI0XHRcbiAgICAyNVx0ICAgIC8vQ2xlYXIgYWxsIGVsZW1lbnRzIHdpdGggLmhvdmVyIGNsYXNzXG4gICAgMjZcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9sZWdhY3lfaG92ZXJzLmxlbmd0aDsgaSsrKVxuICAgIDI3XHQgICAgICBhbGxfbGVnYWN5X2hvdmVyc1tpXS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFxuICAgIDI4XHQgICAgICAgIGFsbF9sZWdhY3lfaG92ZXJzW2ldLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLnJlcGxhY2UoXCIgaG92ZXJcIiwgXCJcIilcbiAgICAyOVx0ICAgICAgKTtcbiAgICAzMFx0XG4gICAgMzFcdCAgICAvL1NldCBvbmx5IGxhc3QgaG92ZXIgdG8gYmUgaG92ZXJlZFxuICAgIDMyXHQgICAgaWYgKGFsbF9ob3ZlcnMubGVuZ3RoID4gMCkge1xuICAgIDMzXHQgICAgICB2YXIgbG9jYWxfY2xhc3MgPSBhbGxfaG92ZXJzW2FsbF9ob3ZlcnMubGVuZ3RoIC0gMV0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgMzRcdFxuICAgIDM1XHQgICAgICAobG9jYWxfY2xhc3MpID9cbiAgICAzNlx0ICAgICAgICBhbGxfaG92ZXJzW2FsbF9ob3ZlcnMubGVuZ3RoIC0gMV0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcbiAgICAzN1x0ICAgICAgICAgIGxvY2FsX2NsYXNzICsgXCIgaG92ZXJcIlxuICAgIDM4XHQgICAgICAgICkgOlxuICAgIDM5XHQgICAgICAgIGFsbF9ob3ZlcnNbYWxsX2hvdmVycy5sZW5ndGggLSAxXS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIiBob3ZlclwiKTtcbiAgICA0MFx0ICAgIH1cbiAgICA0MVx0ICB9XG4gICAgNDJcdFxuICAgIDQzXHQgIGZ1bmN0aW9uIHRvZ2dsZUVsZW1lbnRWaXNpYmlsaXR5IChhcmcwX2VsZW1lbnQsIGFyZzFfYnV0dG9uX2VsZW1lbnQpIHtcbiAgICA0NFx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICA0NVx0ICAgIHZhciBlbGVtZW50ID0gYXJnMF9lbGVtZW50O1xuICAgIDQ2XHQgICAgdmFyIGJ0bl9lbGVtZW50ID0gYXJnMV9idXR0b25fZWxlbWVudDtcbiAgICA0N1x0XG4gICAgNDhcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgNDlcdCAgICB2YXIgY2xhc3NfbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgNTBcdCAgICB2YXIgaXNfdmlzaWJsZSA9IHRydWU7XG4gICAgNTFcdFxuICAgIDUyXHQgICAgaWYgKGNsYXNzX25hbWUpXG4gICAgNTNcdCAgICAgIGlmIChjbGFzc19uYW1lLmluY2x1ZGVzKFwiIGhpZGRlblwiKSlcbiAgICA1NFx0ICAgICAgICBpc192aXNpYmxlID0gZmFsc2U7XG4gICAgNTVcdFxuICAgIDU2XHQgICAgKGlzX3Zpc2libGUpID9cbiAgICA1N1x0ICAgICAgaGlkZUVsZW1lbnQoZWxlbWVudCkgOlxuICAgIDU4XHQgICAgICBzaG93RWxlbWVudChlbGVtZW50KTtcbiAgICA1OVx0XG4gICAgNjBcdCAgICAvL1NldCBidXR0b24gZWxlbWVudCBjbGFzcyBpZiBwcmVzZW50XG4gICAgNjFcdCAgICBpZiAoYnRuX2VsZW1lbnQpXG4gICAgNjJcdCAgICAgIChpc192aXNpYmxlKSA/XG4gICAgNjNcdCAgICAgICAgYnRuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYnRuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikucmVwbGFjZShcIiBtaW5pbWlzZS1pY29uXCIsIFwiIHJldmVyc2UtbWluaW1pc2UtaWNvblwiKSkgOlxuICAgIDY0XHQgICAgICAgIGJ0bl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGJ0bl9lbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLnJlcGxhY2UoXCIgcmV2ZXJzZS1taW5pbWlzZS1pY29uXCIsIFwiIG1pbmltaXNlLWljb25cIikpO1xuICAgIDY1XHQgIH1cbiAgICA2Nlx0fVxuLi4uXG5QYXRoOiBzcmMvanMvaW50ZXJmYWNlL3VpX2luaXRpYWxpc2F0aW9uLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBVSSBmdW5jdGlvbiAtIG1hc3RlclxuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gaW5pdGlhbGlzZVVJICgpIHtcbiAgICAgNFx0ICAgIC8vSW5pdGlhbGlzZSBsZWZ0X3NpZGViYXJcbiAgICAgNVx0ICAgIGluaXREYXRlVUkoKTtcbiAgICAgNlx0ICAgIGluaXRIaWVyYXJjaHlVSSgpO1xuICAgICA3XHQgICAgaW5pdFNjcmlwdHNVSSgpO1xuICAgICA4XHQgICAgaW5pdFNldHRpbmdzVUkoKTtcbiAgICAgOVx0XG4gICAgMTBcdCAgICAvL0luaXRpYWxpc2UgdG9wYmFyXG4gICAgMTFcdCAgICBpbml0VG9wYmFyVUkoKTtcbiAgICAxMlx0ICB9XG4gICAgMTNcdH1cbi4uLlxuUGF0aDogc3JjL1VGL2pzL0Jyb3dzZXJVSS9oaWVyYXJjaHlfZnJhbWV3b3JrLmpzXG4uLi5cbiAgICA0OFx0XG4gICAgNDlcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgNTBcdCAgICB2YXIgaGllcmFyY2h5X2VsID0gKG9wdGlvbnMuaGllcmFyY2h5X3NlbGVjdG9yKSA/XG4gICAgNTFcdCAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5oaWVyYXJjaHlfc2VsZWN0b3IpIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNoaWVyYXJjaHlcIik7XG4gICAgNTJcdCAgICB2YXIgaGllcmFyY2hpZXMgPSBtYWluLmhpZXJhcmNoaWVzO1xuICAgIDUzXHQgICAgdmFyIGhpZXJhcmNoeV9pZCA9IChvcHRpb25zLmlkKSA/IG9wdGlvbnMuaWQgOiBnZW5lcmF0ZVJhbmRvbUlEKGhpZXJhcmNoaWVzKTtcbiAgICA1NFx0ICAgIHZhciBoaWVyYXJjaHlfb3B0aW9ucyA9IG1haW4uaGllcmFyY2h5X29wdGlvbnM7XG4gICAgNTVcdFxuICAgIDU2XHQgICAgaGllcmFyY2hpZXNbaGllcmFyY2h5X2lkXSA9IHtcbiAgICA1N1x0ICAgICAgZ3JvdXBzOiB7fVxuICAgIDU4XHQgICAgfTtcbiAgICA1OVx0ICAgIGhpZXJhcmNoeV9vcHRpb25zW2hpZXJhcmNoeV9pZF0gPSB7XG4gICAgNjBcdCAgICAgIGlkOiBoaWVyYXJjaHlfaWRcbiAgICA2MVx0ICAgIH07XG4uLi5cbiAgICA4MVx0XG4gICAgODJcdCAgICAvL0NyZWF0ZSBjb250cm9sc19kaXZcbiAgICA4M1x0ICAgIHtcbiAgICA4NFx0ICAgICAgdmFyIGNvbnRyb2xzX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgODVcdCAgICAgIGNvbnRyb2xzX2Rpdi5jbGFzc05hbWUgPSBcImNvbnRyb2xzXCI7XG4gICAgODZcdFxuICAgIDg3XHQgICAgICAvL0FkZCBHcm91cCBidXR0b25cbiAgICA4OFx0ICAgICAgaWYgKCFvcHRpb25zLmhpZGVfYWRkX2dyb3VwKSB7XG4gICAgODlcdCAgICAgICAgdmFyIGFkZF9ncm91cF9idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIDkwXHQgICAgICAgIGFkZF9ncm91cF9idXR0b24udGV4dENvbnRlbnQgPSBgQWRkIEdyb3VwYDtcbiAgICA5MVx0ICAgICAgICBhZGRfZ3JvdXBfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgOTJcdCAgICAgICAgICBhZGRHcm91cChoaWVyYXJjaHlfaWQpO1xuICAgIDkzXHQgICAgICAgIH0pO1xuICAgIDk0XHQgICAgICAgIGNvbnRyb2xzX2Rpdi5hcHBlbmRDaGlsZChhZGRfZ3JvdXBfYnV0dG9uKTtcbiAgICA5NVx0ICAgICAgfVxuICAgIDk2XHRcbiAgICA5N1x0ICAgICAgLy9BZGQgRW50aXR5IGJ1dHRvblxuICAgIDk4XHQgICAgICBpZiAoIW9wdGlvbnMuaGlkZV9hZGRfZW50aXR5KSB7XG4gICAgOTlcdCAgICAgICAgdmFyIGFkZF9lbnRpdHlfYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgIDEwMFx0ICAgICAgICBhZGRfZW50aXR5X2J1dHRvbi50ZXh0Q29udGVudCA9IGBBZGQgRW50aXR5YDtcbiAgIDEwMVx0ICAgICAgICBhZGRfZW50aXR5X2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgMTAyXHQgICAgICAgICAgYWRkRW50aXR5KGhpZXJhcmNoeV9pZCk7XG4gICAxMDNcdCAgICAgICAgfSk7XG4gICAxMDRcdCAgICAgICAgY29udHJvbHNfZGl2LmFwcGVuZENoaWxkKGFkZF9lbnRpdHlfYnV0dG9uKTtcbiAgIDEwNVx0ICAgICAgfVxuICAgMTA2XHRcbiAgIDEwN1x0ICAgICAgLy9Qb3B1bGF0ZSBjb250cm9sc19kaXZcbiAgIDEwOFx0ICAgICAgaGllcmFyY2h5X2VsLmFwcGVuZENoaWxkKGNvbnRyb2xzX2Rpdik7XG4gICAxMDlcdCAgICB9XG4gICAxMTBcdCAgfVxuICAgMTExXHR9XG4uLi5cbiAgIDUzMlx0XG4gICA1MzNcdCAgLy9bV0lQXSAtIEZpbmlzaCByZW5kZXJIaWVyYXJjaHkoKSAtIFJlbmRlcnMgaGllcmFyY2h5IGVsZW1lbnRzIGZyb20gb2JqZWN0XG4gICA1MzRcdCAgLypcbiAgIDUzNVx0ICAgIHJlbmRlckhpZXJhcmNoeSgpIC0gUmVuZGVycyBhIGhpZXJhcmNoeSBpbnRvIHRoZSBET00uXG4gICA1MzZcdCAgICBhcmcwX2hpZXJhcmNoeV9rZXk6IChTdHJpbmcpXG4gICA1MzdcdCAgICBhcmcxX29wdGlvbnM6IChPYmplY3QpXG4gICA1MzhcdCAgICAgIGRlcHRoOiAoTnVtYmVyKVxuICAgNTM5XHQgICAgICBlbnRpdHlfcmVuZGVyaW5nX29yZGVyOiAoQXJyYXk8U3RyaW5nPilcbiAgIDU0MFx0ICAgICAgZXhjbHVkZWRfZW50aXRpZXM6IChBcnJheTxTdHJpbmc+KVxuICAgNTQxXHQgICAgICBleGNsdWRlZF9ncm91cHM6IChBcnJheTxTdHJpbmc+KVxuICAgNTQyXHQgICAgICBuYWlzc2FuY2VfaGllcmFyY2h5OiAoQm9vbGVhbilcbiAgIDU0M1x0ICAqL1xuICAgNTQ0XHQgIGZ1bmN0aW9uIHJlbmRlckhpZXJhcmNoeSAoYXJnMF9oaWVyYXJjaHlfa2V5LCBhcmcxX29wdGlvbnMpIHtcbiAgIDU0NVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgIDU0Nlx0ICAgIHZhciBoaWVyYXJjaHlfa2V5ID0gYXJnMF9oaWVyYXJjaHlfa2V5O1xuICAgNTQ3XHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuLi4uXG5QYXRoOiBzcmMvanMvaW50ZXJmYWNlL2xlZnRfc2lkZWJhci9oaWVyYXJjaHlfdWkuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIFNpZGViYXIgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBpbml0SGllcmFyY2h5VUkgKCkge1xuICAgICA0XHQgICAgdmFyIGhpZXJhcmNoeV9lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGllcmFyY2h5XCIpO1xuICAgICA1XHRcbiAgICAgNlx0ICAgIGluaXRIaWVyYXJjaHkoe1xuICAgICA3XHQgICAgICBoaWRlX2FkZF9lbnRpdHk6IHRydWUsXG4gICAgIDhcdCAgICAgIGhpZXJhcmNoeV9zZWxlY3RvcjogXCIjaGllcmFyY2h5XCIsXG4gICAgIDlcdCAgICAgIGlkOiBcImhpZXJhcmNoeVwiLFxuICAgIDEwXHRcbiAgICAxMVx0ICAgICAgLy9TZWxlY3RvcnNcbiAgICAxMlx0ICAgICAgY29udGV4dF9tZW51X3NlbGVjdG9yOiBgI2hpZXJhcmNoeS1jb250ZXh0LW1lbnUsICNoaWVyYXJjaHktY29udGV4dC1tZW51LXR3b2AsXG4gICAgMTNcdFxuICAgIDE0XHQgICAgICAvL0Z1bmN0aW9uc1xuICAgIDE1XHQgICAgICBkZWxldGVfZnVuY3Rpb246IFwiZGVsZXRlRW50aXR5XCIsXG4gICAgMTZcdCAgICAgIGVudGl0eV9jb250ZXh0X21lbnVfZnVuY3Rpb246IFwicHJpbnRIaWVyYXJjaHlFbnRpdHlDb250ZXh0TWVudVwiLFxuICAgIDE3XHQgICAgICBncm91cF9jb250ZXh0X21lbnVfZnVuY3Rpb246IFwicHJpbnRHcm91cEFjdGlvbnNOYXZpZ2F0aW9uTWVudUhhbmRsZXJcIixcbiAgICAxOFx0ICAgICAgcmVuYW1lX2Z1bmN0aW9uOiBcInJlbmFtZUVudGl0eVwiXG4gICAgMTlcdCAgICB9KTtcbiAgICAyMFx0XG4gICAgMjFcdCAgICBpbml0SGllcmFyY2h5RXZlbnRzKCk7XG4gICAgMjJcdCAgfVxuICAgIDIzXHR9XG4uLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvZXZlbnRzL2RyYXdfbG9vcF91aS5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBpbml0aWFsaXNlVUlEcmF3TG9vcHMgKCkge1xuICAgICA0XHQgICAgLy8xMDBtczsgMXMgZHJhdyBsb29wcyAgXG4gICAgIDVcdCAgICBnbG9iYWwudWlfMTAwbXNfZHJhd19sb29wID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgNlx0ICAgICAgdmFyIGVudGl0eV9wYW5lbF9jb250YWluZXJfb3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW50aXR5LXBhbmVsLWNvbnRhaW5lclwiKVxuICAgICA3XHQgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVudGl0eS11aS1wYW5lXCIpO1xuICAgICA4XHQgICAgICB2YXIgaGlkZV9sZWZ0X3NpZGViYXIgPSAoZW50aXR5X3BhbmVsX2NvbnRhaW5lcl9vcGVuKTtcbiAuLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJlYzY4ZWUxZC05YjI3LTQ2NjEtYjhiMC1lNDczMmEwNjBjOGY7dG9vbHVfdnJ0eF8wMTZzU0I0ZjJyb1ZTQXBCNHlXMUpkQ0EiOnsicmVxdWVzdElkIjoiZWM2OGVlMWQtOWIyNy00NjYxLWI4YjAtZTQ3MzJhMDYwYzhmIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTZzU0I0ZjJyb1ZTQXBCNHlXMUpkQ0EiLCJwaGFzZSI6NiwicmVzdWx0Ijp7InRleHQiOiJGaWxlIG5vdCBmb3VuZDogc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMuIERpZCB5b3UgbWVhbiBvbmUgb2YgdGhlc2U/IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLCBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcyIsImlzRXJyb3IiOnRydWUsInJlcXVlc3RJZCI6IiJ9fSwiYTAzNWE0OTktZTIxYi00NmIzLWFhNTgtNzRlMjRhZTM5NzMwO3Rvb2x1X3ZydHhfMDFHanZVWmk0YzJrWFFVclNuNTh6NEc1Ijp7InJlcXVlc3RJZCI6ImEwMzVhNDk5LWUyMWItNDZiMy1hYTU4LTc0ZTI0YWUzOTczMCIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFHanZVWmk0YzJrWFFVclNuNTh6NEc1IiwicGhhc2UiOjYsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBub3QgZm91bmQ6IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLiBEaWQgeW91IG1lYW4gb25lIG9mIHRoZXNlPyBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcywgc3JjL1VGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanMiLCJpc0Vycm9yIjp0cnVlLCJyZXF1ZXN0SWQiOiIifX0sIjQzZGI2ZDllLTM3YjctNGM3Mi05ODY2LTQwZWU4OGNkZTE5NDt0b29sdV92cnR4XzAxQXBXUHcyS3l6ZXBEcW9wa0R6OVNnNiI6eyJyZXF1ZXN0SWQiOiI0M2RiNmQ5ZS0zN2I3LTRjNzItOTg2Ni00MGVlODhjZGUxOTQiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxQXBXUHcyS3l6ZXBEcW9wa0R6OVNnNiIsInBoYXNlIjo4fSwiZTUzOWFjOGItZTc4Mi00ZDAzLWFjYWMtNDg4MDcxZTI0NDdjO3Rvb2x1X3ZydHhfMDEzeDVadEdiREhFN2V1SlJ5NnROR0JlIjp7InJlcXVlc3RJZCI6ImU1MzlhYzhiLWU3ODItNGQwMy1hY2FjLTQ4ODA3MWUyNDQ3YyIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDEzeDVadEdiREhFN2V1SlJ5NnROR0JlIiwicGhhc2UiOjYsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBub3QgZm91bmQ6IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLiBEaWQgeW91IG1lYW4gb25lIG9mIHRoZXNlPyBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcywgc3JjL1VGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanMiLCJpc0Vycm9yIjp0cnVlLCJyZXF1ZXN0SWQiOiIifX0sImQxMTFkYzZiLWRhYjctNGE5Yi05NzQyLTkyN2VkNzc2ZGUyYTt0b29sdV92cnR4XzAxNmlnbzZTVzZCWUszampMdVJqeWMxSyI6eyJyZXF1ZXN0SWQiOiJkMTExZGM2Yi1kYWI3LTRhOWItOTc0Mi05MjdlZDc3NmRlMmEiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxNmlnbzZTVzZCWUszampMdVJqeWMxSyIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9pbmRleC5odG1sXG4uLi5cbiAgICAxOFx0XG4gICAgMTlcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2Nzcy9sZWZ0X3NpZGViYXIvaGllcmFyY2h5X2NvbnRhaW5lci9sZWZ0X3NpZGViYXIuY3NzXCIgdHlwZSA9IFwidGV4dC9jc3NcIj5cbiAgICAyMFx0XHRcdDxsaW5rIHJlbCA9IFwic3R5bGVzaGVldFwiIGhyZWYgPSBcIi4vY3NzL2xlZnRfc2lkZWJhci9kYXRlX2NvbnRhaW5lci9kYXRlX3VpLmNzc1wiIHR5cGUgPSBcInRleHQvY3NzXCI+XG4gICAgMjFcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2Nzcy9sZWZ0X3NpZGViYXIvZW50aXRpZXNfY29udGFpbmVyL2VudGl0eV9wYW5lbC5jc3NcIiB0eXBlID0gXCJ0ZXh0L2Nzc1wiPlxuICAgIDIyXHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9jc3MvbGVmdF9zaWRlYmFyL2hpZXJhcmNoeV9jb250YWluZXIvZmlsZS9maWxlX3VpLmNzc1wiIHR5cGUgPSBcInRleHQvY3NzXCI+XG4gICAgMjNcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2Nzcy9sZWZ0X3NpZGViYXIvaGllcmFyY2h5X2NvbnRhaW5lci9oaWVyYXJjaHkvZ3JvdXBfYWN0aW9uc191aS5jc3NcIiB0eXBlID0gXCJ0ZXh0L2Nzc1wiPlxuICAgIDI0XHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9jc3MvbGVmdF9zaWRlYmFyL2hpZXJhcmNoeV9jb250YWluZXIvaGllcmFyY2h5L2hpZXJhcmNoeV9jb2xvdXJzLmNzc1wiIHR5cGUgPSBcInRleHQvY3NzXCI+XG4uLi5cbiAgICA0MVx0XG4gICAgNDJcdFx0XHQ8IS0tIEhUTUwyQ2FudmFzLCBMZWFmbGV0LmpzLCBMZWFmbGV0IEdlb2Rlc3ksIE1hcHRhbGtzL0dMLCBTb3J0YWJsZSwgVGhyZWUuanMsIFRpcHB5LmpzLCBUdXJmLmpzIC0tPlxuICAgIDQzXHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9saWJyYXJpZXMvbWFwdGFsa3MuY3NzXCI+XG4gICAgNDRcdFx0XHQ8c2NyaXB0IHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiIHNyYyA9IFwiLi9saWJyYXJpZXMvbWFwdGFsa3MubWluLmpzXCI+PC9zY3JpcHQ+XG4gICAgNDVcdFx0XHQ8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBzcmMgPSBcIi4vbGlicmFyaWVzL2RhdC5ndWkubWluLmpzXCI+PC9zY3JpcHQ+XG4gICAgNDZcdFx0XHRcdDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cIi4vbGlicmFyaWVzL21hcHRhbGtzZ2wuanNcIj48L3NjcmlwdD5cbiAgICA0N1x0XHRcdFx0PHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjPVwiLi9saWJyYXJpZXMvdGhyZWUubWluLmpzXCI+PC9zY3JpcHQ+XG4gICAgNDhcdFx0XHRcdDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cIi4vbGlicmFyaWVzL0dMVEZMb2FkZXIuanNcIj48L3NjcmlwdD5cbiAgICA0OVx0XHRcdFx0PHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjPVwiLi9saWJyYXJpZXMvbWFwdGFsa3MudGhyZWUuanNcIj48L3NjcmlwdD5cbiAgICA1MFx0XHRcdFx0PHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjPVwiLi9saWJyYXJpZXMvc3RhdHMubWluLmpzXCI+PC9zY3JpcHQ+XG4gICAgNTFcdFx0XHQ8c2NyaXB0IHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiIHNyYyA9IFwiLi9saWJyYXJpZXMvbGVhZmxldC5taW4uanNcIj48L3NjcmlwdD5cbi4uLlxuICAgIDYwXHRcbiAgICA2MVx0XHRcdDwhLS0gQ29sb3JwaWNrZXIsIExlYWRlckxpbmUsIExlYWZsZXQsIFNvcnRhYmxlLCBUaXBweSwgVHVyZiBDU1MgLS0+XG4gICAgNjJcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2xpYnJhcmllcy9jb2xvcnBpY2tlci5jc3NcIj5cbiAgICA2M1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2xpYnJhcmllcy9jb2xvcnBpY2tlci5paWZlLmpzXCI+PC9zY3JpcHQ+XG4gICAgNjRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9saWJyYXJpZXMvbGVhZGVyLWxpbmUubWluLmpzXCI+PC9zY3JpcHQ+XG4gICAgNjVcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2xpYnJhcmllcy9sZWFmbGV0LmNzc1wiPlxuICAgIDY2XHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9saWJyYXJpZXMvc2NhbGUuY3NzXCIvPlxuICAgIDY3XHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9saWJyYXJpZXMvb2wuY3NzXCIgdHlwZT1cInRleHQvY3NzXCI+XG4gICAgNjhcdFx0XHRcbiAgICA2OVx0XHRcdDwhLS0gVUYsIENTUyBJbXBvcnRzIC0tPlxuICAgIDcwXHQgICAgPGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiVUYvY3NzL0Jyb3dzZXJVSS9jb250ZXh0X21lbnVzLmNzc1wiPlxuICAgIDcxXHQgICAgPGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiVUYvY3NzL0Jyb3dzZXJVSS93aW5kb3dzLmNzc1wiPlxuICAgIDcyXHRcbiAgICA3M1x0ICAgIDwhLS0gVUYsIEpTIEltcG9ydHMgLS0+XG4gICAgNzRcdCAgICA8c2NyaXB0IHNyYyA9IFwiVUYvanMvQUJSUy9mcmFtZXdvcmtfQUJSUy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuLi4uXG4gICAgOTJcdFxuICAgIDkzXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS9iYXNpY19odG1sLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAgOTRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvQnJvd3NlclVJL2NvbnRleHRfbWVudXNfaGVscGVyX2Z1bmN0aW9ucy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgIDk1XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS9jb250ZXh0X21lbnVzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAgOTZcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvQnJvd3NlclVJL2NvbnRleHRfbWVudXNfcmVhZC5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgIDk3XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS9jb250ZXh0X21lbnVzX3dyaXRlLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAgOThcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvQnJvd3NlclVJL2dyb3Vwc19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgICA5OVx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9Ccm93c2VyVUkvaGllcmFyY2h5X2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTAwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbi4uLlxuICAgMTE2XHRcbiAgIDExN1x0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9udW1iZXJzL2Jhc2ljX251bWJlcnMuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDExOFx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9udW1iZXJzL3Jhbmdlc19udW1iZXJzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAxMTlcdFxuICAgMTIwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL29iamVjdHMvYmFzaWNfb2JqZWN0cy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTIxXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL29iamVjdHMvbWF0aHNfb2JqZWN0cy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTIyXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL29iamVjdHMvc21hcnRfc2VhcmNoX29iamVjdHMuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDEyM1x0XG4gICAxMjRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvcGF0aGZpbmRpbmcvYV9zdGFyX3BhdGhmaW5kaW5nLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAxMjVcdFxuICAgMTI2XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3N0YXRpc3RpY3MvYmFzaWNfZGVtb2dyYXBoaWNzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAxMjdcdFxuICAgMTI4XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3N0cmluZ3MvYmFzaWNfc3RyaW5ncy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTI5XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3N0cmluZ3MvY2xlYW5pbmdfc3RyaW5ncy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTMwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3N0cmluZ3Mvc3BsaXRfc3RyaW5ncy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTMxXHRcbiAgIDEzMlx0XHRcdDwhLS0gSW1wb3J0IGNvbmZpZyAtLT5cbiAgIDEzM1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS91aV9jb25maWcuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDEzNFx0XHQ8L2hlYWQ+XG4gICAxMzVcdFx0PGJvZHk+XG4gICAxMzZcdFx0XHQ8IS0tIE1hcCBjb250YWluZXIgLS0+XG4gICAxMzdcdFx0XHQ8ZGl2IGlkID0gXCJtYXBcIiBjbGFzcyA9IFwibWFwLWNvbnRhaW5lclwiPjwvZGl2PlxuICAgMTM4XHRcbiAgIDEzOVx0XHRcdDwhLS0gVG9wYmFyIFVJIC0tPlxuICAgMTQwXHRcdFx0PGRpdiBpZCA9IFwidG9wYmFyXCIgY2xhc3MgPSBcInRvcGJhci1jb250YWluZXJcIj5cbiAgIDE0MVx0XHRcdFx0PHVsPlxuICAgMTQyXHRcdFx0XHRcdDxsaSBjbGFzcyA9IFwiZmlsZVwiPjxhIGhyZWYgPSBcIiNcIj5GaWxlPC9hPjwvbGk+XG4gICAxNDNcdFx0XHRcdFx0PGxpIGNsYXNzID0gXCJ1bmRvX3JlZG9cIj48YSBocmVmID0gXCIjXCI+VW5kby9SZWRvPC9hPjwvbGk+XG4gICAxNDRcdFx0XHRcdFx0PGxpIGNsYXNzID0gXCJtYXAgYWN0aXZlXCI+PGEgaHJlZiA9IFwiI1wiPk1hcDwvYT48L2xpPlxuICAgMTQ1XHRcdFx0XHQ8L3VsPlxuLi4uXG4gICAxNzFcdFxuICAgMTcyXHRcdFx0XHRcdFx0PCEtLSBGaWxlIE1hbmFnZW1lbnQgQnV0dG9ucyAtLT5cbiAgIDE3M1x0XHRcdFx0XHRcdDxkaXYgaWQgPSBcImZpbGUtaW50ZXJhY3Rpb24tY29udGFpbmVyXCI+XG4gICAxNzRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlID0gXCJ0ZXh0XCIgaWQgPSBcInNhdmUtZmlsZS1pbnB1dFwiIHZhbHVlID0gXCJhdXRvc2F2ZS5qc1wiPjwvaW5wdXQ+XG4gICAxNzVcdFx0XHRcdFx0XHRcdDxidXR0b24gaWQgPSBcInNhdmUtZmlsZS1idXR0b25cIj5TYXZlPC9idXR0b24+XG4gICAxNzZcdFx0XHRcdFx0XHQ8L2Rpdj5cbiAgIDE3N1x0XHRcdFx0XHRcdDxkaXYgaWQgPSBcImZpbGUtaGllcmFyY2h5XCIgY2xhc3MgPSBcImhpZXJhcmNoeVwiPlxuICAgMTc4XHRcdFx0XHRcdFx0PC9kaXY+XG4gICAxNzlcdFx0XHRcdFx0PC9kaXY+XG4gICAxODBcdFx0XHRcdDwvZGl2PlxuICAgMTgxXHRcdFx0XHQ8ZGl2IGlkID0gXCJ1bmRvLXJlZG8tdGFiXCIgY2xhc3MgPSBcInVuZG8tcmVkby1jb250YWluZXIgaGlkZGVuXCIgcGFnZSA9IFwidHJ1ZVwiPlxuICAgMTgyXHRcdFx0XHRcdDxkaXYgaWQgPSBcInVuZG8tcmVkby1jb250YWluZXJcIiBjbGFzcyA9IFwiaGllcmFyY2h5LWJvZHktY29udGFpbmVyXCI+XG4gICAxODNcdFx0XHRcdFx0XHQ8ZGl2IGlkID0gXCJ1bmRvLXJlZG8taGVhZGVyXCIgY2xhc3MgPSBcImhpZXJhcmNoeS1oZWFkZXJcIj5VTkRPL1JFRE88L2Rpdj5cbiAgIDE4NFx0XHRcdFx0XHRcdDxociBjbGFzcyA9IFwiaGllcmFyY2h5LWhlYWRlci1saW5lXCI+XG4gICAxODVcdFx0XHRcdFx0XHQ8YnI+XG4gICAxODZcdFxuICAgMTg3XHRcdFx0XHRcdFx0PCEtLSBVbmRvL1JlZG8gQ29udGFpbmVyIC0tPlxuICAgMTg4XHRcdFx0XHRcdFx0PGRpdiBjbGFzcyA9IFwidW5kby1yZWRvLWNhbnZhcy1jb250YWluZXJcIj5cbiAgIDE4OVx0XHRcdFx0XHRcdFx0PGNhbnZhcyBpZCA9IFwidW5kby1yZWRvLXVpLWNvbnRhaW5lclwiPjwvY2FudmFzPlxuICAgMTkwXHRcdFx0XHRcdFx0PC9kaXY+XG4uLi5cbiAgIDI3NVx0XG4gICAyNzZcdFx0XHRcdDwhLS0gQnJ1c2ggYWN0aW9ucyBjb250YWluZXIgLS0+XG4gICAyNzdcdFx0XHRcdDxkaXYgaWQgPSBcImJydXNoLWFjdGlvbnMtY29udGV4dC1tZW51XCIgY2xhc3MgPSBcImJydXNoLWFjdGlvbnMtY29udGFpbmVyXCI+PC9kaXY+XG4gICAyNzhcdFx0XHQ8L2Rpdj5cbiAgIDI3OVx0XG4gICAyODBcdFx0XHQ8IS0tIFBvcHVwIENvbnRhaW5lcnMgLS0+XG4gICAyODFcdFx0XHQ8ZGl2IGlkID0gXCJlbnRpdHktcGFuZWwtY29udGFpbmVyXCIgY2xhc3MgPSBcImVudGl0eS1wYW5lbC1jb250YWluZXIgYm90dG9tLWxlZnRcIj5cbiAgIDI4Mlx0XHRcdDwvZGl2PlxuICAgMjgzXHRcbiAgIDI4NFx0XHRcdDwhLS0gSW1wb3J0IEFCUlMgYW5kIFVuZG8vUmVkbyAtLT5cbiAgIDI4NVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9BQlJTL3NhdmVfbG9hZC5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMjg2XHRcbiAgIDI4N1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9hY3Rpb25zL3VuZG9fcmVkb19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDI4OFx0XHRcdFx0PCEtLSBFbnRpdHkgQWN0aW9ucyAtLT5cbiAgIDI4OVx0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2FjdGlvbnMvZW50aXRpZXMvYXBwbHlfcGF0aF90b19rZXlmcmFtZXMuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDI5MFx0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2FjdGlvbnMvZW50aXRpZXMvY2xlYW5fa2V5ZnJhbWVzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAyOTFcdFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9hY3Rpb25zL2VudGl0aWVzL2VkaXRfZW50aXR5X25vZGVzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAyOTJcdFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9hY3Rpb25zL2VudGl0aWVzL3NldF9lbnRpdHlfZmlsbC5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMjkzXHRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy9lbnRpdGllcy9zZXRfZW50aXR5X3N0cm9rZS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMjk0XHRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy9lbnRpdGllcy9zZXRfZW50aXR5X3pvb21fbGV2ZWwuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbi4uLlxuICAgMjk3XHRcbiAgIDI5OFx0XHRcdDwhLS0gSW1wb3J0IGZyYW1ld29yayAtLT5cbiAgIDI5OVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9icnVzaC9icnVzaF9hY3Rpb25zX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzAwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2JydXNoL2JydXNoX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzAxXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2Nvb3Jkcy9jb29yZHNfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMDJcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvZGF0ZS9kYXRlX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzAzXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzA0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwNVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfZGVsdGFfYWN0aW9uc19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwNlx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzA3XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2dyb3Vwcy9ncm91cF9hY3Rpb25zX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzA4XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2dyb3Vwcy9ncm91cF9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwOVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9oaXN0b3J5L2hpc3RvcnlfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMTBcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvbWFwL3BvbGl0eV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMxMVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9tYXAvcHJvamVjdGlvbl9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMxMlx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9tYXAvdGlsZV9sYXllcnNfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMTNcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvbWFwL3R1cmZfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMTRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvbWFwL3JlbmRlcmluZ19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMxNVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9tYXNrcy9tYXNrX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzE2XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzE3XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMxOFx0XG4gICAzMTlcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvb3B0aW1pc2F0aW9uX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzIwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL3BhcnNpbmdfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMjFcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvc2V0dGluZ3NfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMjJcdFxuICAgMzIzXHRcdFx0PCEtLSBJbXBvcnQgbG9jYWxpc2F0aW9uIC0tPlxuICAgMzI0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL21hcC9lbnRpdHlfbG9jYWxpc2F0aW9uLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMjVcdFxuICAgMzI2XHRcdFx0PCEtLSBJbXBvcnQgVUkgLS0+XG4gICAzMjdcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbGVmdF9zaWRlYmFyL2RhdGVfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMyOFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9sZWZ0X3NpZGViYXIvZmlsZV91aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzI5XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL2xlZnRfc2lkZWJhci91bmRvX3JlZG9fdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbi4uLlxuICAgMzM5XHRcbiAgIDM0MFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZW50aXR5X2FjdGlvbnNfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0MVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZW50aXR5X2N1c3RvbWlzYXRpb25fdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0Mlx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZW50aXR5X2tleWZyYW1lc191aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzQzXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL21hcC9lbnRpdHlfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0NFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZW50aXR5X3ZhcmlhYmxlc191aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzQ1XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL21hcC9ncmFwaF91aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzQ2XHRcbiAgIDM0N1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvbWFwX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzQ4XHRcbiAgIDM0OVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9yaWdodF9zaWRlYmFyL2JydXNoX2FjdGlvbnNfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM1MFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9yaWdodF9zaWRlYmFyL21hcF9icnVzaF91aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PiA8IS0tIFtXSVBdIC0gREVQUkVDQVRFIC0tPlxuICAgMzUxXHRcbiAgIDM1Mlx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS90b3BiYXIvdG9wYmFyX3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNTNcdFxuICAgMzU0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzU1XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL3VpX2luaXRpYWxpc2F0aW9uLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4uLi5cblBhdGg6IHNyYy9qcy9zdGFydHVwLmpzXG4gICAgIDFcdC8vSW1wb3J0IG1vZHVsZXNcbiAgICAgMlx0d2luZG93LmNoaWxkX3Byb2Nlc3MgPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTtcbiAgICAgM1x0d2luZG93LmZzID0gcmVxdWlyZShcImZzXCIpO1xuICAgICA0XHR3aW5kb3cucGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuICAgICA1XHRcbiAgICAgNlx0Ly9Mb2FkIGNvbmZpZ1xuICAgICA3XHR7XG4gICAgIDhcdCAgZ2xvYmFsLmxvYWRfb3JkZXIgPSB7XG4gICAgIDlcdCAgICBsb2FkX2RpcmVjdG9yaWVzOiBbXG4gICAgMTBcdCAgICAgIFwiY29uZmlnXCIsXG4gICAgMTFcdCAgICAgIFwiLi9qcy9pbnRlcmZhY2UvKl9jb25maWcuanNcIixcbiAgICAxMlx0ICAgICAgXCJVRlwiXG4gICAgMTNcdCAgICBdLFxuICAgIDE0XHQgICAgbG9hZF9maWxlczogW1xuICAgIDE1XHQgICAgICBcIi5jb25maWdfYmFja2VuZC5qc1wiXG4gICAgMTZcdCAgICBdXG4gICAgMTdcdCAgfTtcbiAgICAxOFx0ICBsb2FkQ29uZmlnKCk7XG4gICAgMTlcdH1cbiAgICAyMFx0XG4gICAgMjFcdC8vSW5pdCBnbG9iYWxcbiAgICAyMlx0e1xuICAgIDIzXHQgIC8vRGVjbGFyZSBsb2NhbCBpbml0aWFsaXNhdGlvbiBjb25zdGFudHNcbiAgICAyNFx0ICB2YXIgY3VycmVudF9kYXRlID0gbmV3IERhdGUoKTtcbiAgICAyNVx0XG4gICAgMjZcdCAgLy9Jbml0aWFsaXNlIGdsb2JhbC5pbnRlcmZhY2VzXG4gICAgMjdcdCAgZ2xvYmFsLmludGVyZmFjZXMgPSB7fTtcbiAgICAyOFx0XG4gICAgMjlcdCAgLy9Jbml0aWFsaXNlIGdsb2JhbC5tYWluXG4gICAgMzBcdCAgZ2xvYmFsLm1haW4gPSB7fTtcbi4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS91aV9jb25maWcuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIGNvbmZpZyBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgIDJcdGlmICghZ2xvYmFsLmNvbmZpZykgZ2xvYmFsLmNvbmZpZyA9IHt9O1xuICAgICAzXHRcbiAgICAgNFx0Ly9Jbml0aWFsaXNlIGhlbHBlciBmdW5jdGlvbnNcbiAgICAgNVx0e1xuICAgICA2XHQgIGZ1bmN0aW9uIGdldFVJU2VsZWN0b3IgKGFyZzBfa2V5LCBhcmcxX3JldHVybl9hcnJheSkge1xuICAgICA3XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgICA4XHQgICAgdmFyIGtleSA9IGFyZzBfa2V5O1xuICAgICA5XHQgICAgdmFyIHJldHVybl9hcnJheSA9IGFyZzFfcmV0dXJuX2FycmF5O1xuICAgIDEwXHRcbiAgICAxMVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxMlx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgICAxM1x0ICAgIHZhciBjb21tb25fc2VsZWN0b3JzID0gY29tbW9uX2RlZmluZXMuc2VsZWN0b3JzO1xuICAgIDE0XHRcbiAgICAxNVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgIDE2XHQgICAgaWYgKGNvbW1vbl9zZWxlY3RvcnNba2V5XSkge1xuICAgIDE3XHQgICAgICByZXR1cm4gKCFyZXR1cm5fYXJyYXkpID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb21tb25fc2VsZWN0b3JzW2tleV0pIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb21tb25fc2VsZWN0b3JzW2tleV0pO1xuICAgIDE4XHQgICAgfSBlbHNlIHtcbiAgICAxOVx0ICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IGZpbmQgc2VsZWN0b3IgaW4gY29uZmlnLmRlZmluZXMuY29tbW9uOmAsIGtleSk7XG4gICAgMjBcdCAgICB9XG4gICAgMjFcdCAgfVxuICAgIDIyXHR9XG4uLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvbGVmdF9zaWRlYmFyL3NldHRpbmdzX2dsb2JhbF9jb25maWcuanNcbiAgICAgMVx0Y29uZmlnLnNldHRpbmdzLmdsb2JhbCA9IHtcbiAgICAgMlx0ICBvcmRlcjogMSxcbiAgICAgM1x0ICBcbiAgICAgNFx0ICBnbG9iYWxfc2V0dGluZ3NfaHRtbDoge1xuICAgICA1XHQgICAgaWQ6IGBnbG9iYWxfc2V0dGluZ3NfaGVhZGVyYCxcbiAgICAgNlx0ICAgIHR5cGU6IFwiaHRtbFwiLFxuICAgICA3XHRcbiAgICAgOFx0ICAgIGlubmVySFRNTDogYFxuICAgICA5XHQgICAgICA8ZGl2IGNsYXNzID0gXCJwcmltYXJ5LWhlYWRlclwiPkdsb2JhbCBTZXR0aW5nczwvZGl2PlxuICAgIDEwXHQgICAgYCxcbiAgICAxMVx0ICB9LFxuICAgIDEyXHQgIGdsb2JhbF9kZWZhdWx0X3NhdmVfZmlsZToge1xuICAgIDEzXHQgICAgaWQ6IFwiZ2xvYmFsX2RlZmF1bHRfc2F2ZV9maWxlXCIsXG4gICAgMTRcdCAgICB0eXBlOiBcInRleHRcIixcbiAgICAxNVx0XG4gICAgMTZcdCAgICBuYW1lOiBcIkRlZmF1bHQgc2F2ZSBmaWxlIG9uIHN0YXJ0dXA6XCIsXG4gICAgMTdcdCAgICBhdHRyaWJ1dGVzOiB7XG4gICAgMThcdCAgICAgIHZhbHVlOiBcIi4vYXV0b3NhdmUuanNcIlxuICAgIDE5XHQgICAgfVxuICAgIDIwXHQgIH0sXG4gICAgMjFcdCAgZ2xvYmFsX3VpX2xheW91dF90b2dnbGVzOiB7IC8vW1dJUF0gLSBGdW5jdGlvbmFsaXR5IG5vdCB5ZXQgYWRkZWRcbiAgICAyMlx0ICAgIGlkOiBgZ2xvYmFsX3VpX2xheW91dF90b2dnbGVzYCxcbiAgICAyM1x0ICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAyNFx0XG4gICAgMjVcdCAgICBvcHRpb25zOiB7XG4gICAgMjZcdCAgICAgIFwiYW5jaG9yX2VudGl0eV9wb3B1cHNcIjogXCJBbmNob3IgRW50aXR5IFBvcHVwc1wiLFxuICAgIDI3XHQgICAgICBcImhpZGVfZW50aXR5X2RhdGFfZ3JhcGhfYnlfZGVmYXVsdFwiOiBcIkhpZGUgRW50aXR5IERhdGEgR3JhcGggYnkgRGVmYXVsdFwiXG4gICAgMjhcdCAgICB9XG4gICAgMjlcdCAgfSxcbiAgICAzMFx0ICBkb2N1bWVudF9zZXR0aW5nc19odG1sOiB7XG4gICAgMzFcdCAgICBpZDogYGRvY3VtZW50X3NldHRpbmdzX2hlYWRlcmAsXG4gICAgMzJcdCAgICB0eXBlOiBcImh0bWxcIixcbiAgICAzM1x0XG4gICAgMzRcdCAgICBpbm5lckhUTUw6IGBcbiAgICAzNVx0ICAgICAgPGRpdiBjbGFzcyA9IFwicHJpbWFyeS1oZWFkZXJcIj5Eb2N1bWVudCBTZXR0aW5nczwvZGl2PlxuICAgIDM2XHQgICAgYCxcbiAgICAzN1x0ICB9XG4gICAgMzhcdH07Li4uXG5QYXRoOiBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKipcbiAgICAgNFx0ICAgKiBjcmVhdGVTZWN0aW9uKCkgLSBDcmVhdGVzIGEgZm9sZGFibGUgZWxlbWVudCB0aGF0IGNhbiBiZSBtaW5pbWlzZWQvZXhwYW5kZWQuXG4gICAgIDVcdCAgICogQHBhcmFtIHtPYmplY3R9IFthcmcwX29wdGlvbnNdXG4gICAgIDZcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLmV4cGFuZF9jbGFzcz1cInVmLWV4cGFuZGVkXCJdIC0gVGhlIGNsYXNzIHRvIGFkZCB3aGVuIHRoZSBzZWN0aW9uIGlzIGV4cGFuZGVkLlxuICAgICA3XHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5taW5pbWlzZV9jbGFzcz1cInVmLW1pbmltaXNlZFwiXSAtIFRoZSBjbGFzcyB0byBhZGQgd2hlbiB0aGUgc2VjdGlvbiBpcyBjb2xsYXBzZWQuXG4gICAgIDhcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNlbGVjdG9yXSAtIFRoZSBzZWxlY3RvciBvZiB0aGUgZWxlbWVudHMgdGhhdCBjYW4gYmUgbWluaW1pc2VkL2V4cGFuZGVkLiBOb3RlIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgY292ZXJlZCBieSB0aGUgc2VsZWN0b3Igd2lsbCBoYXZlIHRoZSBjaGV2cm9uIGNvbnRyb2xsZXIuXG4gICAgIDlcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNlbGVjdG9yX2NsYXNzPVwidWYtY2hldnJvbiBtaW5pbWlzZVwiXSAtIFRoZSBjbGFzcyB0byBhZGQgdG8gdGhlIGNoZXZyb24gY29udHJvbGxlci5cbiAgICAxMFx0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMuc3JjPVwiLi9VRi9nZngvY2hldnJvbl9pY29uLnBuZ1wiXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGNoZXZyb24gaW1hZ2UuXG4gICAgMTFcdCAgICogIEBwYXJhbSB7Qm9vbGVhbn0gW2FyZzBfb3B0aW9ucy5pc19jb2xsYXBzZWQ9ZmFsc2VdIC0gV2hldGhlciB0aGUgc2VjdGlvbiBzaG91bGQgc3RhcnQgaW4gYSBjb2xsYXBzZWQgc3RhdGUuXG4gICAgMTJcdCAgICovXG4gICAgMTNcdCAgZnVuY3Rpb24gY3JlYXRlU2VjdGlvbiAoYXJnMF9vcHRpb25zKSB7XG4gICAgMTRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgMTVcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAgMTZcdFxuICAgIDE3XHQgICAgLy9Jbml0aWFsaXNlIG9wdGlvbnNcbiAgICAxOFx0ICAgIGlmICghb3B0aW9ucy5leHBhbmRfY2xhc3MpIG9wdGlvbnMuZXhwYW5kX2NsYXNzID0gXCJ1Zi1leHBhbmRlZFwiO1xuICAgIDE5XHQgICAgaWYgKCFvcHRpb25zLm1pbmltaXNlX2NsYXNzKSBvcHRpb25zLm1pbmltaXNlX2NsYXNzID0gXCJ1Zi1taW5pbWlzZWRcIjtcbiAgICAyMFx0ICAgIGlmICghb3B0aW9ucy5zZWxlY3Rvcikgb3B0aW9ucy5zZWxlY3RvciA9IFwiXCI7XG4gICAgMjFcdCAgICBpZiAoIW9wdGlvbnMuc2VsZWN0b3JfY2xhc3MpIG9wdGlvbnMuc2VsZWN0b3JfY2xhc3MgPSBcInVmLWNoZXZyb24gbWluaW1pc2VcIjtcbiAgICAyMlx0ICAgIGlmICghb3B0aW9ucy5zcmMpIG9wdGlvbnMuc3JjID0gXCIuL1VGL2dmeC9jaGV2cm9uX2ljb24ucG5nXCI7XG4gICAgMjNcdCAgICBpZiAob3B0aW9ucy5pc19jb2xsYXBzZWQgPT09IHVuZGVmaW5lZCkgb3B0aW9ucy5pc19jb2xsYXBzZWQgPSBmYWxzZTtcbiAgICAyNFx0XG4gICAgMjVcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMjZcdCAgICB2YXIgYWxsX2NvbGxhcHNpYmxlX2VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgLy9TZXQgY2hldnJvbiBpbWFnZSBvbiBmaXJzdCBjb2xsYXBzaWJsZSBlbFxuICAgIDI5XHQgICAgdmFyIGNoZXZyb25fYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAzMFx0ICAgICAgY2hldnJvbl9idG4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgb3B0aW9ucy5zZWxlY3Rvcl9jbGFzcyk7XG4gICAgMzFcdCAgICAgIGNoZXZyb25fYnRuLnNldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiLCBmYWxzZSk7XG4gICAgMzJcdCAgICAgIGNoZXZyb25fYnRuLnNyYyA9IG9wdGlvbnMuc3JjO1xuICAgIDMzXHRcbiAgICAzNFx0ICAgIC8vQWRkIGNoZXZyb24gdG8gZmlyc3QgZWxlbWVudCBpZiBpdCBleGlzdHNcbiAgICAzNVx0ICAgIGlmIChhbGxfY29sbGFwc2libGVfZWxzLmxlbmd0aCA+IDApIHtcbiAgICAzNlx0ICAgICAgdmFyIGZpcnN0X2VsID0gYWxsX2NvbGxhcHNpYmxlX2Vsc1swXTtcbiAgICAzN1x0ICAgICAgZmlyc3RfZWwuYXBwZW5kQ2hpbGQoY2hldnJvbl9idG4sIGZpcnN0X2VsLmZpcnN0Q2hpbGQpO1xuICAgIDM4XHQgICAgfVxuLi4uXG5QYXRoOiBzcmMvVUYvanMvQUJSUy9mcmFtZXdvcmtfQUJSUy5qc1xuICAgICAxXHQvL0FCUlMgLSBSZXF1aXJlcyBmczsgSlNPTlBhY2sgZm9yIEpTT04gY29tcHJlc3Npb24gZmVhdHVyZXNcbiAgICAgMlx0e1xuICAgICAzXHQgIC8qXG4gICAgIDRcdCAgICBjaGFuZ2VTYXZlRGlyZWN0b3J5KCkgLSBDaGFuZ2VzIHRoZSBkZWZhdWx0IHNhdmUgZGlyZWN0b3J5IHRvIGEgZGVmaW5lZCBwYXRoLlxuICAgICA1XHQgICAgYXJnMF9wYXRoOiAoU3RyaW5nKSAtIFRoZSBwYXRoIHN0cmluZyB0byBjaGFuZ2UgdGhlIHNhdmUgZGlyZWN0b3J5IHRvLlxuICAgICA2XHQgICovXG4gICAgIDdcdCAgZnVuY3Rpb24gY2hhbmdlU2F2ZURpcmVjdG9yeSAoYXJnMF9wYXRoKSB7XG4gICAgIDhcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgIDlcdCAgICB2YXIgcGF0aCA9IGFyZzBfcGF0aDtcbiAgICAxMFx0XG4gICAgMTFcdCAgICAvL1NldCBnbG9iYWwgdmFyYWlibGVcbiAgICAxMlx0ICAgIGdsb2JhbC5BQlJTX2RpcmVjdG9yeSA9IHBhdGg7XG4gICAgMTNcdCAgfVxuLi4uXG5QYXRoOiBzcmMvanMvaW50ZXJmYWNlL3VpX2luaXRpYWxpc2F0aW9uLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBVSSBmdW5jdGlvbiAtIG1hc3RlclxuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gaW5pdGlhbGlzZVVJICgpIHtcbiAgICAgNFx0ICAgIC8vSW5pdGlhbGlzZSBsZWZ0X3NpZGViYXJcbiAgICAgNVx0ICAgIGluaXREYXRlVUkoKTtcbiAgICAgNlx0ICAgIGluaXRIaWVyYXJjaHlVSSgpO1xuICAgICA3XHQgICAgaW5pdFNjcmlwdHNVSSgpO1xuICAgICA4XHQgICAgaW5pdFNldHRpbmdzVUkoKTtcbiAgICAgOVx0XG4gICAgMTBcdCAgICAvL0luaXRpYWxpc2UgdG9wYmFyXG4gICAgMTFcdCAgICBpbml0VG9wYmFyVUkoKTtcbiAgICAxMlx0ICB9XG4gICAgMTNcdH1cbi4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9VSSB3aW5kb3cgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICBmdW5jdGlvbiBjbG9zZVBvcHVwICgpIHtcbiAgICAgNFx0ICAgIG1hcC5jbG9zZVBvcHVwKCk7XG4gICAgIDVcdCAgfVxuICAgICA2XHRcbiAgICAgN1x0ICBmdW5jdGlvbiBoaWRlRWxlbWVudCAoYXJnMF9lbGVtZW50KSB7XG4gICAgIDhcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgIDlcdCAgICB2YXIgZWxlbWVudCA9IGFyZzBfZWxlbWVudDtcbiAgICAxMFx0XG4gICAgMTFcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTJcdCAgICB2YXIgY2xhc3NfbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgMTNcdFxuICAgIDE0XHQgICAgaWYgKCFjbGFzc19uYW1lLmluY2x1ZGVzKFwiIGhpZGRlblwiKSlcbiAgICAxNVx0ICAgICAgKGNsYXNzX25hbWUpID9cbiAgICAxNlx0ICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGAke2NsYXNzX25hbWV9IGhpZGRlbmApIDpcbiAgICAxN1x0ICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiIGhpZGRlblwiKTtcbiAgICAxOFx0ICB9XG4uLi5cblBhdGg6IHNyYy9jb25maWcvZGVmaW5lcy9jb21tb25fZGVmaW5lcy5qc1xuLi4uXG4gICAgMTVcdFxuICAgIDE2XHQgICAgLy9JbnRlcmZhY2UgLSBCb3R0b21iYXJcbiAgICAxN1x0ICAgICAgYnJ1c2hfYWN0aW9uc19jb250YWluZXI6IGAjYnJ1c2gtYWN0aW9ucy1jb250ZXh0LW1lbnVgLFxuICAgIDE4XHQgICAgLy9JbnRlcmZhY2UgLSBMZWZ0IFNpZGViYXJcbiAgICAxOVx0ICAgIC8vRmlsZXMgLSBTYXZlL0xvYWRcbiAgICAyMFx0ICAgICAgZmlsZXNfaGllcmFyY2h5OiBgLmZpbGUtY29udGFpbmVyIC5oaWVyYXJjaHlgLFxuICAgIDIxXHQgICAgICBmaWxlc19pbnRlcmFjdGlvbl9jb250YWluZXI6IGAuZmlsZS1jb250YWluZXIgI2ZpbGUtaW50ZXJhY3Rpb24tY29udGFpbmVyYCxcbiAgICAyMlx0ICAgICAgICBmaWxlc19pbnRlcmFjdGlvbl9zYXZlX2ZpbGVfYnV0dG9uOiBgLmZpbGUtY29udGFpbmVyICNmaWxlLWludGVyYWN0aW9uLWNvbnRhaW5lciAjc2F2ZS1maWxlLWJ1dHRvbmAsXG4gICAgMjNcdCAgICAgICAgZmlsZXNfaW50ZXJhY3Rpb25fc2F2ZV9maWxlX2lucHV0OiBgLmZpbGUtY29udGFpbmVyICNmaWxlLWludGVyYWN0aW9uLWNvbnRhaW5lciAjc2F2ZS1maWxlLWlucHV0YCxcbiAgICAyNFx0ICAgIC8vSGllcmFyY2h5XG4gICAgMjVcdCAgICAgIGhpZXJhcmNoeTogYCNoaWVyYXJjaHlgLCAvL1RoZSBxdWVyeSBzZWxlY3RvciBmb3IgdGhlIGFjdHVhbCBoaWVyYXJjaHkgdGFiIG9yIHN1cGVyY29udGFpbmVyLlxuICAgIDI2XHQgICAgICBoaWVyYXJjaHlfY29udGFpbmVyOiBgI2hpZXJhcmNoeS1jb250YWluZXJgLCAvL1RoZSBxdWVyeSBzZWxlY3RvciBmb3IgdGhlIGFjdHVhbCBoaWVyYXJjaHkgY29udGFpbmVyLlxuICAgIDI3XHQgICAgICAgIGdyb3VwX2FjdGlvbnNfY29udGV4dF9tZW51X2FuY2hvcjogYCNjb250ZXh0LW1lbnUtY29udGFpbmVyYCxcbiAgICAyOFx0ICAgIC8vU2NyaXB0c1xuLi4uXG5QYXRoOiBzcmMvVUYvanMvQnJvd3NlclVJL2hpZXJhcmNoeV9mcmFtZXdvcmsuanNcbi4uLlxuICAgIDgxXHRcbiAgICA4Mlx0ICAgIC8vQ3JlYXRlIGNvbnRyb2xzX2RpdlxuICAgIDgzXHQgICAge1xuICAgIDg0XHQgICAgICB2YXIgY29udHJvbHNfZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICA4NVx0ICAgICAgY29udHJvbHNfZGl2LmNsYXNzTmFtZSA9IFwiY29udHJvbHNcIjtcbiAgICA4Nlx0XG4gICAgODdcdCAgICAgIC8vQWRkIEdyb3VwIGJ1dHRvblxuICAgIDg4XHQgICAgICBpZiAoIW9wdGlvbnMuaGlkZV9hZGRfZ3JvdXApIHtcbiAgICA4OVx0ICAgICAgICB2YXIgYWRkX2dyb3VwX2J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgOTBcdCAgICAgICAgYWRkX2dyb3VwX2J1dHRvbi50ZXh0Q29udGVudCA9IGBBZGQgR3JvdXBgO1xuICAgIDkxXHQgICAgICAgIGFkZF9ncm91cF9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICA5Mlx0ICAgICAgICAgIGFkZEdyb3VwKGhpZXJhcmNoeV9pZCk7XG4gICAgOTNcdCAgICAgICAgfSk7XG4gICAgOTRcdCAgICAgICAgY29udHJvbHNfZGl2LmFwcGVuZENoaWxkKGFkZF9ncm91cF9idXR0b24pO1xuICAgIDk1XHQgICAgICB9XG4gICAgOTZcdFxuICAgIDk3XHQgICAgICAvL0FkZCBFbnRpdHkgYnV0dG9uXG4gICAgOThcdCAgICAgIGlmICghb3B0aW9ucy5oaWRlX2FkZF9lbnRpdHkpIHtcbiAgICA5OVx0ICAgICAgICB2YXIgYWRkX2VudGl0eV9idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgMTAwXHQgICAgICAgIGFkZF9lbnRpdHlfYnV0dG9uLnRleHRDb250ZW50ID0gYEFkZCBFbnRpdHlgO1xuICAgMTAxXHQgICAgICAgIGFkZF9lbnRpdHlfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAxMDJcdCAgICAgICAgICBhZGRFbnRpdHkoaGllcmFyY2h5X2lkKTtcbiAgIDEwM1x0ICAgICAgICB9KTtcbiAgIDEwNFx0ICAgICAgICBjb250cm9sc19kaXYuYXBwZW5kQ2hpbGQoYWRkX2VudGl0eV9idXR0b24pO1xuICAgMTA1XHQgICAgICB9XG4gICAxMDZcdFxuICAgMTA3XHQgICAgICAvL1BvcHVsYXRlIGNvbnRyb2xzX2RpdlxuICAgMTA4XHQgICAgICBoaWVyYXJjaHlfZWwuYXBwZW5kQ2hpbGQoY29udHJvbHNfZGl2KTtcbiAgIDEwOVx0ICAgIH1cbiAgIDEuLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI2OGE5Y2Y2OS1hNjM5LTQxYjEtYjhiNS1mZTllNjYxYjUzN2Q7dG9vbHVfdnJ0eF8wMUVoTUdIcWdMbWR3VWE0TGI0S1ZTQjEiOnsicmVxdWVzdElkIjoiNjhhOWNmNjktYTYzOS00MWIxLWI4YjUtZmU5ZTY2MWI1MzdkIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMUVoTUdIcWdMbWR3VWE0TGI0S1ZTQjEiLCJwaGFzZSI6NiwicmVzdWx0Ijp7InRleHQiOiJGaWxlIG5vdCBmb3VuZDogc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMuIERpZCB5b3UgbWVhbiBvbmUgb2YgdGhlc2U/IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLCBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcyIsImlzRXJyb3IiOnRydWUsInJlcXVlc3RJZCI6IiJ9fSwiNmUzM2ViZDAtMDI3Ny00MzcxLTkxMmMtYTVmYzMzYWY1NGMxO3Rvb2x1X3ZydHhfMDFEZ1J2MVVoVm82ZHU0U1I2TmFEdG5VIjp7InJlcXVlc3RJZCI6IjZlMzNlYmQwLTAyNzctNDM3MS05MTJjLWE1ZmMzM2FmNTRjMSIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFEZ1J2MVVoVm82ZHU0U1I2TmFEdG5VIiwicGhhc2UiOjYsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBub3QgZm91bmQ6IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLiBEaWQgeW91IG1lYW4gb25lIG9mIHRoZXNlPyBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcywgc3JjL1VGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanMiLCJpc0Vycm9yIjp0cnVlLCJyZXF1ZXN0SWQiOiIifX0sIjRjOTFlNGQ0LTA3ZjQtNDJjMC1iZDJjLTEzMGQzYWQxMzljNjt0b29sdV92cnR4XzAxR2NuRVhqU1RBeDZadk1oamVOUkxaOCI6eyJyZXF1ZXN0SWQiOiI0YzkxZTRkNC0wN2Y0LTQyYzAtYmQyYy0xMzBkM2FkMTM5YzYiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxR2NuRVhqU1RBeDZadk1oamVOUkxaOCIsInBoYXNlIjo4fSwiZTVlNDViOTctZmViMC00OTdlLTliM2EtYzRlZDFhOGZiYTUxO3Rvb2x1X3ZydHhfMDEzNERTcTZMNVp5OXU0a0dXM2lmaEd0Ijp7InJlcXVlc3RJZCI6ImU1ZTQ1Yjk3LWZlYjAtNDk3ZS05YjNhLWM0ZWQxYThmYmE1MSIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDEzNERTcTZMNVp5OXU0a0dXM2lmaEd0IiwicGhhc2UiOjYsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBub3QgZm91bmQ6IHNyYy9qcy91aV9mcmFtZXdvcmsuanMuIERpZCB5b3UgbWVhbiBvbmUgb2YgdGhlc2U/IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLCBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcyIsImlzRXJyb3IiOnRydWUsInJlcXVlc3RJZCI6IiJ9fSwiNDFjYjdhN2MtYjY0OC00MzYxLWExMGUtNmFlNzdmOWY2MWQ4O3Rvb2x1X3ZydHhfMDE5ZlRxaGRCbXlrSGt4WDZ2MmlRd1l2Ijp7InJlcXVlc3RJZCI6IjQxY2I3YTdjLWI2NDgtNDM2MS1hMTBlLTZhZTc3ZjlmNjFkOCIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDE5ZlRxaGRCbXlrSGt4WDZ2MmlRd1l2IiwicGhhc2UiOjYsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBub3QgZm91bmQ6IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLiBEaWQgeW91IG1lYW4gb25lIG9mIHRoZXNlPyBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcywgc3JjL1VGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanMiLCJpc0Vycm9yIjp0cnVlLCJyZXF1ZXN0SWQiOiIifX0sIjY1MmM4MWIyLWEwNGUtNDNkMC04ZmNlLTgzOGM3OGYwNTc1Mzt0b29sdV92cnR4XzAxOWtSakM5blhvTG95cEVHd25mSFlZYiI6eyJyZXF1ZXN0SWQiOiI2NTJjODFiMi1hMDRlLTQzZDAtOGZjZS04MzhjNzhmMDU3NTMiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxOWtSakM5blhvTG95cEVHd25mSFlZYiIsInBoYXNlIjo2LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgbm90IGZvdW5kOiBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcy4gRGlkIHlvdSBtZWFuIG9uZSBvZiB0aGVzZT8gc3JjL1VGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanMsIHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzIiwiaXNFcnJvciI6dHJ1ZSwicmVxdWVzdElkIjoiIn19LCI0YTBjYTkyZC03NzVlLTQ2NmYtOGRlZC02NjRkODM3NDUzMDM7dG9vbHVfdnJ0eF8wMTk0UGFNNkJkUFoyZ2k2RHFSUnBzQWgiOnsicmVxdWVzdElkIjoiNGEwY2E5MmQtNzc1ZS00NjZmLThkZWQtNjY0ZDgzNzQ1MzAzIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTk0UGFNNkJkUFoyZ2k2RHFSUnBzQWgiLCJwaGFzZSI6OH0sImZhMzhjMzI0LTBmNzItNDg3Mi05MTRhLWFjYTUwNTc4NjI5Yzt0b29sdV92cnR4XzAxWTlFNTRod0dYWHhtMkc0Ym9OOHg5UiI6eyJyZXF1ZXN0SWQiOiJmYTM4YzMyNC0wZjcyLTQ4NzItOTE0YS1hY2E1MDU3ODYyOWMiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxWTlFNTRod0dYWHhtMkc0Ym9OOHg5UiIsInBoYXNlIjo2LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgbm90IGZvdW5kOiBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcy4gRGlkIHlvdSBtZWFuIG9uZSBvZiB0aGVzZT8gc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMsIHNyYy9VRi9qcy9Ccm93c2VyVUkvdWlfZnJhbWV3b3JrLmpzIiwiaXNFcnJvciI6dHJ1ZSwicmVxdWVzdElkIjoiIn19LCIyNDI0YmJiYy00ZTliLTQyYzItODZjZS01ZTU5NDI1YTY0NDc7dG9vbHVfdnJ0eF8wMTI5cE16aFVRRGIzcG0ydHJlZEdHc2siOnsicmVxdWVzdElkIjoiMjQyNGJiYmMtNGU5Yi00MmMyLTg2Y2UtNWU1OTQyNWE2NDQ3IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTI5cE16aFVRRGIzcG0ydHJlZEdHc2siLCJwaGFzZSI6NiwicmVzdWx0Ijp7InRleHQiOiJGaWxlIG5vdCBmb3VuZDogc3JjL2pzL3VpX2ZyYW1ld29yay5qcy4gRGlkIHlvdSBtZWFuIG9uZSBvZiB0aGVzZT8gc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMsIHNyYy9VRi9qcy9Ccm93c2VyVUkvdWlfZnJhbWV3b3JrLmpzIiwiaXNFcnJvciI6dHJ1ZSwicmVxdWVzdElkIjoiIn19LCIzZmU0M2ViNC0wYTc0LTQzYWEtODMzYy0xOWY1M2Y3NTZmN2M7dG9vbHVfdnJ0eF8wMVdmQVlvTjRjTEU5TWlBUU11Slc0emMiOnsicmVxdWVzdElkIjoiM2ZlNDNlYjQtMGE3NC00M2FhLTgzM2MtMTlmNTNmNzU2ZjdjIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMVdmQVlvTjRjTEU5TWlBUU11Slc0emMiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvaW5kZXguaHRtbFxuLi4uXG4gICAgMThcdFxuICAgIDE5XHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9jc3MvbGVmdF9zaWRlYmFyL2hpZXJhcmNoeV9jb250YWluZXIvbGVmdF9zaWRlYmFyLmNzc1wiIHR5cGUgPSBcInRleHQvY3NzXCI+XG4gICAgMjBcdFx0XHQ8bGluayByZWwgPSBcInN0eWxlc2hlZXRcIiBocmVmID0gXCIuL2Nzcy9sZWZ0X3NpZGViYXIvZGF0ZV9jb250YWluZXIvZGF0ZV91aS5jc3NcIiB0eXBlID0gXCJ0ZXh0L2Nzc1wiPlxuICAgIDIxXHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9jc3MvbGVmdF9zaWRlYmFyL2VudGl0aWVzX2NvbnRhaW5lci9lbnRpdHlfcGFuZWwuY3NzXCIgdHlwZSA9IFwidGV4dC9jc3NcIj5cbiAgICAyMlx0XHRcdDxsaW5rIHJlbCA9IFwic3R5bGVzaGVldFwiIGhyZWYgPSBcIi4vY3NzL2xlZnRfc2lkZWJhci9oaWVyYXJjaHlfY29udGFpbmVyL2ZpbGUvZmlsZV91aS5jc3NcIiB0eXBlID0gXCJ0ZXh0L2Nzc1wiPlxuICAgIDIzXHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9jc3MvbGVmdF9zaWRlYmFyL2hpZXJhcmNoeV9jb250YWluZXIvaGllcmFyY2h5L2dyb3VwX2FjdGlvbnNfdWkuY3NzXCIgdHlwZSA9IFwidGV4dC9jc3NcIj5cbiAgICAyNFx0XHRcdDxsaW5rIHJlbCA9IFwic3R5bGVzaGVldFwiIGhyZWYgPSBcIi4vY3NzL2xlZnRfc2lkZWJhci9oaWVyYXJjaHlfY29udGFpbmVyL2hpZXJhcmNoeS9oaWVyYXJjaHlfY29sb3Vycy5jc3NcIiB0eXBlID0gXCJ0ZXh0L2Nzc1wiPlxuLi4uXG4gICAgNDFcdFxuICAgIDQyXHRcdFx0PCEtLSBIVE1MMkNhbnZhcywgTGVhZmxldC5qcywgTGVhZmxldCBHZW9kZXN5LCBNYXB0YWxrcy9HTCwgU29ydGFibGUsIFRocmVlLmpzLCBUaXBweS5qcywgVHVyZi5qcyAtLT5cbiAgICA0M1x0XHRcdDxsaW5rIHJlbCA9IFwic3R5bGVzaGVldFwiIGhyZWYgPSBcIi4vbGlicmFyaWVzL21hcHRhbGtzLmNzc1wiPlxuICAgIDQ0XHRcdFx0PHNjcmlwdCB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIiBzcmMgPSBcIi4vbGlicmFyaWVzL21hcHRhbGtzLm1pbi5qc1wiPjwvc2NyaXB0PlxuICAgIDQ1XHRcdFx0PHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjID0gXCIuL2xpYnJhcmllcy9kYXQuZ3VpLm1pbi5qc1wiPjwvc2NyaXB0PlxuICAgIDQ2XHRcdFx0XHQ8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBzcmM9XCIuL2xpYnJhcmllcy9tYXB0YWxrc2dsLmpzXCI+PC9zY3JpcHQ+XG4gICAgNDdcdFx0XHRcdDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cIi4vbGlicmFyaWVzL3RocmVlLm1pbi5qc1wiPjwvc2NyaXB0PlxuICAgIDQ4XHRcdFx0XHQ8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBzcmM9XCIuL2xpYnJhcmllcy9HTFRGTG9hZGVyLmpzXCI+PC9zY3JpcHQ+XG4gICAgNDlcdFx0XHRcdDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cIi4vbGlicmFyaWVzL21hcHRhbGtzLnRocmVlLmpzXCI+PC9zY3JpcHQ+XG4gICAgNTBcdFx0XHRcdDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cIi4vbGlicmFyaWVzL3N0YXRzLm1pbi5qc1wiPjwvc2NyaXB0PlxuICAgIDUxXHRcdFx0PHNjcmlwdCB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIiBzcmMgPSBcIi4vbGlicmFyaWVzL2xlYWZsZXQubWluLmpzXCI+PC9zY3JpcHQ+XG4uLi5cbiAgICA2MFx0XG4gICAgNjFcdFx0XHQ8IS0tIENvbG9ycGlja2VyLCBMZWFkZXJMaW5lLCBMZWFmbGV0LCBTb3J0YWJsZSwgVGlwcHksIFR1cmYgQ1NTIC0tPlxuICAgIDYyXHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9saWJyYXJpZXMvY29sb3JwaWNrZXIuY3NzXCI+XG4gICAgNjNcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9saWJyYXJpZXMvY29sb3JwaWNrZXIuaWlmZS5qc1wiPjwvc2NyaXB0PlxuICAgIDY0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vbGlicmFyaWVzL2xlYWRlci1saW5lLm1pbi5qc1wiPjwvc2NyaXB0PlxuICAgIDY1XHRcdFx0PGxpbmsgcmVsID0gXCJzdHlsZXNoZWV0XCIgaHJlZiA9IFwiLi9saWJyYXJpZXMvbGVhZmxldC5jc3NcIj5cbiAgICA2Nlx0XHRcdDxsaW5rIHJlbCA9IFwic3R5bGVzaGVldFwiIGhyZWYgPSBcIi4vbGlicmFyaWVzL3NjYWxlLmNzc1wiLz5cbiAgICA2N1x0XHRcdDxsaW5rIHJlbCA9IFwic3R5bGVzaGVldFwiIGhyZWYgPSBcIi4vbGlicmFyaWVzL29sLmNzc1wiIHR5cGU9XCJ0ZXh0L2Nzc1wiPlxuICAgIDY4XHRcdFx0XG4gICAgNjlcdFx0XHQ8IS0tIFVGLCBDU1MgSW1wb3J0cyAtLT5cbiAgICA3MFx0ICAgIDxsaW5rIHJlbCA9IFwic3R5bGVzaGVldFwiIGhyZWYgPSBcIlVGL2Nzcy9Ccm93c2VyVUkvY29udGV4dF9tZW51cy5jc3NcIj5cbiAgICA3MVx0ICAgIDxsaW5rIHJlbCA9IFwic3R5bGVzaGVldFwiIGhyZWYgPSBcIlVGL2Nzcy9Ccm93c2VyVUkvd2luZG93cy5jc3NcIj5cbiAgICA3Mlx0XG4gICAgNzNcdCAgICA8IS0tIFVGLCBKUyBJbXBvcnRzIC0tPlxuICAgIDc0XHQgICAgPHNjcmlwdCBzcmMgPSBcIlVGL2pzL0FCUlMvZnJhbWV3b3JrX0FCUlMuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbi4uLlxuICAgIDkyXHRcbiAgICA5M1x0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9Ccm93c2VyVUkvYmFzaWNfaHRtbC5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgIDk0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS9jb250ZXh0X21lbnVzX2hlbHBlcl9mdW5jdGlvbnMuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgICA5NVx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9Ccm93c2VyVUkvY29udGV4dF9tZW51cy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgIDk2XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS9jb250ZXh0X21lbnVzX3JlYWQuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgICA5N1x0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9Ccm93c2VyVUkvY29udGV4dF9tZW51c193cml0ZS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgIDk4XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL0Jyb3dzZXJVSS9ncm91cHNfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAgOTlcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvQnJvd3NlclVJL2hpZXJhcmNoeV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDEwMFx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9Ccm93c2VyVUkvdWlfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4uLi5cbiAgIDExNlx0XG4gICAxMTdcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvbnVtYmVycy9iYXNpY19udW1iZXJzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAxMThcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiVUYvanMvbnVtYmVycy9yYW5nZXNfbnVtYmVycy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTE5XHRcbiAgIDEyMFx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9vYmplY3RzL2Jhc2ljX29iamVjdHMuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDEyMVx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9vYmplY3RzL21hdGhzX29iamVjdHMuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDEyMlx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9vYmplY3RzL3NtYXJ0X3NlYXJjaF9vYmplY3RzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAxMjNcdFxuICAgMTI0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIlVGL2pzL3BhdGhmaW5kaW5nL2Ffc3Rhcl9wYXRoZmluZGluZy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTI1XHRcbiAgIDEyNlx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9zdGF0aXN0aWNzL2Jhc2ljX2RlbW9ncmFwaGljcy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMTI3XHRcbiAgIDEyOFx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9zdHJpbmdzL2Jhc2ljX3N0cmluZ3MuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDEyOVx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9zdHJpbmdzL2NsZWFuaW5nX3N0cmluZ3MuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDEzMFx0XHRcdDxzY3JpcHQgc3JjID0gXCJVRi9qcy9zdHJpbmdzL3NwbGl0X3N0cmluZ3MuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDEzMVx0XG4gICAxMzJcdFx0XHQ8IS0tIEltcG9ydCBjb25maWcgLS0+XG4gICAxMzNcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvdWlfY29uZmlnLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAxMzRcdFx0PC9oZWFkPlxuICAgMTM1XHRcdDxib2R5PlxuICAgMTM2XHRcdFx0PCEtLSBNYXAgY29udGFpbmVyIC0tPlxuICAgMTM3XHRcdFx0PGRpdiBpZCA9IFwibWFwXCIgY2xhc3MgPSBcIm1hcC1jb250YWluZXJcIj48L2Rpdj5cbiAgIDEzOFx0XG4gICAxMzlcdFx0XHQ8IS0tIFRvcGJhciBVSSAtLT5cbiAgIDE0MFx0XHRcdDxkaXYgaWQgPSBcInRvcGJhclwiIGNsYXNzID0gXCJ0b3BiYXItY29udGFpbmVyXCI+XG4gICAxNDFcdFx0XHRcdDx1bD5cbiAgIDE0Mlx0XHRcdFx0XHQ8bGkgY2xhc3MgPSBcImZpbGVcIj48YSBocmVmID0gXCIjXCI+RmlsZTwvYT48L2xpPlxuICAgMTQzXHRcdFx0XHRcdDxsaSBjbGFzcyA9IFwidW5kb19yZWRvXCI+PGEgaHJlZiA9IFwiI1wiPlVuZG8vUmVkbzwvYT48L2xpPlxuICAgMTQ0XHRcdFx0XHRcdDxsaSBjbGFzcyA9IFwibWFwIGFjdGl2ZVwiPjxhIGhyZWYgPSBcIiNcIj5NYXA8L2E+PC9saT5cbiAgIDE0NVx0XHRcdFx0PC91bD5cbi4uLlxuICAgMTcxXHRcbiAgIDE3Mlx0XHRcdFx0XHRcdDwhLS0gRmlsZSBNYW5hZ2VtZW50IEJ1dHRvbnMgLS0+XG4gICAxNzNcdFx0XHRcdFx0XHQ8ZGl2IGlkID0gXCJmaWxlLWludGVyYWN0aW9uLWNvbnRhaW5lclwiPlxuICAgMTc0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZSA9IFwidGV4dFwiIGlkID0gXCJzYXZlLWZpbGUtaW5wdXRcIiB2YWx1ZSA9IFwiYXV0b3NhdmUuanNcIj48L2lucHV0PlxuICAgMTc1XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGlkID0gXCJzYXZlLWZpbGUtYnV0dG9uXCI+U2F2ZTwvYnV0dG9uPlxuICAgMTc2XHRcdFx0XHRcdFx0PC9kaXY+XG4gICAxNzdcdFx0XHRcdFx0XHQ8ZGl2IGlkID0gXCJmaWxlLWhpZXJhcmNoeVwiIGNsYXNzID0gXCJoaWVyYXJjaHlcIj5cbiAgIDE3OFx0XHRcdFx0XHRcdDwvZGl2PlxuICAgMTc5XHRcdFx0XHRcdDwvZGl2PlxuICAgMTgwXHRcdFx0XHQ8L2Rpdj5cbiAgIDE4MVx0XHRcdFx0PGRpdiBpZCA9IFwidW5kby1yZWRvLXRhYlwiIGNsYXNzID0gXCJ1bmRvLXJlZG8tY29udGFpbmVyIGhpZGRlblwiIHBhZ2UgPSBcInRydWVcIj5cbiAgIDE4Mlx0XHRcdFx0XHQ8ZGl2IGlkID0gXCJ1bmRvLXJlZG8tY29udGFpbmVyXCIgY2xhc3MgPSBcImhpZXJhcmNoeS1ib2R5LWNvbnRhaW5lclwiPlxuICAgMTgzXHRcdFx0XHRcdFx0PGRpdiBpZCA9IFwidW5kby1yZWRvLWhlYWRlclwiIGNsYXNzID0gXCJoaWVyYXJjaHktaGVhZGVyXCI+VU5ETy9SRURPPC9kaXY+XG4gICAxODRcdFx0XHRcdFx0XHQ8aHIgY2xhc3MgPSBcImhpZXJhcmNoeS1oZWFkZXItbGluZVwiPlxuICAgMTg1XHRcdFx0XHRcdFx0PGJyPlxuICAgMTg2XHRcbiAgIDE4N1x0XHRcdFx0XHRcdDwhLS0gVW5kby9SZWRvIENvbnRhaW5lciAtLT5cbiAgIDE4OFx0XHRcdFx0XHRcdDxkaXYgY2xhc3MgPSBcInVuZG8tcmVkby1jYW52YXMtY29udGFpbmVyXCI+XG4gICAxODlcdFx0XHRcdFx0XHRcdDxjYW52YXMgaWQgPSBcInVuZG8tcmVkby11aS1jb250YWluZXJcIj48L2NhbnZhcz5cbiAgIDE5MFx0XHRcdFx0XHRcdDwvZGl2PlxuLi4uXG4gICAyNzVcdFxuICAgMjc2XHRcdFx0XHQ8IS0tIEJydXNoIGFjdGlvbnMgY29udGFpbmVyIC0tPlxuICAgMjc3XHRcdFx0XHQ8ZGl2IGlkID0gXCJicnVzaC1hY3Rpb25zLWNvbnRleHQtbWVudVwiIGNsYXNzID0gXCJicnVzaC1hY3Rpb25zLWNvbnRhaW5lclwiPjwvZGl2PlxuICAgMjc4XHRcdFx0PC9kaXY+XG4gICAyNzlcdFxuICAgMjgwXHRcdFx0PCEtLSBQb3B1cCBDb250YWluZXJzIC0tPlxuICAgMjgxXHRcdFx0PGRpdiBpZCA9IFwiZW50aXR5LXBhbmVsLWNvbnRhaW5lclwiIGNsYXNzID0gXCJlbnRpdHktcGFuZWwtY29udGFpbmVyIGJvdHRvbS1sZWZ0XCI+XG4gICAyODJcdFx0XHQ8L2Rpdj5cbiAgIDI4M1x0XG4gICAyODRcdFx0XHQ8IS0tIEltcG9ydCBBQlJTIGFuZCBVbmRvL1JlZG8gLS0+XG4gICAyODVcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvQUJSUy9zYXZlX2xvYWQuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDI4Nlx0XG4gICAyODdcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy91bmRvX3JlZG9fZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAyODhcdFx0XHRcdDwhLS0gRW50aXR5IEFjdGlvbnMgLS0+XG4gICAyODlcdFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9hY3Rpb25zL2VudGl0aWVzL2FwcGx5X3BhdGhfdG9fa2V5ZnJhbWVzLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAyOTBcdFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9hY3Rpb25zL2VudGl0aWVzL2NsZWFuX2tleWZyYW1lcy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMjkxXHRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy9lbnRpdGllcy9lZGl0X2VudGl0eV9ub2Rlcy5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMjkyXHRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYWN0aW9ucy9lbnRpdGllcy9zZXRfZW50aXR5X2ZpbGwuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDI5M1x0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2FjdGlvbnMvZW50aXRpZXMvc2V0X2VudGl0eV9zdHJva2UuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDI5NFx0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2FjdGlvbnMvZW50aXRpZXMvc2V0X2VudGl0eV96b29tX2xldmVsLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4uLi5cbiAgIDI5N1x0XG4gICAyOThcdFx0XHQ8IS0tIEltcG9ydCBmcmFtZXdvcmsgLS0+XG4gICAyOTlcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvYnJ1c2gvYnJ1c2hfYWN0aW9uc19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwMFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9icnVzaC9icnVzaF9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwMVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9jb29yZHMvY29vcmRzX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzAyXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL2RhdGUvZGF0ZV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwM1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwNFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMDVcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2RlbHRhX2FjdGlvbnNfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMDZcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2tleWZyYW1lc19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwN1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9ncm91cHMvZ3JvdXBfYWN0aW9uc19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMwOFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9ncm91cHMvZ3JvdXBfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMDlcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvaGlzdG9yeS9oaXN0b3J5X2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzEwXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL21hcC9wb2xpdHlfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMTFcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvbWFwL3Byb2plY3Rpb25fZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMTJcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvbWFwL3RpbGVfbGF5ZXJzX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzEzXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL21hcC90dXJmX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzE0XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL21hcC9yZW5kZXJpbmdfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMTVcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9mcmFtZXdvcmsvbWFza3MvbWFza19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMxNlx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay92YXJpYWJsZXMvdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMxN1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay92YXJpYWJsZXMvdmFyaWFibGVfZnJhbWV3b3JrLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMThcdFxuICAgMzE5XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL29wdGltaXNhdGlvbl9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMyMFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ZyYW1ld29yay9wYXJzaW5nX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzIxXHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvZnJhbWV3b3JrL3NldHRpbmdzX2ZyYW1ld29yay5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzIyXHRcbiAgIDMyM1x0XHRcdDwhLS0gSW1wb3J0IGxvY2FsaXNhdGlvbiAtLT5cbiAgIDMyNFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZW50aXR5X2xvY2FsaXNhdGlvbi5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzI1XHRcbiAgIDMyNlx0XHRcdDwhLS0gSW1wb3J0IFVJIC0tPlxuICAgMzI3XHRcdFx0PHNjcmlwdCBzcmMgPSBcIi4vanMvaW50ZXJmYWNlL2xlZnRfc2lkZWJhci9kYXRlX3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzMjhcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbGVmdF9zaWRlYmFyL2ZpbGVfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDMyOVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9sZWZ0X3NpZGViYXIvdW5kb19yZWRvX3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4uLi5cbiAgIDMzOVx0XG4gICAzNDBcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL2VudGl0eV9hY3Rpb25zX3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNDFcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL2VudGl0eV9jdXN0b21pc2F0aW9uX3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNDJcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL2VudGl0eV9rZXlmcmFtZXNfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0M1x0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZW50aXR5X3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNDRcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL2VudGl0eV92YXJpYWJsZXNfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0NVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS9tYXAvZ3JhcGhfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0Nlx0XG4gICAzNDdcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvbWFwL21hcF9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM0OFx0XG4gICAzNDlcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvcmlnaHRfc2lkZWJhci9icnVzaF9hY3Rpb25zX3VpLmpzXCIgdHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG4gICAzNTBcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvcmlnaHRfc2lkZWJhci9tYXBfYnJ1c2hfdWkuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD4gPCEtLSBbV0lQXSAtIERFUFJFQ0FURSAtLT5cbiAgIDM1MVx0XG4gICAzNTJcdFx0XHQ8c2NyaXB0IHNyYyA9IFwiLi9qcy9pbnRlcmZhY2UvdG9wYmFyL3RvcGJhcl91aS5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuICAgMzUzXHRcbiAgIDM1NFx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanNcIiB0eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cbiAgIDM1NVx0XHRcdDxzY3JpcHQgc3JjID0gXCIuL2pzL2ludGVyZmFjZS91aV9pbml0aWFsaXNhdGlvbi5qc1wiIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuLi4uXG5QYXRoOiBzcmMvanMvc3RhcnR1cC5qc1xuICAgICAxXHQvL0ltcG9ydCBtb2R1bGVzXG4gICAgIDJcdHdpbmRvdy5jaGlsZF9wcm9jZXNzID0gcmVxdWlyZShcImNoaWxkX3Byb2Nlc3NcIik7XG4gICAgIDNcdHdpbmRvdy5mcyA9IHJlcXVpcmUoXCJmc1wiKTtcbiAgICAgNFx0d2luZG93LnBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbiAgICAgNVx0XG4gICAgIDZcdC8vTG9hZCBjb25maWdcbiAgICAgN1x0e1xuICAgICA4XHQgIGdsb2JhbC5sb2FkX29yZGVyID0ge1xuICAgICA5XHQgICAgbG9hZF9kaXJlY3RvcmllczogW1xuICAgIDEwXHQgICAgICBcImNvbmZpZ1wiLFxuICAgIDExXHQgICAgICBcIi4vanMvaW50ZXJmYWNlLypfY29uZmlnLmpzXCIsXG4gICAgMTJcdCAgICAgIFwiVUZcIlxuICAgIDEzXHQgICAgXSxcbiAgICAxNFx0ICAgIGxvYWRfZmlsZXM6IFtcbiAgICAxNVx0ICAgICAgXCIuY29uZmlnX2JhY2tlbmQuanNcIlxuICAgIDE2XHQgICAgXVxuICAgIDE3XHQgIH07XG4gICAgMThcdCAgbG9hZENvbmZpZygpO1xuICAgIDE5XHR9XG4gICAgMjBcdFxuICAgIDIxXHQvL0luaXQgZ2xvYmFsXG4gICAgMjJcdHtcbiAgICAyM1x0ICAvL0RlY2xhcmUgbG9jYWwgaW5pdGlhbGlzYXRpb24gY29uc3RhbnRzXG4gICAgMjRcdCAgdmFyIGN1cnJlbnRfZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgMjVcdFxuICAgIDI2XHQgIC8vSW5pdGlhbGlzZSBnbG9iYWwuaW50ZXJmYWNlc1xuICAgIDI3XHQgIGdsb2JhbC5pbnRlcmZhY2VzID0ge307XG4gICAgMjhcdFxuICAgIDI5XHQgIC8vSW5pdGlhbGlzZSBnbG9iYWwubWFpblxuICAgIDMwXHQgIGdsb2JhbC5tYWluID0ge307XG4uLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvdWlfY29uZmlnLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBjb25maWcgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAyXHRpZiAoIWdsb2JhbC5jb25maWcpIGdsb2JhbC5jb25maWcgPSB7fTtcbiAgICAgM1x0XG4gICAgIDRcdC8vSW5pdGlhbGlzZSBoZWxwZXIgZnVuY3Rpb25zXG4gICAgIDVcdHtcbiAgICAgNlx0ICBmdW5jdGlvbiBnZXRVSVNlbGVjdG9yIChhcmcwX2tleSwgYXJnMV9yZXR1cm5fYXJyYXkpIHtcbiAgICAgN1x0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAgOFx0ICAgIHZhciBrZXkgPSBhcmcwX2tleTtcbiAgICAgOVx0ICAgIHZhciByZXR1cm5fYXJyYXkgPSBhcmcxX3JldHVybl9hcnJheTtcbiAgICAxMFx0XG4gICAgMTFcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTJcdCAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAgMTNcdCAgICB2YXIgY29tbW9uX3NlbGVjdG9ycyA9IGNvbW1vbl9kZWZpbmVzLnNlbGVjdG9ycztcbiAgICAxNFx0XG4gICAgMTVcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICAxNlx0ICAgIGlmIChjb21tb25fc2VsZWN0b3JzW2tleV0pIHtcbiAgICAxN1x0ICAgICAgcmV0dXJuICghcmV0dXJuX2FycmF5KSA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29tbW9uX3NlbGVjdG9yc1trZXldKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29tbW9uX3NlbGVjdG9yc1trZXldKTtcbiAgICAxOFx0ICAgIH0gZWxzZSB7XG4gICAgMTlcdCAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBmaW5kIHNlbGVjdG9yIGluIGNvbmZpZy5kZWZpbmVzLmNvbW1vbjpgLCBrZXkpO1xuICAgIDIwXHQgICAgfVxuICAgIDIxXHQgIH1cbiAgICAyMlx0fVxuLi4uXG5QYXRoOiBzcmMvanMvaW50ZXJmYWNlL2xlZnRfc2lkZWJhci9zZXR0aW5nc19nbG9iYWxfY29uZmlnLmpzXG4gICAgIDFcdGNvbmZpZy5zZXR0aW5ncy5nbG9iYWwgPSB7XG4gICAgIDJcdCAgb3JkZXI6IDEsXG4gICAgIDNcdCAgXG4gICAgIDRcdCAgZ2xvYmFsX3NldHRpbmdzX2h0bWw6IHtcbiAgICAgNVx0ICAgIGlkOiBgZ2xvYmFsX3NldHRpbmdzX2hlYWRlcmAsXG4gICAgIDZcdCAgICB0eXBlOiBcImh0bWxcIixcbiAgICAgN1x0XG4gICAgIDhcdCAgICBpbm5lckhUTUw6IGBcbiAgICAgOVx0ICAgICAgPGRpdiBjbGFzcyA9IFwicHJpbWFyeS1oZWFkZXJcIj5HbG9iYWwgU2V0dGluZ3M8L2Rpdj5cbiAgICAxMFx0ICAgIGAsXG4gICAgMTFcdCAgfSxcbiAgICAxMlx0ICBnbG9iYWxfZGVmYXVsdF9zYXZlX2ZpbGU6IHtcbiAgICAxM1x0ICAgIGlkOiBcImdsb2JhbF9kZWZhdWx0X3NhdmVfZmlsZVwiLFxuICAgIDE0XHQgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgMTVcdFxuICAgIDE2XHQgICAgbmFtZTogXCJEZWZhdWx0IHNhdmUgZmlsZSBvbiBzdGFydHVwOlwiLFxuICAgIDE3XHQgICAgYXR0cmlidXRlczoge1xuICAgIDE4XHQgICAgICB2YWx1ZTogXCIuL2F1dG9zYXZlLmpzXCJcbiAgICAxOVx0ICAgIH1cbiAgICAyMFx0ICB9LFxuICAgIDIxXHQgIGdsb2JhbF91aV9sYXlvdXRfdG9nZ2xlczogeyAvL1tXSVBdIC0gRnVuY3Rpb25hbGl0eSBub3QgeWV0IGFkZGVkXG4gICAgMjJcdCAgICBpZDogYGdsb2JhbF91aV9sYXlvdXRfdG9nZ2xlc2AsXG4gICAgMjNcdCAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgMjRcdFxuICAgIDI1XHQgICAgb3B0aW9uczoge1xuICAgIDI2XHQgICAgICBcImFuY2hvcl9lbnRpdHlfcG9wdXBzXCI6IFwiQW5jaG9yIEVudGl0eSBQb3B1cHNcIixcbiAgICAyN1x0ICAgICAgXCJoaWRlX2VudGl0eV9kYXRhX2dyYXBoX2J5X2RlZmF1bHRcIjogXCJIaWRlIEVudGl0eSBEYXRhIEdyYXBoIGJ5IERlZmF1bHRcIlxuICAgIDI4XHQgICAgfVxuICAgIDI5XHQgIH0sXG4gICAgMzBcdCAgZG9jdW1lbnRfc2V0dGluZ3NfaHRtbDoge1xuICAgIDMxXHQgICAgaWQ6IGBkb2N1bWVudF9zZXR0aW5nc19oZWFkZXJgLFxuICAgIDMyXHQgICAgdHlwZTogXCJodG1sXCIsXG4gICAgMzNcdFxuICAgIDM0XHQgICAgaW5uZXJIVE1MOiBgXG4gICAgMzVcdCAgICAgIDxkaXYgY2xhc3MgPSBcInByaW1hcnktaGVhZGVyXCI+RG9jdW1lbnQgU2V0dGluZ3M8L2Rpdj5cbiAgICAzNlx0ICAgIGAsXG4gICAgMzdcdCAgfVxuICAgIDM4XHR9Oy4uLlxuUGF0aDogc3JjL1VGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgLyoqXG4gICAgIDRcdCAgICogY3JlYXRlU2VjdGlvbigpIC0gQ3JlYXRlcyBhIGZvbGRhYmxlIGVsZW1lbnQgdGhhdCBjYW4gYmUgbWluaW1pc2VkL2V4cGFuZGVkLlxuICAgICA1XHQgICAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnMF9vcHRpb25zXVxuICAgICA2XHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5leHBhbmRfY2xhc3M9XCJ1Zi1leHBhbmRlZFwiXSAtIFRoZSBjbGFzcyB0byBhZGQgd2hlbiB0aGUgc2VjdGlvbiBpcyBleHBhbmRlZC5cbiAgICAgN1x0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMubWluaW1pc2VfY2xhc3M9XCJ1Zi1taW5pbWlzZWRcIl0gLSBUaGUgY2xhc3MgdG8gYWRkIHdoZW4gdGhlIHNlY3Rpb24gaXMgY29sbGFwc2VkLlxuICAgICA4XHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5zZWxlY3Rvcl0gLSBUaGUgc2VsZWN0b3Igb2YgdGhlIGVsZW1lbnRzIHRoYXQgY2FuIGJlIG1pbmltaXNlZC9leHBhbmRlZC4gTm90ZSB0aGF0IHRoZSBmaXJzdCBlbGVtZW50IGNvdmVyZWQgYnkgdGhlIHNlbGVjdG9yIHdpbGwgaGF2ZSB0aGUgY2hldnJvbiBjb250cm9sbGVyLlxuICAgICA5XHQgICAqICBAcGFyYW0ge1N0cmluZ30gW2FyZzBfb3B0aW9ucy5zZWxlY3Rvcl9jbGFzcz1cInVmLWNoZXZyb24gbWluaW1pc2VcIl0gLSBUaGUgY2xhc3MgdG8gYWRkIHRvIHRoZSBjaGV2cm9uIGNvbnRyb2xsZXIuXG4gICAgMTBcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBbYXJnMF9vcHRpb25zLnNyYz1cIi4vVUYvZ2Z4L2NoZXZyb25faWNvbi5wbmdcIl0gLSBUaGUgc291cmNlIG9mIHRoZSBjaGV2cm9uIGltYWdlLlxuICAgIDExXHQgICAqICBAcGFyYW0ge0Jvb2xlYW59IFthcmcwX29wdGlvbnMuaXNfY29sbGFwc2VkPWZhbHNlXSAtIFdoZXRoZXIgdGhlIHNlY3Rpb24gc2hvdWxkIHN0YXJ0IGluIGEgY29sbGFwc2VkIHN0YXRlLlxuICAgIDEyXHQgICAqL1xuICAgIDEzXHQgIGZ1bmN0aW9uIGNyZWF0ZVNlY3Rpb24gKGFyZzBfb3B0aW9ucykge1xuICAgIDE0XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDE1XHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xuICAgIDE2XHRcbiAgICAxN1x0ICAgIC8vSW5pdGlhbGlzZSBvcHRpb25zXG4gICAgMThcdCAgICBpZiAoIW9wdGlvbnMuZXhwYW5kX2NsYXNzKSBvcHRpb25zLmV4cGFuZF9jbGFzcyA9IFwidWYtZXhwYW5kZWRcIjtcbiAgICAxOVx0ICAgIGlmICghb3B0aW9ucy5taW5pbWlzZV9jbGFzcykgb3B0aW9ucy5taW5pbWlzZV9jbGFzcyA9IFwidWYtbWluaW1pc2VkXCI7XG4gICAgMjBcdCAgICBpZiAoIW9wdGlvbnMuc2VsZWN0b3IpIG9wdGlvbnMuc2VsZWN0b3IgPSBcIlwiO1xuICAgIDIxXHQgICAgaWYgKCFvcHRpb25zLnNlbGVjdG9yX2NsYXNzKSBvcHRpb25zLnNlbGVjdG9yX2NsYXNzID0gXCJ1Zi1jaGV2cm9uIG1pbmltaXNlXCI7XG4gICAgMjJcdCAgICBpZiAoIW9wdGlvbnMuc3JjKSBvcHRpb25zLnNyYyA9IFwiLi9VRi9nZngvY2hldnJvbl9pY29uLnBuZ1wiO1xuICAgIDIzXHQgICAgaWYgKG9wdGlvbnMuaXNfY29sbGFwc2VkID09PSB1bmRlZmluZWQpIG9wdGlvbnMuaXNfY29sbGFwc2VkID0gZmFsc2U7XG4gICAgMjRcdFxuICAgIDI1XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDI2XHQgICAgdmFyIGFsbF9jb2xsYXBzaWJsZV9lbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMuc2VsZWN0b3IpO1xuICAgIDI3XHRcbiAgICAyOFx0ICAgIC8vU2V0IGNoZXZyb24gaW1hZ2Ugb24gZmlyc3QgY29sbGFwc2libGUgZWxcbiAgICAyOVx0ICAgIHZhciBjaGV2cm9uX2J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgMzBcdCAgICAgIGNoZXZyb25fYnRuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIG9wdGlvbnMuc2VsZWN0b3JfY2xhc3MpO1xuICAgIDMxXHQgICAgICBjaGV2cm9uX2J0bi5zZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIiwgZmFsc2UpO1xuICAgIDMyXHQgICAgICBjaGV2cm9uX2J0bi5zcmMgPSBvcHRpb25zLnNyYztcbiAgICAzM1x0XG4gICAgMzRcdCAgICAvL0FkZCBjaGV2cm9uIHRvIGZpcnN0IGVsZW1lbnQgaWYgaXQgZXhpc3RzXG4gICAgMzVcdCAgICBpZiAoYWxsX2NvbGxhcHNpYmxlX2Vscy5sZW5ndGggPiAwKSB7XG4gICAgMzZcdCAgICAgIHZhciBmaXJzdF9lbCA9IGFsbF9jb2xsYXBzaWJsZV9lbHNbMF07XG4gICAgMzdcdCAgICAgIGZpcnN0X2VsLmFwcGVuZENoaWxkKGNoZXZyb25fYnRuLCBmaXJzdF9lbC5maXJzdENoaWxkKTtcbiAgICAzOFx0ICAgIH1cbi4uLlxuUGF0aDogc3JjL1VGL2pzL0FCUlMvZnJhbWV3b3JrX0FCUlMuanNcbiAgICAgMVx0Ly9BQlJTIC0gUmVxdWlyZXMgZnM7IEpTT05QYWNrIGZvciBKU09OIGNvbXByZXNzaW9uIGZlYXR1cmVzXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKlxuICAgICA0XHQgICAgY2hhbmdlU2F2ZURpcmVjdG9yeSgpIC0gQ2hhbmdlcyB0aGUgZGVmYXVsdCBzYXZlIGRpcmVjdG9yeSB0byBhIGRlZmluZWQgcGF0aC5cbiAgICAgNVx0ICAgIGFyZzBfcGF0aDogKFN0cmluZykgLSBUaGUgcGF0aCBzdHJpbmcgdG8gY2hhbmdlIHRoZSBzYXZlIGRpcmVjdG9yeSB0by5cbiAgICAgNlx0ICAqL1xuICAgICA3XHQgIGZ1bmN0aW9uIGNoYW5nZVNhdmVEaXJlY3RvcnkgKGFyZzBfcGF0aCkge1xuICAgICA4XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgICA5XHQgICAgdmFyIHBhdGggPSBhcmcwX3BhdGg7XG4gICAgMTBcdFxuICAgIDExXHQgICAgLy9TZXQgZ2xvYmFsIHZhcmFpYmxlXG4gICAgMTJcdCAgICBnbG9iYWwuQUJSU19kaXJlY3RvcnkgPSBwYXRoO1xuICAgIDEzXHQgIH1cbi4uLlxuUGF0aDogc3JjL2pzL2ludGVyZmFjZS91aV9pbml0aWFsaXNhdGlvbi5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgVUkgZnVuY3Rpb24gLSBtYXN0ZXJcbiAgICAgMlx0e1xuICAgICAzXHQgIGZ1bmN0aW9uIGluaXRpYWxpc2VVSSAoKSB7XG4gICAgIDRcdCAgICAvL0luaXRpYWxpc2UgbGVmdF9zaWRlYmFyXG4gICAgIDVcdCAgICBpbml0RGF0ZVVJKCk7XG4gICAgIDZcdCAgICBpbml0SGllcmFyY2h5VUkoKTtcbiAgICAgN1x0ICAgIGluaXRTY3JpcHRzVUkoKTtcbiAgICAgOFx0ICAgIGluaXRTZXR0aW5nc1VJKCk7XG4gICAgIDlcdFxuICAgIDEwXHQgICAgLy9Jbml0aWFsaXNlIHRvcGJhclxuICAgIDExXHQgICAgaW5pdFRvcGJhclVJKCk7XG4gICAgMTJcdCAgfVxuICAgIDEzXHR9XG4uLi5cblBhdGg6IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vVUkgd2luZG93IGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gY2xvc2VQb3B1cCAoKSB7XG4gICAgIDRcdCAgICBtYXAuY2xvc2VQb3B1cCgpO1xuICAgICA1XHQgIH1cbiAgICAgNlx0XG4gICAgIDdcdCAgZnVuY3Rpb24gaGlkZUVsZW1lbnQgKGFyZzBfZWxlbWVudCkge1xuICAgICA4XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgICA5XHQgICAgdmFyIGVsZW1lbnQgPSBhcmcwX2VsZW1lbnQ7XG4gICAgMTBcdFxuICAgIDExXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDEyXHQgICAgdmFyIGNsYXNzX25hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIDEzXHRcbiAgICAxNFx0ICAgIGlmICghY2xhc3NfbmFtZS5pbmNsdWRlcyhcIiBoaWRkZW5cIikpXG4gICAgMTVcdCAgICAgIChjbGFzc19uYW1lKSA/XG4gICAgMTZcdCAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBgJHtjbGFzc19uYW1lfSBoaWRkZW5gKSA6XG4gICAgMTdcdCAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIiBoaWRkZW5cIik7XG4gICAgMThcdCAgfVxuLi4uXG5QYXRoOiBzcmMvY29uZmlnL2RlZmluZXMvY29tbW9uX2RlZmluZXMuanNcbi4uLlxuICAgIDE1XHRcbiAgICAxNlx0ICAgIC8vSW50ZXJmYWNlIC0gQm90dG9tYmFyXG4gICAgMTdcdCAgICAgIGJydXNoX2FjdGlvbnNfY29udGFpbmVyOiBgI2JydXNoLWFjdGlvbnMtY29udGV4dC1tZW51YCxcbiAgICAxOFx0ICAgIC8vSW50ZXJmYWNlIC0gTGVmdCBTaWRlYmFyXG4gICAgMTlcdCAgICAvL0ZpbGVzIC0gU2F2ZS9Mb2FkXG4gICAgMjBcdCAgICAgIGZpbGVzX2hpZXJhcmNoeTogYC5maWxlLWNvbnRhaW5lciAuaGllcmFyY2h5YCxcbiAgICAyMVx0ICAgICAgZmlsZXNfaW50ZXJhY3Rpb25fY29udGFpbmVyOiBgLmZpbGUtY29udGFpbmVyICNmaWxlLWludGVyYWN0aW9uLWNvbnRhaW5lcmAsXG4gICAgMjJcdCAgICAgICAgZmlsZXNfaW50ZXJhY3Rpb25fc2F2ZV9maWxlX2J1dHRvbjogYC5maWxlLWNvbnRhaW5lciAjZmlsZS1pbnRlcmFjdGlvbi1jb250YWluZXIgI3NhdmUtZmlsZS1idXR0b25gLFxuICAgIDIzXHQgICAgICAgIGZpbGVzX2ludGVyYWN0aW9uX3NhdmVfZmlsZV9pbnB1dDogYC5maWxlLWNvbnRhaW5lciAjZmlsZS1pbnRlcmFjdGlvbi1jb250YWluZXIgI3NhdmUtZmlsZS1pbnB1dGAsXG4gICAgMjRcdCAgICAvL0hpZXJhcmNoeVxuICAgIDI1XHQgICAgICBoaWVyYXJjaHk6IGAjaGllcmFyY2h5YCwgLy9UaGUgcXVlcnkgc2VsZWN0b3IgZm9yIHRoZSBhY3R1YWwgaGllcmFyY2h5IHRhYiBvciBzdXBlcmNvbnRhaW5lci5cbiAgICAyNlx0ICAgICAgaGllcmFyY2h5X2NvbnRhaW5lcjogYCNoaWVyYXJjaHktY29udGFpbmVyYCwgLy9UaGUgcXVlcnkgc2VsZWN0b3IgZm9yIHRoZSBhY3R1YWwgaGllcmFyY2h5IGNvbnRhaW5lci5cbiAgICAyN1x0ICAgICAgICBncm91cF9hY3Rpb25zX2NvbnRleHRfbWVudV9hbmNob3I6IGAjY29udGV4dC1tZW51LWNvbnRhaW5lcmAsXG4gICAgMjhcdCAgICAvL1NjcmlwdHNcbi4uLlxuUGF0aDogc3JjL1VGL2pzL0Jyb3dzZXJVSS9oaWVyYXJjaHlfZnJhbWV3b3JrLmpzXG4uLi5cbiAgICA4MVx0XG4gICAgODJcdCAgICAvL0NyZWF0ZSBjb250cm9sc19kaXZcbiAgICA4M1x0ICAgIHtcbiAgICA4NFx0ICAgICAgdmFyIGNvbnRyb2xzX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgODVcdCAgICAgIGNvbnRyb2xzX2Rpdi5jbGFzc05hbWUgPSBcImNvbnRyb2xzXCI7XG4gICAgODZcdFxuICAgIDg3XHQgICAgICAvL0FkZCBHcm91cCBidXR0b25cbiAgICA4OFx0ICAgICAgaWYgKCFvcHRpb25zLmhpZGVfYWRkX2dyb3VwKSB7XG4gICAgODlcdCAgICAgICAgdmFyIGFkZF9ncm91cF9idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIDkwXHQgICAgICAgIGFkZF9ncm91cF9idXR0b24udGV4dENvbnRlbnQgPSBgQWRkIEdyb3VwYDtcbiAgICA5MVx0ICAgICAgICBhZGRfZ3JvdXBfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgOTJcdCAgICAgICAgICBhZGRHcm91cChoaWVyYXJjaHlfaWQpO1xuICAgIDkzXHQgICAgICAgIH0pO1xuICAgIDk0XHQgICAgICAgIGNvbnRyb2xzX2Rpdi5hcHBlbmRDaGlsZChhZGRfZ3JvdXBfYnV0dG9uKTtcbiAgICA5NVx0ICAgICAgfVxuICAgIDk2XHRcbiAgICA5N1x0ICAgICAgLy9BZGQgRW50aXR5IGJ1dHRvblxuICAgIDk4XHQgICAgICBpZiAoIW9wdGlvbnMuaGlkZV9hZGRfZW50aXR5KSB7XG4gICAgOTlcdCAgICAgICAgdmFyIGFkZF9lbnRpdHlfYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgIDEwMFx0ICAgICAgICBhZGRfZW50aXR5X2J1dHRvbi50ZXh0Q29udGVudCA9IGBBZGQgRW50aXR5YDtcbiAgIDEwMVx0ICAgICAgICBhZGRfZW50aXR5X2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgMTAyXHQgICAgICAgICAgYWRkRW50aXR5KGhpZXJhcmNoeV9pZCk7XG4gICAxMDNcdCAgICAgICAgfSk7XG4gICAxMDRcdCAgICAgICAgY29udHJvbHNfZGl2LmFwcGVuZENoaWxkKGFkZF9lbnRpdHlfYnV0dG9uKTtcbiAgIDEwNVx0ICAgICAgfVxuICAgMTA2XHRcbiAgIDEwN1x0ICAgICAgLy9Qb3B1bGF0ZSBjb250cm9sc19kaXZcbiAgIDEwOFx0ICAgICAgaGllcmFyY2h5X2VsLmFwcGVuZENoaWxkKGNvbnRyb2xzX2Rpdik7XG4gICAxMDlcdCAgICB9XG4gICAxLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNzVkZmM1ODQtOWYzOS00YTU5LThkMTEtN2IwNmFiMjViNTY4O3Rvb2x1X3ZydHhfMDFLVTlOckNyZmRZOUFrYVJ5U0tzWXh1Ijp7InJlcXVlc3RJZCI6Ijc1ZGZjNTg0LTlmMzktNGE1OS04ZDExLTdiMDZhYjI1YjU2OCIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFLVTlOckNyZmRZOUFrYVJ5U0tzWXh1IiwicGhhc2UiOjYsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBub3QgZm91bmQ6IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLiBEaWQgeW91IG1lYW4gb25lIG9mIHRoZXNlPyBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcywgc3JjL1VGL2pzL0Jyb3dzZXJVSS91aV9mcmFtZXdvcmsuanMiLCJpc0Vycm9yIjp0cnVlLCJyZXF1ZXN0SWQiOiIifX0sIjlhOTRlYTMxLTIxNzUtNDQ3NC1iOGNlLTA5OWIwOTk3MGQxMzt0b29sdV92cnR4XzAxUzN0VHNYRUJzRWpmY1JMMVB2SjhQTSI6eyJyZXF1ZXN0SWQiOiI5YTk0ZWEzMS0yMTc1LTQ0NzQtYjhjZS0wOTliMDk5NzBkMTMiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxUzN0VHNYRUJzRWpmY1JMMVB2SjhQTSIsInBoYXNlIjo2LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgbm90IGZvdW5kOiBEOi9Qcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb24vc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMuIERpZCB5b3UgbWVhbiBvbmUgb2YgdGhlc2U/IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLCBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcyIsImlzRXJyb3IiOnRydWUsInJlcXVlc3RJZCI6IiJ9fSwiZTIwN2Q4NGMtMTNmMC00MDM0LTk4MjEtODk1MzU5YmY3MmVmO3Rvb2x1X3ZydHhfMDFROEN2SnM4Tmt3TmplSDRtR1R3ZlJIIjp7InJlcXVlc3RJZCI6ImUyMDdkODRjLTEzZjAtNDAzNC05ODIxLTg5NTM1OWJmNzJlZiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFROEN2SnM4Tmt3TmplSDRtR1R3ZlJIIiwicGhhc2UiOjYsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBub3QgZm91bmQ6IHNyYy9VRi9qcy9Ccm93c2VyVUkvdWlfZnJhbWV3b3JrLmpzLiBEaWQgeW91IG1lYW4gb25lIG9mIHRoZXNlPyBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcywgc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMiLCJpc0Vycm9yIjp0cnVlLCJyZXF1ZXN0SWQiOiIifX0sIjNjY2I0MDlkLWE0YmYtNGEyNS1iYzM0LTFmNGE2Nzk3NzhjMTt0b29sdV92cnR4XzAxR1pYYk4xOEpzcUpIUkhBQWFFOGJ3NiI6eyJyZXF1ZXN0SWQiOiIzY2NiNDA5ZC1hNGJmLTRhMjUtYmMzNC0xZjRhNjc5Nzc4YzEiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxR1pYYk4xOEpzcUpIUkhBQWFFOGJ3NiIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUgYXJlIHRoZSByZXN1bHRzIGZyb20gZXhlY3V0aW5nIHRoZSBjb21tYW5kLlxuICAgICAgICA8cmV0dXJuLWNvZGU+XG4gICAgICAgIDFcbiAgICAgICAgPC9yZXR1cm4tY29kZT5cbiAgICAgICAgPHN0ZG91dD5cbiAgICAgICAgXHUwMDFiWz85MDAxaFx1MDAxYls/MTAwNGhcdTAwMWJbPzI1bFx1MDAxYlsySlx1MDAxYlttXHUwMDFiWzM4OzU7OW1cdTAwMWJbSGRpciA6IERhcyB6d2VpdGUgUGZhZGZyYWdtZW50IGRhcmYga2VpbiBMYXVmd2VyayBvZGVyIFVOQy1OYW1lIHNlaW4uXG5QYXJhbWV0ZXJuYW1lOiBwYXRoMlxuSW4gWmVpbGU6MSBaZWljaGVuOjFcbisgZGlyIFwiRDpcXFByb2plY3QgMTcwNiAtIE5haXNzYW5jZSBFbGVjdHJvblxcc3JjXFxqc1xcaW50ZXJmYWNlXCIgL2Jcbisgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5cbiAgICArIENhdGVnb3J5SW5mbyAgICAgICAgICA6IEludmFsaWRBcmd1bWVudDogKEQ6XFxQcm9qZWN0IDE3MDYuLi5yY1xcanNcXGludGVyZmFjZTpTdHJpbmcpIFtHZXQtQ2hpbGRJdGVtXSwgQXJndW1lbnRFeGMgXG4gICBlcHRpb25cbiAgICArIEZ1bGx5UXVhbGlmaWVkRXJyb3JJZCA6IERpckFyZ3VtZW50RXJyb3IsTWljcm9zb2Z0LlBvd2VyU2hlbGwuQ29tbWFuZHMuR2V0Q2hpbGRJdGVtQ29tbWFuZFxuIFxuXHUwMDFiXTA7QzpcXFdJTkRPV1NcXFN5c3RlbTMyXFxXaW5kb3dzUG93ZXJTaGVsbFxcdjEuMFxccG93ZXJzaGVsbC5leGVcdTAwMDdcdTAwMWJbPzI1aFx1MDAxYlttXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNTI1Yjc0M2ItZDg2Zi00OWJiLTg3ODMtNjFiZjlkNTBhNDYxO3Rvb2x1X3ZydHhfMDFYNTRRcVdhZjRadDl0UUVTWGZuZzVvIjp7InJlcXVlc3RJZCI6IjUyNWI3NDNiLWQ4NmYtNDliYi04NzgzLTYxYmY5ZDUwYTQ2MSIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFYNTRRcVdhZjRadDl0UUVTWGZuZzVvIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG4gICAgICAgIDxyZXR1cm4tY29kZT5cbiAgICAgICAgMVxuICAgICAgICA8L3JldHVybi1jb2RlPlxuICAgICAgICA8c3Rkb3V0PlxuICAgICAgICBcdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbMzg7NTs5bVx1MDAxYltIZGlyIDogRGFzIHp3ZWl0ZSBQZmFkZnJhZ21lbnQgZGFyZiBrZWluIExhdWZ3ZXJrIG9kZXIgVU5DLU5hbWUgc2Vpbi5cblBhcmFtZXRlcm5hbWU6IHBhdGgyXG5JbiBaZWlsZToxIFplaWNoZW46MVxuKyBkaXIgXCJzcmNcXGpzXFxpbnRlcmZhY2VcIiAvYlxuKyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+XG4gICAgKyBDYXRlZ29yeUluZm8gICAgICAgICAgOiBJbnZhbGlkQXJndW1lbnQ6IChEOlxcUHJvamVjdCAxNzA2Li4ucmNcXGpzXFxpbnRlcmZhY2U6U3RyaW5nKSBbR2V0LUNoaWxkSXRlbV0sIEFyZ3VtZW50RXhjIFxuICAgZXB0aW9uXG4gICAgKyBGdWxseVF1YWxpZmllZEVycm9ySWQgOiBEaXJBcmd1bWVudEVycm9yLE1pY3Jvc29mdC5Qb3dlclNoZWxsLkNvbW1hbmRzLkdldENoaWxkSXRlbUNvbW1hbmRcbiBcblx1MDAxYl0wO0M6XFxXSU5ET1dTXFxTeXN0ZW0zMlxcV2luZG93c1Bvd2VyU2hlbGxcXHYxLjBcXHBvd2Vyc2hlbGwuZXhlXHUwMDA3XHUwMDFiWz8yNWhcdTAwMWJbbVxuICAgICAgICA8L3N0ZG91dD5cbiAgICAgICAgPHN0ZGVycj5cbiAgICAgICAgXG4gICAgICAgIDwvc3RkZXJyPiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImRjMzRmMTM0LTM0N2QtNDJjMy05YjRhLWU3NWU0NDU2MGE1Zjt0b29sdV92cnR4XzAxMWNueFpwTjg1UmRvbmszcnB2TmlNUiI6eyJyZXF1ZXN0SWQiOiJkYzM0ZjEzNC0zNDdkLTQyYzMtOWI0YS1lNzVlNDQ1NjBhNWYiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxMWNueFpwTjg1UmRvbmszcnB2TmlNUiIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUgYXJlIHRoZSByZXN1bHRzIGZyb20gZXhlY3V0aW5nIHRoZSBjb21tYW5kLlxuICAgICAgICA8cmV0dXJuLWNvZGU+XG4gICAgICAgIDBcbiAgICAgICAgPC9yZXR1cm4tY29kZT5cbiAgICAgICAgPHN0ZG91dD5cbiAgICAgICAgXHUwMDFiWz85MDAxaFx1MDAxYls/MTAwNGhcdTAwMWJbPzI1bFx1MDAxYlsySlx1MDAxYlttXHUwMDFiWzM7MUggICAgVmVyemVpY2huaXM6IEQ6XFxQcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb25cXHNyY1xcanNcXGludGVyZmFjZVx1MDAxYls2OzFITW9kZSAgICAgICAgICAgICAgICAgTGFzdFdyaXRlVGltZSAgICAgICAgIExlbmd0aCBOYW1lXG4tLS0tICAgICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tICAgICAgICAgLS0tLS0tIC0tLS1cbi1hLS0tLSAgICAgICAgMjIuMDIuMjAyNSAgICAgMDk6MzggICAgICAgICAgICA3MTkgdWlfY29uZmlnLmpzXG4tYS0tLS0gICAgICAgIDA4LjA4LjIwMjQgICAgIDE1OjUwICAgICAgICAgICAyMTcwIHVpX2ZyYW1ld29yay5qc1xuLWEtLS0tICAgICAgICAxNC4wNS4yMDI1ICAgICAxOToyMiAgICAgICAgICAgIDI0MyB1aV9pbml0aWFsaXNhdGlvbi5qc1x1MDAxYlsxMzsxSFx1MDAxYl0wO0M6XFxXSU5ET1dTXFxTeXN0ZW0zMlxcV2luZG93c1Bvd2VyU2hlbGxcXHYxLjBcXHBvd2Vyc2hlbGwuZXhlXHUwMDA3XHUwMDFiWz8yNWhcbiAgICAgICAgPC9zdGRvdXQ+XG4gICAgICAgIDxzdGRlcnI+XG4gICAgICAgIFxuICAgICAgICA8L3N0ZGVycj4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI2MjU1ZmYyNy1kMjFkLTQ2ZDMtYWUzZS0yZDNmOTI1ZDYyMzg7dG9vbHVfdnJ0eF8wMTlia2hUNFVxdjNCY2NzRGthVk5wOTYiOnsicmVxdWVzdElkIjoiNjI1NWZmMjctZDIxZC00NmQzLWFlM2UtMmQzZjkyNWQ2MjM4IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTlia2hUNFVxdjNCY2NzRGthVk5wOTYiLCJwaGFzZSI6NiwicmVzdWx0Ijp7InRleHQiOiJGaWxlIG5vdCBmb3VuZDogc3JjL2pzL2ludGVyZmFjZS91aV9mcmFtZXdvcmsuanMuIERpZCB5b3UgbWVhbiBvbmUgb2YgdGhlc2U/IHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLCBzcmMvVUYvanMvQnJvd3NlclVJL3VpX2ZyYW1ld29yay5qcyIsImlzRXJyb3IiOnRydWUsInJlcXVlc3RJZCI6IiJ9fSwiYWE5MTRhMDgtOGYzNy00MjdlLWE5N2ItZThhZTFjMTEwM2IwO3Rvb2x1X3ZydHhfMDFDcUo3TlZqaVc3Z3N6MVJoOUtRaXo1Ijp7InJlcXVlc3RJZCI6ImFhOTE0YTA4LThmMzctNDI3ZS1hOTdiLWU4YWUxYzExMDNiMCIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFDcUo3TlZqaVc3Z3N6MVJoOUtRaXo1IiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG4gICAgICAgIDxyZXR1cm4tY29kZT5cbiAgICAgICAgMFxuICAgICAgICA8L3JldHVybi1jb2RlPlxuICAgICAgICA8c3Rkb3V0PlxuICAgICAgICBcdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbSC8vVUkgd2luZG93IGZ1bmN0aW9uc1xue1xuICBmdW5jdGlvbiBjbG9zZVBvcHVwICgpIHtcbiAgICBtYXAuY2xvc2VQb3B1cCgpO1xuICB9XHUwMDFiWzc7MUggIGZ1bmN0aW9uIGhpZGVFbGVtZW50IChhcmcwX2VsZW1lbnQpIHtcbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgdmFyIGVsZW1lbnQgPSBhcmcwX2VsZW1lbnQ7XHUwMDFiWzExOzFIICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICB2YXIgY2xhc3NfbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XHUwMDFiWzE0OzFIICAgIGlmICghY2xhc3NfbmFtZS5pbmNsdWRlcyhcIiBoaWRkZW5cIikpXG4gICAgICAoY2xhc3NfbmFtZSkgP1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGAke2NsYXNzX25hbWV9IGhpZGRlbmApIDpcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIiBoaWRkZW5cIik7XG4gIH1cdTAwMWJbMjA7MUggIGZ1bmN0aW9uIHVwZGF0ZVNpZGViYXJIb3ZlciAoKSB7XG4gICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIHZhciBhbGxfaG92ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLmhpZXJhcmNoeS1lbGVtZW50cy1jb250YWluZXIgZGl2OmhvdmVyYCk7XG4gICAgdmFyIGFsbF9sZWdhY3lfaG92ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLmhvdmVyYCk7XHUwMDFiWzI1OzFIICAgIC8vQ2xlYXIgYWxsIGVsZW1lbnRzIHdpdGggLmhvdmVyIGNsYXNzXG5cdTAwMWJdMDtDOlxcV0lORE9XU1xcU3lzdGVtMzJcXFdpbmRvd3NQb3dlclNoZWxsXFx2MS4wXFxwb3dlcnNoZWxsLmV4ZVx1MDAwN1x1MDAxYls/MjVoXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfbGVnYWN5X2hvdmVycy5sZW5ndGg7IGkrKylcbiAgICAgIGFsbF9sZWdhY3lfaG92ZXJzW2ldLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXG4gICAgICAgIGFsbF9sZWdhY3lfaG92ZXJzW2ldLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLnJlcGxhY2UoXCIgaG92ZXJcIiwgXCJcIilcbiAgICAgICk7XG5cbiAgICAvL1NldCBvbmx5IGxhc3QgaG92ZXIgdG8gYmUgaG92ZXJlZFxuICAgIGlmIChhbGxfaG92ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBsb2NhbF9jbGFzcyA9IGFsbF9ob3ZlcnNbYWxsX2hvdmVycy5sZW5ndGggLSAxXS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcblxuICAgICAgKGxvY2FsX2NsYXNzKSA/XG4gICAgICAgIGFsbF9ob3ZlcnNbYWxsX2hvdmVycy5sZW5ndGggLSAxXS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFxuICAgICAgICAgIGxvY2FsX2NsYXNzICsgXCIgaG92ZXJcIlxuICAgICAgICApIDpcbiAgICAgICAgYWxsX2hvdmVyc1thbGxfaG92ZXJzLmxlbmd0aCAtIDFdLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiIGhvdmVyXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZUVsZW1lbnRWaXNpYmlsaXR5IChhcmcwX2VsZW1lbnQsIGFyZzFfYnV0dG9uX2VsZW1lbnQpIHtcbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgdmFyIGVsZW1lbnQgPSBhcmcwX2VsZW1lbnQ7XG4gICAgdmFyIGJ0bl9lbGVtZW50ID0gYXJnMV9idXR0b25fZWxlbWVudDtcblxuICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICB2YXIgY2xhc3NfbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgdmFyIGlzX3Zpc2libGUgPSB0cnVlO1xuXG4gICAgaWYgKGNsYXNzX25hbWUpXG4gICAgICBpZiAoY2xhc3NfbmFtZS5pbmNsdWRlcyhcIiBoaWRkZW5cIikpXG4gICAgICAgIGlzX3Zpc2libGUgPSBmYWxzZTtcblxuICAgIChpc192aXNpYmxlKSA/XG4gICAgICBoaWRlRWxlbWVudChlbGVtZW50KSA6XG4gICAgICBzaG93RWxlbWVudChlbGVtZW50KTtcblxuICAgIC8vU2V0IGJ1dHRvbiBlbGVtZW50IGNsYXNzIGlmIHByZXNlbnRcbiAgICBpZiAoYnRuX2VsZW1lbnQpXG4gICAgICAoaXNfdmlzaWJsZSkgP1xuICAgICAgICBidG5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBidG5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKS5yZXBsYWNlKFwiIG1pbmltaXNlLWljb25cIiwgXCIgcmV2ZXJzZS1taW5pbWlzZVxuXHUwMDFiWzI0OzEyMEhlLWljb25cIikpIDpcbiAgICAgICAgYnRuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYnRuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikucmVwbGFjZShcIiByZXZlcnNlLW1pbmltaXNlLWljb25cIiwgXCIgbWluaW1pc2Vcblx1MDAxYlsyNDsxMjBIZS1pY29uXCIpKTtcbiAgfVxufVxuXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiN2RiMDA0MzctMzMzMi00NDA4LThkNWQtMTBmMWExMDU2MDEyO3Rvb2x1X3ZydHhfMDFWcHBQVUNNalczcFNEZnI0OXBVZEpuIjp7InJlcXVlc3RJZCI6IjdkYjAwNDM3LTMzMzItNDQwOC04ZDVkLTEwZjFhMTA1NjAxMiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFWcHBQVUNNalczcFNEZnI0OXBVZEpuIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG4gICAgICAgIDxyZXR1cm4tY29kZT5cbiAgICAgICAgMFxuICAgICAgICA8L3JldHVybi1jb2RlPlxuICAgICAgICA8c3Rkb3V0PlxuICAgICAgICBcdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbSC8vSW5pdGlhbGlzZSBFbnRpdHkgS2V5ZnJhbWVzIGFjdGlvbnNcbntcbiAgZnVuY3Rpb24gZGVsZXRlS2V5ZnJhbWUgKGFyZzBfZW50aXR5X2lkLCBhcmcxX3RpbWVzdGFtcCkgeyAvL1tXSVBdIC0gRGVsZXRpbmcgYSBrZXlmcmFtZSBzaG91bGQgdXBkYXRlIHRoZSBiaW8gYW5kIGNsb3NlIHRoZSBrZXlmcmFtZSBjb250ZXh0IG1lbnVzLiBJdCBjdXJyZW50bHkgZG9lcyBub3RcbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgdmFyIGVudGl0eV9pZCA9IGFyZzBfZW50aXR5X2lkO1xuICAgIHZhciB0aW1lc3RhbXAgPSBhcmcxX3RpbWVzdGFtcDtcdTAwMWJbOTsxSCAgICAvL0RlbGV0ZSBrZXlmcmFtZTsgdXBkYXRlIGJpbyBbV0lQXSAtIE1ha2Ugc3VyZSB0byB1cGRhdGUgYmlvXG4gICAgY2xvc2VFbnRpdHlLZXlmcmFtZUNvbnRleHRNZW51cyhlbnRpdHlfaWQpO1xuICAgIGRlbGV0ZUhpc3RvcnlGcmFtZShlbnRpdHlfaWQsIHRpbWVzdGFtcCk7XHUwMDFiWzEzOzFIICAgIHByaW50RW50aXR5QmlvKGVudGl0eV9pZCk7XG4gIH1cdTAwMWJbMTY7MUggIGZ1bmN0aW9uIGVkaXRLZXlmcmFtZSAoYXJnMF9lbnRpdHlfaWQsIGFyZzFfdGltZXN0YW1wKSB7XG4gICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIHZhciBlbnRpdHlfaWQgPSBhcmcwX2VudGl0eV9pZDtcbiAgICB2YXIgdGltZXN0YW1wID0gYXJnMV90aW1lc3RhbXA7XHUwMDFiWzIxOzFIICAgIC8vQ2xvc2UgZW50aXR5IFVJLCBjYWxsIGVkaXRFbnRpdHkoKVxuICAgIGNsb3NlRW50aXR5Q29udGV4dE1lbnUoKTtcbiAgICBzZXREYXRlKHRpbWVzdGFtcCk7XG4gICAgZWRpdEVudGl0eShlbnRpdHlfaWQpO1xuXHUwMDFiXTA7QzpcXFdJTkRPV1NcXFN5c3RlbTMyXFxXaW5kb3dzUG93ZXJTaGVsbFxcdjEuMFxccG93ZXJzaGVsbC5leGVcdTAwMDdcdTAwMWJbPzI1aFxuICAgIHBlcmZvcm1BY3Rpb24oe1xuICAgICAgYWN0aW9uX2lkOiBcImVkaXRfa2V5ZnJhbWVcIixcbiAgICAgIHJlZG9fZnVuY3Rpb246IFwiZWRpdEtleWZyYW1lXCIsXG4gICAgICByZWRvX2Z1bmN0aW9uX3BhcmFtZXRlcnM6IFtlbnRpdHlfaWQsIHRpbWVzdGFtcF0sXG4gICAgICB1bmRvX2Z1bmN0aW9uOiBcInVuZG9FZGl0S2V5ZnJhbWVcIixcbiAgICAgIHVuZG9fZnVuY3Rpb25fcGFyYW1ldGVyczogW2VudGl0eV9pZF1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVLZXlmcmFtZSAoYXJnMF9lbnRpdHlfaWQsIGFyZzFfZGF0ZSwgYXJnMl9kYXRlKSB7IC8vW1dJUF0gLSBUaGlzIHNob3VsZCB1cGRhdGUgdGhlIGJpbyBhbmQgYWRqdXN0IGFueSBvcGVcblx1MDAxYlsyNDsxMjBIZW4gY29udGV4dCBtZW51cyB0aWVkIHRvIGEga2V5ZnJhbWUuICgncGxhY2Vob2xkZXI6IFwidGltZXN0YW1wXCInKSBJdCBkb2VzIG5vdC5cbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgdmFyIGVudGl0eV9pZCA9IGFyZzBfZW50aXR5X2lkO1xuICAgIHZhciBlbnRyeV9kYXRlID0gYXJnMV9kYXRlO1xuICAgIHZhciBtb3ZlX3RvX2RhdGUgPSBhcmcyX2RhdGU7XG5cbiAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgdmFyIGNvbW1vbl9zZWxlY3RvcnMgPSBjb25maWcuZGVmaW5lcy5jb21tb24uc2VsZWN0b3JzO1xuICAgIHZhciBlbnRpdHlfZWwgPSBnZXRFbnRpdHlFbGVtZW50KGVudGl0eV9pZCk7XG5cbiAgICB2YXIgZW50aXR5X29iaiA9IGdldEVudGl0eShlbnRpdHlfaWQpO1xuICAgIHZhciBoaXN0b3J5X2VudHJ5ID0gZ2V0QWJzb2x1dGVIaXN0b3J5RnJhbWUoZW50aXR5X2lkLCBlbnRyeV9kYXRlKTtcbiAgICB2YXIgbmV3X3RpbWVzdGFtcCA9IGdldFRpbWVzdGFtcChtb3ZlX3RvX2RhdGUpO1xuICAgIHZhciBvbGRfdGltZXN0YW1wID0gZ2V0VGltZXN0YW1wKGNvbnZlcnRUaW1lc3RhbXBUb0RhdGUoZW50cnlfZGF0ZSkpO1xuICAgIHZhciBwb3B1cF9lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5lbnRpdHktdWktcGFuZVtjbGFzc349JyR7ZW50aXR5X2lkfSddYCk7XG5cbiAgICAvL01vdmUgaGlzdG9yeV9lbnRyeSB0byBuZXcgdGltZXN0YW1wXG5cbiAgICAgICAgPC9zdGRvdXQ+XG4gICAgICAgIDxzdGRlcnI+XG4gICAgICAgIFxuICAgICAgICA8L3N0ZGVycj4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI3Mzc1ZTJkZi02NTE4LTRkNTItOTUxNC1hZjg0MGJkODIzNWE7dG9vbHVfdnJ0eF8wMVR3UVVlS0N5N3JSd05KV0cyYTU2U0siOnsicmVxdWVzdElkIjoiNzM3NWUyZGYtNjUxOC00ZDUyLTk1MTQtYWY4NDBiZDgyMzVhIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMVR3UVVlS0N5N3JSd05KV0cyYTU2U0siLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbiAgICAgICAgPHJldHVybi1jb2RlPlxuICAgICAgICAwXG4gICAgICAgIDwvcmV0dXJuLWNvZGU+XG4gICAgICAgIDxzdGRvdXQ+XG4gICAgICAgIFx1MDAxYls/OTAwMWhcdTAwMWJbPzEwMDRoXHUwMDFiWz8yNWxcdTAwMWJbMkpcdTAwMWJbbVx1MDAxYltILy9Jbml0aWFsaXNlIGZ1bmN0aW9uc1xue1xuICAvKipcbiAgICogZ2V0QWxsVmFyaWFibGVBY3Rpb25zKCkgLSBGZXRjaGVzIGFsbCB2YXJpYWJsZSBhY3Rpb25zIGFzIGVpdGhlciBhbiBhcnJheSBvZiBrZXlzIG9yIG9iamVjdHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnMF9vcHRpb25zXVxuICAgKiAgQHBhcmFtIHtib29sZWFufSBbYXJnMF9vcHRpb25zLnJldHVybl9rZXlzPWZhbHNlXSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fEFycmF5PFN0cmluZz59XG4gICAqL1xuICBmdW5jdGlvbiBnZXRBbGxWYXJpYWJsZUFjdGlvbnMgKGFyZzBfb3B0aW9ucykge1xuICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XHUwMDFiWzE1OzFIICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAgdmFyIGZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zO1xuICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xuICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1x1MDAxYlsyMTsxSCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNcbiAgICB2YXIgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoIWNvbW1vbl9kZWZpbmVzLnJlc2VydmVkX3ZhcmlhYmxlX2FjdGlvbnMuaW5jbHVkZXMoYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2ldKSkge1xuXHUwMDFiXTA7QzpcXFdJTkRPV1NcXFN5c3RlbTMyXFxXaW5kb3dzUG93ZXJTaGVsbFxcdjEuMFxccG93ZXJzaGVsbC5leGVcdTAwMDdcdTAwMWJbPzI1aFxuICAgICAgICByZXR1cm5fYWN0aW9ucy5wdXNoKGZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1tpXV0pO1xuICAgICAgICByZXR1cm5fa2V5cy5wdXNoKGFsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1tpXSk7XG4gICAgICB9XG5cbiAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXlzKSA/IHJldHVybl9hY3Rpb25zIDogcmV0dXJuX2tleXM7XG4gIH1cblxuICAvKipcbiAgICogZ2V0VmFyaWFibGVBY3Rpb24oKSAtIEZldGNoZXMgYSB2YXJpYWJsZSBhY3Rpb24uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBhcmcwX25hbWUgLSBUaGUgbmFtZS9JRCBvZiB0aGUgdmFyaWFibGUgYWN0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2FyZzFfb3B0aW9uc11cbiAgICogIEBwYXJhbSB7Ym9vbGVhbn0gW2FyZzFfb3B0aW9ucy5yZXR1cm5fa2V5PWZhbHNlXSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGtleSBpbnN0ZWFkIG9mIHRoZSBvYmplY1xuXHUwMDFiWzI0OzEyMEhjdC5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdHxTdHJpbmd9XG4gICAqL1xuICBmdW5jdGlvbiBnZXRWYXJpYWJsZUFjdGlvbiAoYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcbiAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgdmFyIG5hbWUgPSBhcmcwX25hbWU7XG4gICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuXG4gICAgLy9HdWFyZCBjbGF1c2UgZm9yIG9iamVjdHM7IGRpcmVjdCBrZXlzXG4gICAgaWYgKHR5cGVvZiBuYW1lID09IFwib2JqZWN0XCIpIHJldHVybiBuYW1lO1xuICAgIGlmIChjb25maWcuZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbbmFtZV0pIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbbmFtZV0gXG5cdTAwMWJbMjQ7MTIwSCA6IG5hbWU7XG5cbiAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG5cbiAgICAgICAgPC9zdGRvdXQ+XG4gICAgICAgIDxzdGRlcnI+XG4gICAgICAgIFxuICAgICAgICA8L3N0ZGVycj4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIyZjRmOWYwOS04MmVmLTRkYTAtOTkyNC04NjI5ZTBmZDllNTA7dG9vbHVfdnJ0eF8wMTFqSHd5U2F3b2hodDJhQkxnUk5oV0MiOnsicmVxdWVzdElkIjoiMmY0ZjlmMDktODJlZi00ZGEwLTk5MjQtODYyOWUwZmQ5ZTUwIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTFqSHd5U2F3b2hodDJhQkxnUk5oV0MiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbiAgICAgICAgPHJldHVybi1jb2RlPlxuICAgICAgICAwXG4gICAgICAgIDwvcmV0dXJuLWNvZGU+XG4gICAgICAgIDxzdGRvdXQ+XG4gICAgICAgIFx1MDAxYls/OTAwMWhcdTAwMWJbPzEwMDRoXHUwMDFiWz8yNWxcdTAwMWJbMkpcdTAwMWJbbVx1MDAxYltILy9Jbml0aWFsaXNlIEVudGl0eSBBY3Rpb25zIGZyYW1ld29ya1xue1xuICAvKlxuICAgIGdldEFsbEVudGl0eUFjdGlvbnMoKSAtIEZldGNoZXMgYWxsIGVudGl0eSBhY3Rpb25zIGFzIGVpdGhlciBhbiBhcnJheSBvZiBrZXlzIG9yIG9iamVjdHMuXG4gICAgYXJnMF9vcHRpb25zOiAoT2JqZWN0KVxuICAgICAgcmV0dXJuX2tleXM6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuIEZhbHNlIGJ5IGRlZmF1bHQuXHUwMDFiWzg7MUggICAgUmV0dXJuczogKEFycmF5PE9iamVjdD4vQXJyYXk8U3RyaW5nPilcbiAgKi9cbiAgZnVuY3Rpb24gZ2V0QWxsRW50aXR5QWN0aW9ucyAoYXJnMF9vcHRpb25zKSB7XG4gICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcdTAwMWJbMTQ7MUggICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgICB2YXIgZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucztcbiAgICB2YXIgcmV0dXJuX2FjdGlvbnMgPSBbXTtcbiAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcdTAwMWJbMjA7MUggICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1xuICAgIHZhciBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zKTtcdTAwMWJbMjM7MUggICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKCFjb21tb25fZGVmaW5lcy5yZXNlcnZlZF9lbnRpdHlfYWN0aW9ucy5pbmNsdWRlcyhhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldKSkge1xuICAgICAgICByZXR1cm5fYWN0aW9ucy5wdXNoKGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1thbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldXSk7XG5cdTAwMWJdMDtDOlxcV0lORE9XU1xcU3lzdGVtMzJcXFdpbmRvd3NQb3dlclNoZWxsXFx2MS4wXFxwb3dlcnNoZWxsLmV4ZVx1MDAwN1x1MDAxYls/MjVoXG4gICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tpXSk7XG4gICAgICB9XG5cbiAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9hY3Rpb25zKSA/IHJldHVybl9hY3Rpb25zIDogcmV0dXJuX2tleXM7XG4gIH1cblxuICAvKlxuICAgIGdldEVudGl0eUFjdGlvbigpIC0gRmV0Y2hlcyBhbiBlbnRpdHkgYWN0aW9uLlxuICAgIGFyZzBfbmFtZTogKFN0cmluZykgLSBUaGUgbmFtZS9JRCBvZiB0aGUgZW50aXR5IGFjdGlvbiBjYXRlZ29yeS5cbiAgICBhcmcxX29wdGlvbnM6IChPYmplY3QpXG4gICAgICByZXR1cm5fa2V5OiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBrZXkuIEZhbHNlIGJ5IGRlZmF1bHQuXG5cbiAgICBSZXR1cm5zOiAoT2JqZWN0L1N0cmluZylcbiAgKi9cbiAgZnVuY3Rpb24gZ2V0RW50aXR5QWN0aW9uIChhcmcwX25hbWUsIGFyZzFfb3B0aW9ucykge1xuICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICB2YXIgbmFtZSA9IGFyZzBfbmFtZTtcbiAgICB2YXIgb3B0aW9ucyA9IChhcmcxX29wdGlvbnMpID8gYXJnMV9vcHRpb25zIDoge307XG5cbiAgICAvL0d1YXJkIGNsYXVzZSBmb3Igb2JqZWN0czsgZGlyZWN0IGtleXNcbiAgICBpZiAodHlwZW9mIG5hbWUgPT0gXCJvYmplY3RcIikgcmV0dXJuIG5hbWU7XG4gICAgaWYgKGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbbmFtZV0pIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW25hbWVdIDogbmFcblx1MDAxYlsyNDsxMjBIYW1lO1xuXG4gICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYzY2ZDJlY2EtZDllMi00MTAxLWJhMTYtYjk5YTJkNWQ4NDI5O3Rvb2x1X3ZydHhfMDFWU1VmazdWRVZWY3RDZzU0MmRCOE1lIjp7InJlcXVlc3RJZCI6ImM2NmQyZWNhLWQ5ZTItNDEwMS1iYTE2LWI5OWEyZDVkODQyOSIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFWU1VmazdWRVZWY3RDZzU0MmRCOE1lIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcy5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDFcdC8vVUkgd2luZG93IGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gY2xvc2VQb3B1cCAoKSB7XG4gICAgIDRcdCAgICBtYXAuY2xvc2VQb3B1cCgpO1xuICAgICA1XHQgIH1cbiAgICAgNlx0XG4gICAgIDdcdCAgZnVuY3Rpb24gaGlkZUVsZW1lbnQgKGFyZzBfZWxlbWVudCkge1xuICAgICA4XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgICA5XHQgICAgdmFyIGVsZW1lbnQgPSBhcmcwX2VsZW1lbnQ7XG4gICAgMTBcdFxuICAgIDExXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDEyXHQgICAgdmFyIGNsYXNzX25hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIDEzXHRcbiAgICAxNFx0ICAgIGlmICghY2xhc3NfbmFtZS5pbmNsdWRlcyhcIiBoaWRkZW5cIikpXG4gICAgMTVcdCAgICAgIChjbGFzc19uYW1lKSA/XG4gICAgMTZcdCAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBgJHtjbGFzc19uYW1lfSBoaWRkZW5gKSA6XG4gICAgMTdcdCAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIiBoaWRkZW5cIik7XG4gICAgMThcdCAgfVxuICAgIDE5XHRcbiAgICAyMFx0ICBmdW5jdGlvbiB1cGRhdGVTaWRlYmFySG92ZXIgKCkge1xuICAgIDIxXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDIyXHQgICAgdmFyIGFsbF9ob3ZlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuaGllcmFyY2h5LWVsZW1lbnRzLWNvbnRhaW5lciBkaXY6aG92ZXJgKTtcbiAgICAyM1x0ICAgIHZhciBhbGxfbGVnYWN5X2hvdmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5ob3ZlcmApO1xuICAgIDI0XHRcbiAgICAyNVx0ICAgIC8vQ2xlYXIgYWxsIGVsZW1lbnRzIHdpdGggLmhvdmVyIGNsYXNzXG4gICAgMjZcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9sZWdhY3lfaG92ZXJzLmxlbmd0aDsgaSsrKVxuICAgIDI3XHQgICAgICBhbGxfbGVnYWN5X2hvdmVyc1tpXS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFxuICAgIDI4XHQgICAgICAgIGFsbF9sZWdhY3lfaG92ZXJzW2ldLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLnJlcGxhY2UoXCIgaG92ZXJcIiwgXCJcIilcbiAgICAyOVx0ICAgICAgKTtcbiAgICAzMFx0XG4gICAgMzFcdCAgICAvL1NldCBvbmx5IGxhc3QgaG92ZXIgdG8gYmUgaG92ZXJlZFxuICAgIDMyXHQgICAgaWYgKGFsbF9ob3ZlcnMubGVuZ3RoID4gMCkge1xuICAgIDMzXHQgICAgICB2YXIgbG9jYWxfY2xhc3MgPSBhbGxfaG92ZXJzW2FsbF9ob3ZlcnMubGVuZ3RoIC0gMV0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgMzRcdFxuICAgIDM1XHQgICAgICAobG9jYWxfY2xhc3MpID9cbiAgICAzNlx0ICAgICAgICBhbGxfaG92ZXJzW2FsbF9ob3ZlcnMubGVuZ3RoIC0gMV0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcbiAgICAzN1x0ICAgICAgICAgIGxvY2FsX2NsYXNzICsgXCIgaG92ZXJcIlxuICAgIDM4XHQgICAgICAgICkgOlxuICAgIDM5XHQgICAgICAgIGFsbF9ob3ZlcnNbYWxsX2hvdmVycy5sZW5ndGggLSAxXS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIiBob3ZlclwiKTtcbiAgICA0MFx0ICAgIH1cbiAgICA0MVx0ICB9XG4gICAgNDJcdFxuICAgIDQzXHQgIGZ1bmN0aW9uIHRvZ2dsZUVsZW1lbnRWaXNpYmlsaXR5IChhcmcwX2VsZW1lbnQsIGFyZzFfYnV0dG9uX2VsZW1lbnQpIHtcbiAgICA0NFx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICA0NVx0ICAgIHZhciBlbGVtZW50ID0gYXJnMF9lbGVtZW50O1xuICAgIDQ2XHQgICAgdmFyIGJ0bl9lbGVtZW50ID0gYXJnMV9idXR0b25fZWxlbWVudDtcbiAgICA0N1x0XG4gICAgNDhcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgNDlcdCAgICB2YXIgY2xhc3NfbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgNTBcdCAgICB2YXIgaXNfdmlzaWJsZSA9IHRydWU7XG4gICAgNTFcdFxuICAgIDUyXHQgICAgaWYgKGNsYXNzX25hbWUpXG4gICAgNTNcdCAgICAgIGlmIChjbGFzc19uYW1lLmluY2x1ZGVzKFwiIGhpZGRlblwiKSlcbiAgICA1NFx0ICAgICAgICBpc192aXNpYmxlID0gZmFsc2U7XG4gICAgNTVcdFxuICAgIDU2XHQgICAgKGlzX3Zpc2libGUpID9cbiAgICA1N1x0ICAgICAgaGlkZUVsZW1lbnQoZWxlbWVudCkgOlxuICAgIDU4XHQgICAgICBzaG93RWxlbWVudChlbGVtZW50KTtcbiAgICA1OVx0XG4gICAgNjBcdCAgICAvL1NldCBidXR0b24gZWxlbWVudCBjbGFzcyBpZiBwcmVzZW50XG4gICAgNjFcdCAgICBpZiAoYnRuX2VsZW1lbnQpXG4gICAgNjJcdCAgICAgIChpc192aXNpYmxlKSA/XG4gICAgNjNcdCAgICAgICAgYnRuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYnRuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikucmVwbGFjZShcIiBtaW5pbWlzZS1pY29uXCIsIFwiIHJldmVyc2UtbWluaW1pc2UtaWNvblwiKSkgOlxuICAgIDY0XHQgICAgICAgIGJ0bl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGJ0bl9lbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLnJlcGxhY2UoXCIgcmV2ZXJzZS1taW5pbWlzZS1pY29uXCIsIFwiIG1pbmltaXNlLWljb25cIikpO1xuICAgIDY1XHQgIH1cbiAgICA2Nlx0XG4gICAgNjdcdCAgLyoqXG4gICAgNjhcdCAgICogY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zKCkgLSBDcmVhdGVzIHN0YW5kYXJkIGZyYW1ld29yayBmdW5jdGlvbnMgdG8gcmVkdWNlIGJvaWxlcnBsYXRlIGNvZGUuXG4gICAgNjlcdCAgICogQHBhcmFtIHtPYmplY3R9IGFyZzBfb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGZyYW1ld29yayBmdW5jdGlvbnMuXG4gICAgNzBcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBhcmcwX29wdGlvbnMubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBmcmFtZXdvcmsgKGUuZy4sIFwiZW50aXR5X2FjdGlvbnNcIiwgXCJ2YXJpYWJsZV9hY3Rpb25zXCIpLlxuICAgIDcxXHQgICAqICBAcGFyYW0ge1N0cmluZ30gYXJnMF9vcHRpb25zLmNvbmZpZ0tleSAtIFRoZSBrZXkgaW4gdGhlIGNvbmZpZyBvYmplY3Qgd2hlcmUgdGhlIGRhdGEgaXMgc3RvcmVkLlxuICAgIDcyXHQgICAqICBAcGFyYW0ge1N0cmluZ30gYXJnMF9vcHRpb25zLmZsYXR0ZW5lZEtleSAtIFRoZSBrZXkgaW4gdGhlIGNvbmZpZyBvYmplY3Qgd2hlcmUgdGhlIGZsYXR0ZW5lZCBkYXRhIGlzIHN0b3JlZC5cbiAgICA3M1x0ICAgKiAgQHBhcmFtIHtBcnJheTxTdHJpbmc+fSBbYXJnMF9vcHRpb25zLnJlc2VydmVkS2V5XSAtIE9wdGlvbmFsLiBUaGUga2V5IGluIGNvbW1vbl9kZWZpbmVzIGZvciByZXNlcnZlZCBpdGVtcy5cbiAgICA3NFx0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMuc2luZ3VsYXJOYW1lXSAtIE9wdGlvbmFsLiBUaGUgc2luZ3VsYXIgbmFtZSB1c2VkIGluIGZ1bmN0aW9uIG5hbWVzIChkZWZhdWx0cyB0byBuYW1lIHdpdGhvdXQgdHJhaWxpbmcgJ3MnKS5cbiAgICA3NVx0ICAgKiAgQHBhcmFtIHtCb29sZWFufSBbYXJnMF9vcHRpb25zLnVzZU1vZGVybkpTRG9jPWZhbHNlXSAtIE9wdGlvbmFsLiBXaGV0aGVyIHRvIHVzZSBtb2Rlcm4gSlNEb2MgY29tbWVudHMgaW5zdGVhZCBvZiB0cmFkaXRpb25hbCBjb21tZW50cy5cbiAgICA3Nlx0ICAgKlxuICAgIDc3XHQgICAqIEByZXR1cm5zIHtPYmplY3R9IEFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgZ2VuZXJhdGVkIGZyYW1ld29yayBmdW5jdGlvbnMuXG4gICAgNzhcdCAgICovXG4gICAgNzlcdCAgZnVuY3Rpb24gY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zIChhcmcwX29wdGlvbnMpIHtcbiAgICA4MFx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICA4MVx0ICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgICA4Mlx0XG4gICAgODNcdCAgICAvL1ZhbGlkYXRlIHJlcXVpcmVkIG9wdGlvbnNcbiAgICA4NFx0ICAgIGlmICghb3B0aW9ucy5uYW1lKSB0aHJvdyBuZXcgRXJyb3IoXCJjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnM6IG5hbWUgaXMgcmVxdWlyZWRcIik7XG4gICAgODVcdCAgICBpZiAoIW9wdGlvbnMuY29uZmlnS2V5KSB0aHJvdyBuZXcgRXJyb3IoXCJjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnM6IGNvbmZpZ0tleSBpcyByZXF1aXJlZFwiKTtcbiAgICA4Nlx0ICAgIGlmICghb3B0aW9ucy5mbGF0dGVuZWRLZXkpIHRocm93IG5ldyBFcnJvcihcImNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uczogZmxhdHRlbmVkS2V5IGlzIHJlcXVpcmVkXCIpO1xuICAgIDg3XHRcbiAgICA4OFx0ICAgIC8vU2V0IGRlZmF1bHQgb3B0aW9uc1xuICAgIDg5XHQgICAgdmFyIHNpbmd1bGFyTmFtZSA9IG9wdGlvbnMuc2luZ3VsYXJOYW1lIHx8IG9wdGlvbnMubmFtZS5yZXBsYWNlKC9zJC8sIFwiXCIpO1xuICAgIDkwXHQgICAgdmFyIGNhcGl0YWxpemVkTmFtZSA9IHNpbmd1bGFyTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHNpbmd1bGFyTmFtZS5zbGljZSgxKTtcbiAgICA5MVx0ICAgIHZhciB1c2VNb2Rlcm5KU0RvYyA9IG9wdGlvbnMudXNlTW9kZXJuSlNEb2MgfHwgZmFsc2U7XG4gICAgOTJcdFxuICAgIDkzXHQgICAgLy9DcmVhdGUgZnVuY3Rpb24gb2JqZWN0IHRvIHJldHVyblxuICAgIDk0XHQgICAgdmFyIGZyYW1ld29ya0Z1bmN0aW9ucyA9IHt9O1xuICAgIDk1XHRcbiAgICA5Nlx0ICAgIC8vQ3JlYXRlIGdldEFsbFggZnVuY3Rpb25cbiAgICA5N1x0ICAgIHZhciBnZXRBbGxGdW5jdGlvbk5hbWUgPSBcImdldEFsbFwiICsgY2FwaXRhbGl6ZWROYW1lICsgXCJzXCI7XG4gICAgOThcdCAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0QWxsRnVuY3Rpb25OYW1lXSA9IGZ1bmN0aW9uKGFyZzBfb3B0aW9ucykge1xuICAgIDk5XHQgICAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAxMDBcdCAgICAgIHZhciBmdW5jT3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAxMDFcdFxuICAgMTAyXHQgICAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxMDNcdCAgICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgIDEwNFx0ICAgICAgdmFyIGZsYXR0ZW5lZF9pdGVtcyA9IGNvbmZpZ1tvcHRpb25zLmZsYXR0ZW5lZEtleV07XG4gICAxMDVcdCAgICAgIHZhciByZXR1cm5faXRlbXMgPSBbXTtcbiAgIDEwNlx0ICAgICAgdmFyIHJldHVybl9rZXlzID0gW107XG4gICAxMDdcdFxuICAgMTA4XHQgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2l0ZW1zXG4gICAxMDlcdCAgICAgIHZhciBhbGxfZmxhdHRlbmVkX2l0ZW1zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX2l0ZW1zKTtcbiAgIDExMFx0XG4gICAxMTFcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgMTEyXHQgICAgICAgIHZhciBzaG91bGRJbmNsdWRlID0gdHJ1ZTtcbiAgIDExM1x0XG4gICAxMTRcdCAgICAgICAgLy9DaGVjayBpZiBpdGVtIGlzIHJlc2VydmVkXG4gICAxMTVcdCAgICAgICAgaWYgKG9wdGlvbnMucmVzZXJ2ZWRLZXkgJiYgY29tbW9uX2RlZmluZXNbb3B0aW9ucy5yZXNlcnZlZEtleV0pIHtcbiAgIDExNlx0ICAgICAgICAgIGlmIChjb21tb25fZGVmaW5lc1tvcHRpb25zLnJlc2VydmVkS2V5XS5pbmNsdWRlcyhhbGxfZmxhdHRlbmVkX2l0ZW1zW2ldKSkge1xuICAgMTE3XHQgICAgICAgICAgICBzaG91bGRJbmNsdWRlID0gZmFsc2U7XG4gICAxMThcdCAgICAgICAgICB9XG4gICAxMTlcdCAgICAgICAgfVxuICAgMTIwXHRcbiAgIDEyMVx0ICAgICAgICBpZiAoc2hvdWxkSW5jbHVkZSkge1xuICAgMTIyXHQgICAgICAgICAgcmV0dXJuX2l0ZW1zLnB1c2goZmxhdHRlbmVkX2l0ZW1zW2FsbF9mbGF0dGVuZWRfaXRlbXNbaV1dKTtcbiAgIDEyM1x0ICAgICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF9pdGVtc1tpXSk7XG4gICAxMjRcdCAgICAgICAgfVxuICAgMTI1XHQgICAgICB9XG4gICAxMjZcdFxuICAgMTI3XHQgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDEyOFx0ICAgICAgcmV0dXJuICghZnVuY09wdGlvbnMucmV0dXJuX2tleXMpID8gcmV0dXJuX2l0ZW1zIDogcmV0dXJuX2tleXM7XG4gICAxMjlcdCAgICB9O1xuICAgMTMwXHRcbiAgIDEzMVx0ICAgIC8vQ3JlYXRlIGdldFggZnVuY3Rpb25cbiAgIDEzMlx0ICAgIHZhciBnZXRGdW5jdGlvbk5hbWUgPSBcImdldFwiICsgY2FwaXRhbGl6ZWROYW1lO1xuICAgMTMzXHQgICAgZnJhbWV3b3JrRnVuY3Rpb25zW2dldEZ1bmN0aW9uTmFtZV0gPSBmdW5jdGlvbihhcmcwX25hbWUsIGFyZzFfb3B0aW9ucykge1xuICAgMTM0XHQgICAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAxMzVcdCAgICAgIHZhciBuYW1lID0gYXJnMF9uYW1lO1xuICAgMTM2XHQgICAgICB2YXIgZnVuY09wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuICAgMTM3XHRcbiAgIDEzOFx0ICAgICAgLy9HdWFyZCBjbGF1c2UgZm9yIG9iamVjdHM7IGRpcmVjdCBrZXlzXG4gICAxMzlcdCAgICAgIGlmICh0eXBlb2YgbmFtZSA9PSBcIm9iamVjdFwiKSByZXR1cm4gbmFtZTtcbiAgIDE0MFx0ICAgICAgaWYgKGNvbmZpZ1tvcHRpb25zLmZsYXR0ZW5lZEtleV1bbmFtZV0pIHJldHVybiAoIWZ1bmNPcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnW29wdGlvbnMuZmxhdHRlbmVkS2V5XVtuYW1lXSA6IG5hbWU7XG4gICAxNDFcdFxuICAgMTQyXHQgICAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxNDNcdCAgICAgIHZhciBpdGVtX2V4aXN0cyA9IFtmYWxzZSwgXCJcIl07IC8vW2l0ZW1fZXhpc3RzLCBpdGVtX2tleV1cbiAgIDE0NFx0ICAgICAgdmFyIHNlYXJjaF9uYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgIDE0NVx0XG4gICAxNDZcdCAgICAgIC8vSUQgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDE0N1x0ICAgICAge1xuICAgMTQ4XHQgICAgICAgIC8vSXRlcmF0ZSBvdmVyIGNvbmZpZy5hbGxfaXRlbXNcbiAgIDE0OVx0ICAgICAgICB2YXIgYWxsX2l0ZW1zID0gY29uZmlnW1wiYWxsX1wiICsgb3B0aW9ucy5uYW1lXSB8fCBbXTtcbiAgIDE1MFx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgMTUxXHQgICAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gYWxsX2l0ZW1zW2ldO1xuICAgMTUyXHRcbiAgIDE1M1x0ICAgICAgICAgIGlmIChsb2NhbF92YWx1ZS5pZCAmJiBsb2NhbF92YWx1ZS5pZC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgIDE1NFx0ICAgICAgICAgICAgaXRlbV9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgIDE1NVx0ICAgICAgICB9XG4gICAxNTZcdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgIDE1N1x0ICAgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGFsbF9pdGVtc1tpXTtcbiAgIDE1OFx0XG4gICAxNTlcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUuaWQgJiYgbG9jYWxfdmFsdWUuaWQudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgIDE2MFx0ICAgICAgICAgICAgaXRlbV9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgIDE2MVx0ICAgICAgICB9XG4gICAxNjJcdCAgICAgIH1cbiAgIDE2M1x0XG4gICAxNjRcdCAgICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgMTY1XHQgICAgICB7XG4gICAxNjZcdCAgICAgICAgLy9JdGVyYXRlIG92ZXIgY29uZmlnLmFsbF9pdGVtc1xuICAgMTY3XHQgICAgICAgIHZhciBhbGxfaXRlbXMgPSBjb25maWdbXCJhbGxfXCIgKyBvcHRpb25zLm5hbWVdIHx8IFtdO1xuICAgMTY4XHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAxNjlcdCAgICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBhbGxfaXRlbXNbaV07XG4gICAxNzBcdFxuICAgMTcxXHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUgJiYgbG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbiAgIDE3Mlx0ICAgICAgICAgICAgaXRlbV9leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgIDE3M1x0ICAgICAgICB9XG4gICAxNzRcdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgIDE3NVx0ICAgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGFsbF9pdGVtc1tpXTtcbiAgIDE3Nlx0XG4gICAxNzdcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSAmJiBsb2NhbF92YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAxNzhcdCAgICAgICAgICAgIGl0ZW1fZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAxNzlcdCAgICAgICAgfVxuICAgMTgwXHQgICAgICB9XG4gICAxODFcdFxuICAgMTgyXHQgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDE4M1x0ICAgICAgaWYgKGl0ZW1fZXhpc3RzWzBdKVxuICAgMTg0XHQgICAgICAgIHJldHVybiAoIWZ1bmNPcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnW29wdGlvbnMuZmxhdHRlbmVkS2V5XVtpdGVtX2V4aXN0c1sxXV0gOiBpdGVtX2V4aXN0c1sxXTtcbiAgIDE4NVx0ICAgIH07XG4gICAxODZcdFxuICAgMTg3XHQgICAgLy9DcmVhdGUgZ2V0WEF0T3JkZXIgZnVuY3Rpb25cbiAgIDE4OFx0ICAgIHZhciBnZXRBdE9yZGVyRnVuY3Rpb25OYW1lID0gXCJnZXRcIiArIGNhcGl0YWxpemVkTmFtZSArIFwic0F0T3JkZXJcIjtcbiAgIDE4OVx0ICAgIGZyYW1ld29ya0Z1bmN0aW9uc1tnZXRBdE9yZGVyRnVuY3Rpb25OYW1lXSA9IGZ1bmN0aW9uKGFyZzBfb3B0aW9ucykge1xuICAgMTkwXHQgICAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAxOTFcdCAgICAgIHZhciBmdW5jT3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAxOTJcdFxuICAgMTkzXHQgICAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxOTRcdCAgICAgIHZhciBmbGF0dGVuZWRfaXRlbXMgPSBjb25maWdbb3B0aW9ucy5mbGF0dGVuZWRLZXldO1xuICAgMTk1XHQgICAgICB2YXIgb3JkZXIgPSAoZnVuY09wdGlvbnMub3JkZXIgIT0gdW5kZWZpbmVkKSA/IGZ1bmNPcHRpb25zLm9yZGVyIDogMTtcbiAgIDE5Nlx0ICAgICAgdmFyIHJldHVybl9pdGVtcyA9IFtdO1xuICAgMTk3XHQgICAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgIDE5OFx0ICAgICAgdmFyIHJldHVybl9vYmogPSB7fTtcbiAgIDE5OVx0XG4gICAyMDBcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfaXRlbXNcbiAgIDIwMVx0ICAgICAgdmFyIGFsbF9mbGF0dGVuZWRfaXRlbXMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfaXRlbXMpO1xuICAgMjAyXHRcbiAgIDIwM1x0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAyMDRcdCAgICAgICAgdmFyIGxvY2FsX2l0ZW0gPSBmbGF0dGVuZWRfaXRlbXNbYWxsX2ZsYXR0ZW5lZF9pdGVtc1tpXV07XG4gICAyMDVcdFxuICAgMjA2XHQgICAgICAgIGlmIChsb2NhbF9pdGVtLm9yZGVyID09IG9yZGVyKSB7XG4gICAyMDdcdCAgICAgICAgICByZXR1cm5faXRlbXMucHVzaChsb2NhbF9pdGVtKTtcbiAgIDIwOFx0ICAgICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF9pdGVtc1tpXSk7XG4gICAyMDlcdCAgICAgICAgfVxuICAgMjEwXHQgICAgICB9XG4gICAyMTFcdFxuICAgMjEyXHQgICAgICAvL29wdGlvbnMucmV0dXJuX29iamVjdCBoYW5kbGVyXG4gICAyMTNcdCAgICAgIGlmIChmdW5jT3B0aW9ucy5yZXR1cm5fb2JqZWN0KSB7XG4gICAyMTRcdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXR1cm5faXRlbXMubGVuZ3RoOyBpKyspXG4gICAyMTVcdCAgICAgICAgICByZXR1cm5fb2JqW3JldHVybl9rZXlzW2ldXSA9IHJldHVybl9pdGVtc1tpXTtcbiAgIDIxNlx0ICAgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDIxN1x0ICAgICAgICByZXR1cm4gcmV0dXJuX29iajtcbiAgIDIxOFx0ICAgICAgfVxuICAgMjE5XHRcbiAgIDIyMFx0ICAgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAyMjFcdCAgICAgIHJldHVybiAoIWZ1bmNPcHRpb25zLnJldHVybl9rZXlzKSA/IHJldHVybl9pdGVtcyA6IHJldHVybl9rZXlzO1xuICAgMjIyXHQgICAgfTtcbiAgIDIyM1x0XG4gICAyMjRcdCAgICAvL0NyZWF0ZSBnZXRYTG93ZXN0T3JkZXIgZnVuY3Rpb25cbiAgIDIyNVx0ICAgIHZhciBnZXRMb3dlc3RPcmRlckZ1bmN0aW9uTmFtZSA9IFwiZ2V0XCIgKyBjYXBpdGFsaXplZE5hbWUgKyBcInNMb3dlc3RPcmRlclwiO1xuICAgMjI2XHQgICAgZnJhbWV3b3JrRnVuY3Rpb25zW2dldExvd2VzdE9yZGVyRnVuY3Rpb25OYW1lXSA9IGZ1bmN0aW9uKGFyZzBfZmxhdHRlbmVkX2l0ZW1zKSB7XG4gICAyMjdcdCAgICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgIDIyOFx0ICAgICAgdmFyIGZsYXR0ZW5lZF9pdGVtcyA9IGFyZzBfZmxhdHRlbmVkX2l0ZW1zIHx8IGNvbmZpZ1tvcHRpb25zLmZsYXR0ZW5lZEtleV07XG4gICAyMjlcdFxuICAgMjMwXHQgICAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAyMzFcdCAgICAgIHZhciBhbGxfZmxhdHRlbmVkX2l0ZW1zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX2l0ZW1zKTtcbiAgIDIzMlx0ICAgICAgdmFyIGxvd2VzdF9vcmRlciA9IEluZmluaXR5O1xuICAgMjMzXHRcbiAgIDIzNFx0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF9pdGVtc1xuICAgMjM1XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9mbGF0dGVuZWRfaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgIDIzNlx0ICAgICAgICB2YXIgbG9jYWxfaXRlbSA9IGZsYXR0ZW5lZF9pdGVtc1thbGxfZmxhdHRlbmVkX2l0ZW1zW2ldXTtcbiAgIDIzN1x0XG4gICAyMzhcdCAgICAgICAgaWYgKGxvY2FsX2l0ZW0ub3JkZXIgJiYgbG9jYWxfaXRlbS5vcmRlciA8IGxvd2VzdF9vcmRlcilcbiAgIDIzOVx0ICAgICAgICAgIGxvd2VzdF9vcmRlciA9IGxvY2FsX2l0ZW0ub3JkZXI7XG4gICAyNDBcdCAgICAgIH1cbiAgIDI0MVx0XG4gICAyNDJcdCAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMjQzXHQgICAgICByZXR1cm4gKGxvd2VzdF9vcmRlciAhPSBJbmZpbml0eSkgPyBsb3dlc3Rfb3JkZXIgOiAxO1xuICAgMjQ0XHQgICAgfTtcbiAgIDI0NVx0XG4gICAyNDZcdCAgICAvL0NyZWF0ZSBnZXRYTmF2aWdhdGlvbk9iamVjdCBmdW5jdGlvblxuICAgMjQ3XHQgICAgdmFyIGdldE5hdmlnYXRpb25PYmplY3RGdW5jdGlvbk5hbWUgPSBcImdldFwiICsgY2FwaXRhbGl6ZWROYW1lICsgXCJzTmF2aWdhdGlvbk9iamVjdFwiO1xuICAgMjQ4XHQgICAgZnJhbWV3b3JrRnVuY3Rpb25zW2dldE5hdmlnYXRpb25PYmplY3RGdW5jdGlvbk5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAyNDlcdCAgICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDI1MFx0ICAgICAgdmFyIGZsYXR0ZW5lZF9pdGVtcyA9IGNvbmZpZ1tvcHRpb25zLmZsYXR0ZW5lZEtleV07XG4gICAyNTFcdCAgICAgIHZhciBsb3dlc3Rfb3JkZXIgPSBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0TG93ZXN0T3JkZXJGdW5jdGlvbk5hbWVdKGZsYXR0ZW5lZF9pdGVtcyk7XG4gICAyNTJcdFxuICAgMjUzXHQgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDI1NFx0ICAgICAgcmV0dXJuIGZyYW1ld29ya0Z1bmN0aW9uc1tnZXRBdE9yZGVyRnVuY3Rpb25OYW1lXSh7IG9yZGVyOiBsb3dlc3Rfb3JkZXIsIHJldHVybl9vYmplY3Q6IHRydWUgfSk7XG4gICAyNTVcdCAgICB9O1xuICAgMjU2XHRcbiAgIDI1N1x0ICAgIHJldHVybiBmcmFtZXdvcmtGdW5jdGlvbnM7XG4gICAyNThcdCAgfVxuICAgMjU5XHR9XG4gICAyNjBcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJkYjIyM2VjNC04Yjk2LTQxY2UtYjllMi1hZTBkN2VhZjVhMDg7dG9vbHVfdnJ0eF8wMUt1aTlzVlJTeXVzUHZ0a1p5Zm9BRFYiOnsicmVxdWVzdElkIjoiZGIyMjNlYzQtOGI5Ni00MWNlLWI5ZTItYWUwZDdlYWY1YTA4IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMUt1aTlzVlJTeXVzUHZ0a1p5Zm9BRFYiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDI1M1x0ICAgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAyNTRcdCAgICAgIHJldHVybiBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0QXRPcmRlckZ1bmN0aW9uTmFtZV0oeyBvcmRlcjogbG93ZXN0X29yZGVyLCByZXR1cm5fb2JqZWN0OiB0cnVlIH0pO1xuICAgMjU1XHQgICAgfTtcbiAgIDI1Nlx0XG4gICAyNTdcdCAgICByZXR1cm4gZnJhbWV3b3JrRnVuY3Rpb25zO1xuICAgMjU4XHQgIH1cbiAgIDI1OVx0XG4gICAyNjBcdCAgLyoqXG4gICAyNjFcdCAgICogVXNhZ2UgZXhhbXBsZSBmb3IgY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zOlxuICAgMjYyXHQgICAqXG4gICAyNjNcdCAgICogLy8gRm9yIGVudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgMjY0XHQgICAqIHZhciBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zID0gY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zKHtcbiAgIDI2NVx0ICAgKiAgIG5hbWU6IFwiZW50aXR5X2FjdGlvbnNcIixcbiAgIDI2Nlx0ICAgKiAgIGNvbmZpZ0tleTogXCJlbnRpdHlfYWN0aW9uc1wiLFxuICAgMjY3XHQgICAqICAgZmxhdHRlbmVkS2V5OiBcImZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1wiLFxuICAgMjY4XHQgICAqICAgcmVzZXJ2ZWRLZXk6IFwicmVzZXJ2ZWRfZW50aXR5X2FjdGlvbnNcIlxuICAgMjY5XHQgICAqIH0pO1xuICAgMjcwXHQgICAqXG4gICAyNzFcdCAgICogLy8gVGhlbiBhc3NpZ24gdGhlIGZ1bmN0aW9ucyB0byB0aGUgZ2xvYmFsIHNjb3BlXG4gICAyNzJcdCAgICogd2luZG93LmdldEFsbEVudGl0eUFjdGlvbnMgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEFsbEVudGl0eUFjdGlvbnM7XG4gICAyNzNcdCAgICogd2luZG93LmdldEVudGl0eUFjdGlvbiA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uO1xuICAgMjc0XHQgICAqIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb25zQXRPcmRlciA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXI7XG4gICAyNzVcdCAgICogd2luZG93LmdldEVudGl0eUFjdGlvbnNMb3dlc3RPcmRlciA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uc0xvd2VzdE9yZGVyO1xuICAgMjc2XHQgICAqIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCA9IGVudGl0eUFjdGlvbnNGdW5jdGlvbnMuZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3Q7XG4gICAyNzdcdCAgICpcbiAgIDI3OFx0ICAgKiAvLyBGb3IgdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanNcbiAgIDI3OVx0ICAgKiB2YXIgdmFyaWFibGVBY3Rpb25zRnVuY3Rpb25zID0gY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zKHtcbiAgIDI4MFx0ICAgKiAgIG5hbWU6IFwidmFyaWFibGVfYWN0aW9uc1wiLFxuICAgMjgxXHQgICAqICAgY29uZmlnS2V5OiBcInZhcmlhYmxlc1wiLFxuICAgMjgyXHQgICAqICAgZmxhdHRlbmVkS2V5OiBcImZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zXCIsXG4gICAyODNcdCAgICogICByZXNlcnZlZEtleTogXCJyZXNlcnZlZF92YXJpYWJsZV9hY3Rpb25zXCJcbiAgIDI4NFx0ICAgKiB9KTtcbiAgIDI4NVx0ICAgKlxuICAgMjg2XHQgICAqIC8vIFRoZW4gYXNzaWduIHRoZSBmdW5jdGlvbnMgdG8gdGhlIGdsb2JhbCBzY29wZVxuICAgMjg3XHQgICAqIHdpbmRvdy5nZXRBbGxWYXJpYWJsZUFjdGlvbnMgPSB2YXJpYWJsZUFjdGlvbnNGdW5jdGlvbnMuZ2V0QWxsVmFyaWFibGVBY3Rpb25zO1xuICAgMjg4XHQgICAqIHdpbmRvdy5nZXRWYXJpYWJsZUFjdGlvbiA9IHZhcmlhYmxlQWN0aW9uc0Z1bmN0aW9ucy5nZXRWYXJpYWJsZUFjdGlvbjtcbiAgIDI4OVx0ICAgKiB3aW5kb3cuZ2V0VmFyaWFibGVBY3Rpb25zQXRPcmRlciA9IHZhcmlhYmxlQWN0aW9uc0Z1bmN0aW9ucy5nZXRWYXJpYWJsZUFjdGlvbnNBdE9yZGVyO1xuICAgMjkwXHQgICAqIHdpbmRvdy5nZXRWYXJpYWJsZUFjdGlvbnNMb3dlc3RPcmRlciA9IHZhcmlhYmxlQWN0aW9uc0Z1bmN0aW9ucy5nZXRWYXJpYWJsZUFjdGlvbnNMb3dlc3RPcmRlcjtcbiAgIDI5MVx0ICAgKiB3aW5kb3cuZ2V0VmFyaWFibGVBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCA9IHZhcmlhYmxlQWN0aW9uc0Z1bmN0aW9ucy5nZXRWYXJpYWJsZUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0O1xuICAgMjkyXHQgICAqL1xuICAgMjkzXHR9XG4gICAyOTRcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI4MzYwYmU4Ni0yM2VjLTQ4YjYtYWViYi05N2UzZjZjYTI3YmQ7dG9vbHVfdnJ0eF8wMThtOVpyUDVmclpOcXNoUnJ0NjR2VlkiOnsicmVxdWVzdElkIjoiODM2MGJlODYtMjNlYy00OGI2LWFlYmItOTdlM2Y2Y2EyN2JkIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMThtOVpyUDVmclpOcXNoUnJ0NjR2VlkiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgRW50aXR5IEFjdGlvbnMgZnJhbWV3b3JrXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKlxuICAgICA0XHQgICAgZ2V0QWxsRW50aXR5QWN0aW9ucygpIC0gRmV0Y2hlcyBhbGwgZW50aXR5IGFjdGlvbnMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICAgNVx0ICAgIGFyZzBfb3B0aW9uczogKE9iamVjdClcbiAgICAgNlx0ICAgICAgcmV0dXJuX2tleXM6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuIEZhbHNlIGJ5IGRlZmF1bHQuXG4gICAgIDdcdFxuICAgICA4XHQgICAgUmV0dXJuczogKEFycmF5PE9iamVjdD4vQXJyYXk8U3RyaW5nPilcbiAgICAgOVx0ICAqL1xuICAgIDEwXHQgIGZ1bmN0aW9uIGdldEFsbEVudGl0eUFjdGlvbnMgKGFyZzBfb3B0aW9ucykge1xuICAgIDExXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDEyXHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xuICAgIDEzXHRcbiAgICAxNFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxNVx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgICAxNlx0ICAgIHZhciBmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zO1xuICAgIDE3XHQgICAgdmFyIHJldHVybl9hY3Rpb25zID0gW107XG4gICAgMThcdCAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgICAxOVx0XG4gICAgMjBcdCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXG4gICAgMjFcdCAgICB2YXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyk7XG4gICAgMjJcdFxuICAgIDIzXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgIDI0XHQgICAgICBpZiAoIWNvbW1vbl9kZWZpbmVzLnJlc2VydmVkX2VudGl0eV9hY3Rpb25zLmluY2x1ZGVzKGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV0pKSB7XG4gICAgMjVcdCAgICAgICAgcmV0dXJuX2FjdGlvbnMucHVzaChmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tpXV0pO1xuICAgIDI2XHQgICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tpXSk7XG4gICAgMjdcdCAgICAgIH1cbi4uLlxuICAgIDM4XHRcbiAgICAzOVx0ICAgIFJldHVybnM6IChPYmplY3QvU3RyaW5nKVxuICAgIDQwXHQgICovXG4gICAgNDFcdCAgZnVuY3Rpb24gZ2V0RW50aXR5QWN0aW9uIChhcmcwX25hbWUsIGFyZzFfb3B0aW9ucykge1xuICAgIDQyXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDQzXHQgICAgdmFyIG5hbWUgPSBhcmcwX25hbWU7XG4gICAgNDRcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcxX29wdGlvbnMpID8gYXJnMV9vcHRpb25zIDoge307XG4gICAgNDVcdFxuICAgIDQ2XHQgICAgLy9HdWFyZCBjbGF1c2UgZm9yIG9iamVjdHM7IGRpcmVjdCBrZXlzXG4gICAgNDdcdCAgICBpZiAodHlwZW9mIG5hbWUgPT0gXCJvYmplY3RcIikgcmV0dXJuIG5hbWU7XG4gICAgNDhcdCAgICBpZiAoY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tuYW1lXSkgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbbmFtZV0gOiBuYW1lO1xuICAgIDQ5XHRcbiAgICA1MFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICA1MVx0ICAgIHZhciBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbZmFsc2UsIFwiXCJdOyAvL1tlbnRpdHlfYWN0aW9uc19leGlzdHMsIGVudGl0eV9hY3Rpb25zX2tleV07XG4gICAgNTJcdCAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuLi4uXG4gICAyMzBcdFxuICAgMjMxXHQgIC8qXG4gICAyMzJcdCAgICBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIoKSAtIEZldGNoZXMgdGhlIGxvd2VzdCAub3JkZXIgZnJvbSBhbGwgY29uZmlnLmVudGl0eV9hY3Rpb25zLlxuICAgMjMzXHRcbiAgIDIzNFx0ICAgIFJldHVybnM6IChOdW1iZXIpXG4gICAyMzVcdCAgKi9cbiAgIDIzNlx0ICBmdW5jdGlvbiBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIgKCkge1xuICAgMjM3XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMjM4XHQgICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnM7XG4gICAyMzlcdCAgICB2YXIgbWluX29yZGVyID0gSW5maW5pdHk7XG4gICAyNDBcdFxuICAgMjQxXHQgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1xuICAgMjQyXHQgICAgdmFyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMpO1xuICAgMjQzXHRcbiAgIDI0NFx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgMjQ1XHQgICAgICB2YXIgbG9jYWxfYWN0aW9uID0gZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV1dO1xuICAgMjQ2XHRcbiAgIDI0N1x0ICAgICAgaWYgKGxvY2FsX2FjdGlvbi5vcmRlciAhPSB1bmRlZmluZWQpXG4gICAyNDhcdCAgICAgICAgbWluX29yZGVyID0gTWF0aC5taW4obWluX29yZGVyLCBsb2NhbF9hY3Rpb24ub3JkZXIpO1xuICAgMjQ5XHQgICAgfVxuICAgMjUwXHRcbiAgIDI1MVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMjUyXHQgICAgcmV0dXJuIG1pbl9vcmRlcjtcbiAgIDI1M1x0ICB9XG4gICAyNTRcdFxuICAgMjU1XHQgIC8qXG4gICAyNTZcdCAgICBnZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCgpIC0gRmV0Y2hlcyB0aGUgbmF2aWdhdGlvbiBvYmplY3QgZm9yIGVudGl0eSBhY3Rpb25zOyB0aGUgaW5pdGlhbCBjb250ZXh0IG1lbnUgZnJvbSB0aGUgbG93ZXN0IG9yZGVyLlxuICAgMjU3XHRcbiAgIDI1OFx0ICAgIFJldHVybnM6IChPYmplY3QpXG4gICAyNTlcdCAgKi9cbiAgIDI2MFx0ICBmdW5jdGlvbiBnZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCAoKSB7XG4gICAyNjFcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAyNjJcdCAgICB2YXIgZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucztcbiAgIDI2M1x0ICAgIHZhciBsb3dlc3Rfb3JkZXIgPSBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIoZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zKTtcbiAgIDI2NFx0XG4gICAyNjVcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDI2Nlx0ICAgIHJldHVybiBnZXRFbnRpdHlBY3Rpb25zQXRPcmRlcih7IG9yZGVyOiBsb3dlc3Rfb3JkZXIsIHJldHVybl9vYmplY3Q6IHRydWUgfSk7XG4gICAyNjdcdCAgfVxuICAgMjY4XHR9XG4uLi5cblBhdGg6IHNyYy9qcy9mcmFtZXdvcmsvYWN0aW9ucy91bmRvX3JlZG9fZnJhbWV3b3JrLmpzXG4uLi5cbiAgICA2MFx0XG4gICAgNjFcdCAgLy9pbml0aWFsaXNlVW5kb1JlZG9BY3Rpb25zKCkgLSBTZXRzIHVwIHVuZG8vcmVkbyBhY3Rpb25zLlxuICAgIDYyXHQgIGZ1bmN0aW9uIGluaXRpYWxpc2VVbmRvUmVkb0FjdGlvbnMgKCkge1xuICAgIDYzXHQgICAgLy9CcnVzaFxuICAgIDY0XHQgICAge1xuICAgIDY1XHQgICAgICBjcmVhdGVBY3Rpb24oXCJhZGRfdG9fYnJ1c2hcIiwge1xuICAgIDY2XHQgICAgICAgIG5hbWU6IFwiQWRkIFRvIEJydXNoXCIsXG4gICAgNjdcdCAgXG4gICAgNjhcdCAgICAgICAgZnVuY3Rpb246IFwiYWRkVG9CcnVzaFwiLFxuICAgIDY5XHQgICAgICAgIHJldmVyc2VfZnVuY3Rpb246IFwicmVtb3ZlRnJvbUJydXNoXCJcbiAgICA3MFx0ICAgICAgfSk7XG4gICAgNzFcdCAgXG4gICAgNzJcdCAgICAgIGNyZWF0ZUFjdGlvbihcInJlbW92ZV9mcm9tX2JydXNoXCIsIHtcbiAgICA3M1x0ICAgICAgICBuYW1lOiBcIlJlbW92ZSBGcm9tIEJydXNoXCIsXG4gICAgNzRcdCAgXG4gICAgNzVcdCAgICAgICAgZnVuY3Rpb246IFwicmVtb3ZlRnJvbUJydXNoXCIsXG4gICAgNzZcdCAgICAgICAgcmV2ZXJzZV9mdW5jdGlvbjogXCJhZGRUb0JydXNoXCJcbiAgICA3N1x0ICAgICAgfSk7XG4gICAgNzhcdCAgICB9XG4gICAgNzlcdFxuICAgIDgwXHQgICAgLy9EYXRlXG4gICAgODFcdCAgICB7XG4gICAgODJcdCAgICAgIGNyZWF0ZUFjdGlvbihcImNoYW5nZV9kYXRlXCIsIHtcbiAgICA4M1x0ICAgICAgICBuYW1lOiBcIkNoYW5nZSBEYXRlXCIsXG4gICAgODRcdFxuICAgIDg1XHQgICAgICAgIGZ1bmN0aW9uOiBcImxvYWREYXRlXCIsXG4gICAgODZcdCAgICAgICAgcmV2ZXJzZV9mdW5jdGlvbjogXCJsb2FkRGF0ZVwiXG4gICAgODdcdCAgICAgIH0pO1xuICAgIDg4XHQgICAgfVxuICAgIDg5XHQgICAgXG4gICAgOTBcdCAgICAvL0VudGl0aWVzXG4gICAgOTFcdCAgICB7XG4gICAgOTJcdCAgICAgIC8vRW50aXR5IEFjdGlvbnMgKEdlbmVyaWMpXG4gICAgOTNcdCAgICAgIGNyZWF0ZUFjdGlvbihcImRlbGV0ZV9lbnRpdHlcIiwge1xuICAgIDk0XHQgICAgICAgIG5hbWU6IFwiRGVsZXRlIEVudGl0eVwiLFxuICAgIDk1XHRcbiAgICA5Nlx0ICAgICAgICBmdW5jdGlvbjogXCJkZWxldGVFbnRpdHlcIixcbiAgICA5N1x0ICAgICAgICByZXZlcnNlX2Z1bmN0aW9uOiBcInVuZG9EZWxldGVFbnRpdHlcIlxuICAgIDk4XHQgICAgICB9KTtcbiAgICA5OVx0ICAgICAgY3JlYXRlQWN0aW9uKFwiZmluaXNoX2VudGl0eVwiLCB7XG4gICAxMDBcdCAgICAgICAgbmFtZTogXCJGaW5pc2ggRW50aXR5XCIsXG4gICAxMDFcdFxuICAgMTAyXHQgICAgICAgIGZ1bmN0aW9uOiBcImZpbmlzaEVudGl0eVwiLFxuICAgMTAzXHQgICAgICAgIHJldmVyc2VfZnVuY3Rpb246IFwidW5kb0ZpbmlzaEVudGl0eVwiXG4gICAxMDRcdCAgICAgIH0pO1xuICAgMTA1XHQgICAgICBjcmVhdGVBY3Rpb24oXCJoaWRlX2VudGl0eVwiLCB7XG4gICAxMDZcdCAgICAgICAgbmFtZTogXCJIaWRlIEVudGl0eVwiLFxuICAgMTA3XHRcbiAgIDEwOFx0ICAgICAgICBmdW5jdGlvbjogXCJoaWRlRW50aXR5XCIsXG4gICAxMDlcdCAgICAgICAgcmV2ZXJzZV9mdW5jdGlvbjogXCJzaG93RW50aXR5XCJcbiAgIDExMFx0ICAgICAgfSk7XG4gICAxMTFcdCAgICAgIGNyZWF0ZUFjdGlvbihcInJlbmFtZV9lbnRpdHlcIiwge1xuICAgMTEyXHQgICAgICAgIG5hbWU6IFwiUmVuYW1lIEVudGl0eVwiLFxuICAgMTEzXHRcbiAgIDExNFx0ICAgICAgICBmdW5jdGlvbjogXCJyZW5hbWVFbnRpdHlcIixcbiAgIDExNVx0ICAgICAgICByZXZlcnNlX2Z1bmN0aW9uOiBcInJlbmFtZUVudGl0eVwiXG4gICAxMTZcdCAgICAgIH0pO1xuICAgMTE3XHQgICAgICBjcmVhdGVBY3Rpb24oXCJzaG93X2VudGl0eVwiLCB7XG4gICAxMThcdCAgICAgICAgbmFtZTogXCJTaG93IEVudGl0eVwiLFxuICAgMTE5XHRcbiAgIDEyMFx0ICAgICAgICBmdW5jdGlvbjogXCJzaG93RW50aXR5XCIsXG4gICAxMjFcdCAgICAgICAgcmV2ZXJzZV9mdW5jdGlvbjogXCJoaWRlRW50aXR5XCJcbiAgIDEyMlx0ICAgICAgfSk7XG4gICAxMjNcdFxuICAgMTI0XHQgICAgICAvL0VudGl0eSBBY3Rpb25zXG4gICAxMjVcdCAgICAgIGNyZWF0ZUFjdGlvbihcImNsZWFuX2tleWZyYW1lc1wiLCB7XG4gICAxMjZcdCAgICAgICAgbmFtZTogXCJDbGVhbiBLZXlmcmFtZXNcIixcbiAgIDEyN1x0XG4gICAxMjhcdCAgICAgICAgZnVuY3Rpb246IFwiY2xlYW5LZXlmcmFtZXNcIixcbiAgIDEyOVx0ICAgICAgICByZXZlcnNlX2Z1bmN0aW9uOiBcInVuZG9DbGVhbktleWZyYW1lc1wiXG4gICAxMzBcdCAgICAgIH0pO1xuICAgMTMxXHRcbiAgIDEzMlx0ICAgICAgLy9FbnRpdHkgS2V5ZnJhbWVzXG4gICAxMzNcdCAgICAgIGNyZWF0ZUFjdGlvbihcImFwcGx5X3BhdGhfdG9fa2V5ZnJhbWVzXCIsIHtcbiAgIDEzNFx0ICAgICAgICBuYW1lOiBcIkFwcGx5IFBhdGggdG8gS2V5ZnJhbWVzXCIsXG4gICAxMzVcdFxuICAgMTM2XHQgICAgICAgIGZ1bmN0aW9uOiBcImFwcGx5UGF0aFRvS2V5ZnJhbWVzXCIsXG4gICAxMzdcdCAgICAgICAgcmV2ZXJzZV9mdW5jdGlvbjogXCJ1bmRvQXBwbHlQYXRoVG9LZXlmcmFtZXNcIlxuICAgMTM4XHQgICAgICB9KTtcbiAgIDEzOVx0ICAgICAgY3JlYXRlQWN0aW9uKFwiZWRpdF9rZXlmcmFtZVwiLCB7XG4gICAxNDBcdCAgICAgICAgbmFtZTogXCJFZGl0IEtleWZyYW1lXCIsXG4gICAxNDFcdFxuICAgMTQyXHQgICAgICAgIGZ1bmN0aW9uOiBcImVkaXRLZXlmcmFtZVwiLFxuICAgMTQzXHQgICAgICAgIHJldmVyc2VfZnVuY3Rpb246IFwidW5kb0VkaXRLZXlmcmFtZVwiXG4gICAxNDRcdCAgICAgIH0pO1xuICAgMTQ1XHQgICAgfVxuICAgMTQ2XHRcbiAgIDE0N1x0ICAgIC8vQ2FsbCBpbml0aWFsaXNlVW5kb1JlZG9VSSgpXG4gICAxNDhcdCAgICBpbml0aWFsaXNlVW5kb1JlZG9VSSgpO1xuICAgMTQ5XHQgIH1cbiAgIDE1MFx0fVxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL3ZhcmlhYmxlcy92YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qc1xuICAgICAxXHQvL0luaXRpYWxpc2UgZnVuY3Rpb25zXG4gICAgIDJcdHtcbiAgICAgM1x0ICAvKipcbiAgICAgNFx0ICAgKiBnZXRBbGxWYXJpYWJsZUFjdGlvbnMoKSAtIEZldGNoZXMgYWxsIHZhcmlhYmxlIGFjdGlvbnMgYXMgZWl0aGVyIGFuIGFycmF5IG9mIGtleXMgb3Igb2JqZWN0cy5cbiAgICAgNVx0ICAgKiBAcGFyYW0ge09iamVjdH0gW2FyZzBfb3B0aW9uc11cbiAgICAgNlx0ICAgKiAgQHBhcmFtIHtib29sZWFufSBbYXJnMF9vcHRpb25zLnJldHVybl9rZXlzPWZhbHNlXSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuXG4gICAgIDdcdCAgICogXG4gICAgIDhcdCAgICogQHJldHVybnMge0FycmF5PE9iamVjdD58QXJyYXk8U3RyaW5nPn1cbiAgICAgOVx0ICAgKi9cbiAgICAxMFx0ICBmdW5jdGlvbiBnZXRBbGxWYXJpYWJsZUFjdGlvbnMgKGFyZzBfb3B0aW9ucykge1xuICAgIDExXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDEyXHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMF9vcHRpb25zKSA/IGFyZzBfb3B0aW9ucyA6IHt9O1xuICAgIDEzXHRcbiAgICAxNFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxNVx0ICAgIHZhciBjb21tb25fZGVmaW5lcyA9IGNvbmZpZy5kZWZpbmVzLmNvbW1vbjtcbiAgICAxNlx0ICAgIHZhciBmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9ucztcbiAgICAxN1x0ICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xuICAgIDE4XHQgICAgdmFyIHJldHVybl9rZXlzID0gW107XG4gICAgMTlcdFxuICAgIDIwXHQgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zXG4gICAgMjFcdCAgICB2YXIgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMpO1xuICAgIDIyXHQgICBcbiAgICAyM1x0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgIDI0XHQgICAgICBpZiAoIWNvbW1vbl9kZWZpbmVzLnJlc2VydmVkX3ZhcmlhYmxlX2FjdGlvbnMuaW5jbHVkZXMoYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2ldKSkge1xuICAgIDI1XHQgICAgICAgIHJldHVybl9hY3Rpb25zLnB1c2goZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zW2ldXSk7XG4gICAgMjZcdCAgICAgICAgcmV0dXJuX2tleXMucHVzaChhbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbaV0pO1xuICAgIDI3XHQgICAgICB9XG4gICAgMjhcdFxuICAgIDI5XHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAgMzBcdCAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXlzKSA/IHJldHVybl9hY3Rpb25zIDogcmV0dXJuX2tleXM7XG4gICAgMzFcdCAgfVxuLi4uXG4gICAxMDZcdFxuICAgMTA3XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMTA4XHQgICAgdmFyIGZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zO1xuICAgMTA5XHQgICAgdmFyIG9yZGVyID0gKG9wdGlvbnMub3JkZXIgIT0gdW5kZWZpbmVkKSA/IG9wdGlvbnMub3JkZXIgOiAxO1xuICAgMTEwXHQgICAgdmFyIHJldHVybl9hY3Rpb25zID0gW107XG4gICAxMTFcdCAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgIDExMlx0ICAgIHZhciByZXR1cm5fb2JqID0ge307XG4gICAxMTNcdFxuICAgMTE0XHQgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zXG4gICAxMTVcdCAgICB2YXIgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMpO1xuICAgMTE2XHRcbiAgIDExN1x0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF92YXJpYWJsZV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxMThcdCAgICAgIHZhciBsb2NhbF9hY3Rpb24gPSBmbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1thbGxfZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNbaV1dO1xuICAgMTE5XHRcbiAgIDEyMFx0ICAgICAgaWYgKGxvY2FsX2FjdGlvbi5vcmRlciA9PSBvcmRlcikge1xuICAgMTIxXHQgICAgICAgIHJldHVybl9hY3Rpb25zLnB1c2gobG9jYWxfYWN0aW9uKTtcbiAgIDEyMlx0ICAgICAgICByZXR1cm5fa2V5cy5wdXNoKGFsbF9mbGF0dGVuZWRfdmFyaWFibGVfYWN0aW9uc1tpXSk7XG4gICAxMjNcdCAgICAgIH1cbiAgIDEyNFx0ICAgIH1cbi4uLlxuICAgMjUxXHRcbiAgIDI1Mlx0ICAvKipcbiAgIDI1M1x0ICAgKiBnZXRWYXJpYWJsZUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0KCkgLSBGZXRjaGVzIHRoZSBuYXZpZ2F0aW9uIG9iamVjdCBmb3IgdmFyaWFibGUgYWN0aW9uczsgdGhlIGluaXRpYWwgY29udGV4dCBtZW51IGZyb20gbG93ZXN0IG9yZGVyLlxuICAgMjU0XHQgICAqIFxuICAgMjU1XHQgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAyNTZcdCAgICovXG4gICAyNTdcdCAgZnVuY3Rpb24gZ2V0VmFyaWFibGVBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCAoKSB7XG4gICAyNThcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAyNTlcdCAgICB2YXIgZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnM7XG4gICAyNjBcdCAgICB2YXIgbG93ZXN0X29yZGVyID0gZ2V0VmFyaWFibGVBY3Rpb25zTG93ZXN0T3JkZXIoZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnMpO1xuICAgMjYxXHRcbiAgIDI2Mlx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMjYzXHQgICAgcmV0dXJuIGdldFZhcmlhYmxlQWN0aW9uc0F0T3JkZXIoeyBvcmRlcjogbG93ZXN0X29yZGVyIH0pWzBdO1xuICAgMjY0XHQgIH1cbiAgIDI2NVx0fS4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9ncm91cHMvZ3JvdXBfYWN0aW9uc19mcmFtZXdvcmsuanNcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIGZ1bmN0aW9uc1xuICAgICAyXHR7XG4gICAgIDNcdCAgLypcbiAgICAgNFx0ICAgIGdldEFsbEdyb3VwQWN0aW9ucygpIC0gRmV0Y2hlcyBhbGwgZ3JvdXAgYWN0aW9ucyBhcyBlaXRoZXIgYW4gYXJyYXkgb2Yga2V5cyBvciBvYmplY3RzLlxuICAgICA1XHQgICAgYXJnMF9vcHRpb25zOiAoT2JqZWN0KVxuICAgICA2XHQgICAgICByZXR1cm5fa2V5czogKEJvb2xlYW4pIC0gT3B0aW9uYWwuIFdoZXRoZXIgb3Igbm90IHRvIHJldHVybiBhbiBhcnJheSBvZiBrZXlzIGluc3RlYWQgb2Ygb2JqZWN0cy4gRmFsc2UgYnkgZGVmYXVsdC5cbiAgICAgN1x0XG4gICAgIDhcdCAgICBSZXR1cm5zOiAoQXJyYXk8T2JqZWN0Pi9BcnJheTxTdHJpbmc+KVxuICAgICA5XHQgICovXG4gICAgMTBcdCAgZnVuY3Rpb24gZ2V0QWxsR3JvdXBBY3Rpb25zIChhcmcwX29wdGlvbnMpIHtcbiAgICAxMVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAxMlx0ICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgICAxM1x0XG4gICAgMTRcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTVcdCAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAgMTZcdCAgICB2YXIgZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnM7XG4gICAgMTdcdCAgICB2YXIgcmV0dXJuX2FjdGlvbnMgPSBbXTtcbiAgICAxOFx0ICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1xuICAgIDE5XHRcbiAgICAyMFx0ICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfZ3JvdXBfYWN0aW9uc1xuICAgIDIxXHQgICAgdmFyIGFsbF9mbGF0dGVuZWRfZ3JvdXBfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zKTtcbiAgICAyMlx0XG4gICAgMjNcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9mbGF0dGVuZWRfZ3JvdXBfYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgICAyNFx0ICAgICAgaWYgKCFjb21tb25fZGVmaW5lcy5yZXNlcnZlZF9ncm91cF9hY3Rpb25zLmluY2x1ZGVzKGFsbF9mbGF0dGVuZWRfZ3JvdXBfYWN0aW9uc1tpXSkpIHtcbiAgICAyNVx0ICAgICAgICByZXR1cm5fYWN0aW9ucy5wdXNoKGZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfZ3JvdXBfYWN0aW9uc1tpXV0pO1xuICAgIDI2XHQgICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zW2ldKTtcbiAgICAyN1x0ICAgICAgfVxuLi4uXG4gICAxMTdcdFxuICAgMTE4XHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDExOVx0ICAgICAgdmFyIGxvY2FsX2FjdGlvbiA9IGZsYXR0ZW5lZF9ncm91cF9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfZ3JvdXBfYWN0aW9uc1tpXV07XG4gICAxMjBcdFxuICAgMTIxXHQgICAgICBpZiAobG9jYWxfYWN0aW9uLm9yZGVyID09IG9wdGlvbnMub3JkZXIpIHtcbiAgIDEyMlx0ICAgICAgICByZXR1cm5fYWN0aW9ucy5wdXNoKGxvY2FsX2FjdGlvbik7XG4gICAxMjNcdCAgICAgICAgcmV0dXJuX2tleXMucHVzaChhbGxfZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnNbaV0pO1xuICAgMTI0XHQgICAgICB9XG4gICAxMjVcdCAgICB9XG4gICAxMjZcdFxuICAgMTI3XHQgICAgLy9vcHRpb25zLnJldHVybl9vYmplY3QgaGFuZGxlclxuICAgMTI4XHQgICAgaWYgKG9wdGlvbnMucmV0dXJuX29iamVjdCkge1xuICAgMTI5XHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJldHVybl9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgMTMwXHQgICAgICAgIHJldHVybl9vYmpbcmV0dXJuX2FjdGlvbnNbaV1dID0gcmV0dXJuX2FjdGlvbnNbaV07XG4gICAxMzFcdCAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMTMyXHQgICAgICByZXR1cm4gcmV0dXJuX29iajtcbiAgIDEzM1x0ICAgIH1cbiAgIDEzNFx0XG4gICAxMzVcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDEzNlx0ICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyByZXR1cm5fYWN0aW9ucyA6IHJldHVybl9rZXlzO1xuICAgMTM3XHQgIH1cbi4uLlxuICAgMjUyXHRcbiAgIDI1M1x0ICAvKlxuICAgMjU0XHQgICAgZ2V0R3JvdXBBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCgpIC0gRmV0Y2hlcyB0aGUgbmF2aWdhdGlvbiBvYmplY3QgZm9yIGdyb3VwIGFjdGlvbnM7IHRoZSBpbml0aWFsIGNvbnRleHQgbWVudSBmcm9tIGxvd2VzdCBvcmRlci5cbiAgIDI1NVx0XG4gICAyNTZcdCAgICBSZXR1cm5zOiAoT2JqZWN0KVxuICAgMjU3XHQgICovXG4gICAyNThcdCAgZnVuY3Rpb24gZ2V0R3JvdXBBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCAoKSB7XG4gICAyNTlcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAyNjBcdCAgICB2YXIgZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnM7XG4gICAyNjFcdCAgICB2YXIgbG93ZXN0X29yZGVyID0gZ2V0R3JvdXBBY3Rpb25zTG93ZXN0T3JkZXIoZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnMpO1xuICAgMjYyXHRcbiAgIDI2M1x0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMjY0XHQgICAgcmV0dXJuIGdldEdyb3VwQWN0aW9uc0F0T3JkZXIoeyBvcmRlcjogbG93ZXN0X29yZGVyIH0pWzBdO1xuICAgMjY1XHQgIH1cbiAgIDI2Nlx0fVxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2JydXNoL2JydXNoX2FjdGlvbnNfZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBCcnVzaCBBY3Rpb25zIGZyYW1ld29ya1xuICAgICAyXHR7XG4gICAgIDNcdCAgLypcbiAgICAgNFx0ICAgIGdldEFsbEJydXNoQWN0aW9ucygpIC0gRmV0Y2hlcyBhbGwgYnJ1c2ggYWN0aW9ucyBhcyBlaXRoZXIgYW4gYXJyYXkgb2Yga2V5cyBvciBvYmplY3RzLlxuICAgICA1XHQgICAgYXJnMF9vcHRpb25zOiAoT2JqZWN0KVxuICAgICA2XHQgICAgICByZXR1cm5fa2V5czogKEJvb2xlYW4pIC0gT3B0aW9uYWwuIFdoZXRoZXIgb3Igbm90IHRvIHJldHVybiBhbiBhcnJheSBvZiBrZXlzIGluc3RlYWQgb2Ygb2JqZWN0cy4gRmFsc2UgYnkgZGVmYXVsdC5cbiAgICAgN1x0XG4gICAgIDhcdCAgICBSZXR1cm5zOiAoQXJyYXk8T2JqZWN0Pi9BcnJheTxTdHJpbmc+KVxuICAgICA5XHQgICovXG4gICAgMTBcdCAgZnVuY3Rpb24gZ2V0QWxsQnJ1c2hBY3Rpb25zIChhcmcwX29wdGlvbnMpIHtcbiAgICAxMVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAxMlx0ICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgICAxM1x0XG4gICAgMTRcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTVcdCAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAgMTZcdCAgICB2YXIgZmxhdHRlbmVkX2JydXNoX2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX2JydXNoX2FjdGlvbnM7XG4gICAgMTdcdCAgICB2YXIgcmV0dXJuX2FjdGlvbnMgPSBbXTtcbiAgICAxOFx0ICAgIHZhciByZXR1cm5fa2V5cyA9IFtdO1xuICAgIDE5XHRcbiAgICAyMFx0ICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfYnJ1c2hfYWN0aW9uc1xuICAgIDIxXHQgICAgdmFyIGFsbF9mbGF0dGVuZWRfYnJ1c2hfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9icnVzaF9hY3Rpb25zKTtcbiAgICAyMlx0XG4gICAgMjNcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9mbGF0dGVuZWRfYnJ1c2hfYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgICAyNFx0ICAgICAgaWYgKCFjb21tb25fZGVmaW5lcy5yZXNlcnZlZF9icnVzaF9hY3Rpb25zLmluY2x1ZGVzKGFsbF9mbGF0dGVuZWRfYnJ1c2hfYWN0aW9uc1tpXSkpIHtcbiAgICAyNVx0ICAgICAgICByZXR1cm5fYWN0aW9ucy5wdXNoKGZsYXR0ZW5lZF9icnVzaF9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfYnJ1c2hfYWN0aW9uc1tpXV0pO1xuICAgIDI2XHQgICAgICAgIHJldHVybl9rZXlzLnB1c2goYWxsX2ZsYXR0ZW5lZF9icnVzaF9hY3Rpb25zW2ldKTtcbiAgICAyN1x0ICAgICAgfVxuLi4uXG4gICAgMzhcdFxuICAgIDM5XHQgICAgUmV0dXJuczogKE9iamVjdC9TdHJpbmcpXG4gICAgNDBcdCAgKi9cbiAgICA0MVx0ICBmdW5jdGlvbiBnZXRCcnVzaEFjdGlvbiAoYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcbiAgICA0Mlx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICA0M1x0ICAgIHZhciBuYW1lID0gYXJnMF9uYW1lO1xuICAgIDQ0XHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuICAgIDQ1XHRcbiAgICA0Nlx0ICAgIC8vR3VhcmQgY2xhdXNlIGZvciBvYmplY3RzOyBkaXJlY3Qga2V5c1xuICAgIDQ3XHQgICAgaWYgKHR5cGVvZiBuYW1lID09IFwib2JqZWN0XCIpIHJldHVybiBuYW1lO1xuICAgIDQ4XHQgICAgaWYgKGNvbmZpZy5mbGF0dGVuZWRfYnJ1c2hfYWN0aW9uc1tuYW1lXSkgcmV0dXJuICghb3B0aW9ucy5yZXR1cm5fa2V5KSA/IGNvbmZpZy5mbGF0dGVuZWRfYnJ1c2hfYWN0aW9uc1tuYW1lXSA6IG5hbWU7XG4gICAgNDlcdFxuICAgIDUwXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgIDUxXHQgICAgdmFyIGJydXNoX2FjdGlvbnNfZXhpc3RzID0gW2ZhbHNlLCBcIlwiXTsgLy9bYnJ1c2hfYWN0aW9uc19leGlzdHMsIGJydXNoX2FjdGlvbnNfa2V5XTtcbiAgICA1Mlx0ICAgIHZhciBzZWFyY2hfbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG4uLi5cbiAgIDI1M1x0XG4gICAyNTRcdCAgLypcbiAgIDI1NVx0ICAgIGdldEJydXNoQWN0aW9uc05hdmlnYXRpb25PYmplY3QoKSAtIEZldGNoZXMgdGhlIG5hdmlnYXRpb24gb2JqZWN0IGZvciBicnVzaCBhY3Rpb25zOyB0aGUgaW5pdGlhbCBjb250ZXh0IG1lbnUgZnJvbSB0aGUgbG93ZXN0IG9yZGVyLlxuICAgMjU2XHRcbiAgIDI1N1x0ICAgIFJldHVybnM6IChPYmplY3QpXG4gICAyNThcdCAgKi9cbiAgIDI1OVx0ICBmdW5jdGlvbiBnZXRCcnVzaEFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0ICgpIHtcbiAgIDI2MFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDI2MVx0ICAgIHZhciBmbGF0dGVuZWRfYnJ1c2hfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfYnJ1c2hfYWN0aW9ucztcbiAgIDI2Mlx0ICAgIHZhciBsb3dlc3Rfb3JkZXIgPSBnZXRCcnVzaEFjdGlvbnNMb3dlc3RPcmRlcigpO1xuICAgMjYzXHRcbiAgIDI2NFx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMjY1XHQgICAgcmV0dXJuIGdldEJydXNoQWN0aW9uc0F0T3JkZXIoeyBvcmRlcjogbG93ZXN0X29yZGVyLCByZXR1cm5fb2JqZWN0OiB0cnVlIH0pO1xuICAgMjY2XHQgIH1cbiAgIDI2N1x0fVxuLi4uXG5QYXRoOiBzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBFbnRpdHkgS2V5ZnJhbWVzIGFjdGlvbnNcbiAgICAgMlx0e1xuICAgICAzXHQgIGZ1bmN0aW9uIGRlbGV0ZUtleWZyYW1lIChhcmcwX2VudGl0eV9pZCwgYXJnMV90aW1lc3RhbXApIHsgLy9bV0lQXSAtIERlbGV0aW5nIGEga2V5ZnJhbWUgc2hvdWxkIHVwZGF0ZSB0aGUgYmlvIGFuZCBjbG9zZSB0aGUga2V5ZnJhbWUgY29udGV4dCBtZW51cy4gSXQgY3VycmVudGx5IGRvZXMgbm90XG4gICAgIDRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgIDVcdCAgICB2YXIgZW50aXR5X2lkID0gYXJnMF9lbnRpdHlfaWQ7XG4gICAgIDZcdCAgICB2YXIgdGltZXN0YW1wID0gYXJnMV90aW1lc3RhbXA7XG4gICAgIDdcdFxuICAgICA4XHQgICAgLy9EZWxldGUga2V5ZnJhbWU7IHVwZGF0ZSBiaW8gW1dJUF0gLSBNYWtlIHN1cmUgdG8gdXBkYXRlIGJpb1xuICAgICA5XHQgICAgY2xvc2VFbnRpdHlLZXlmcmFtZUNvbnRleHRNZW51cyhlbnRpdHlfaWQpO1xuICAgIDEwXHQgICAgZGVsZXRlSGlzdG9yeUZyYW1lKGVudGl0eV9pZCwgdGltZXN0YW1wKTtcbiAgICAxMVx0XG4gICAgMTJcdCAgICBwcmludEVudGl0eUJpbyhlbnRpdHlfaWQpO1xuICAgIDEzXHQgIH1cbi4uLlxuICAgIDMzXHRcbiAgICAzNFx0ICBmdW5jdGlvbiBtb3ZlS2V5ZnJhbWUgKGFyZzBfZW50aXR5X2lkLCBhcmcxX2RhdGUsIGFyZzJfZGF0ZSkgeyAvL1tXSVBdIC0gVGhpcyBzaG91bGQgdXBkYXRlIHRoZSBiaW8gYW5kIGFkanVzdCBhbnkgb3BlbiBjb250ZXh0IG1lbnVzIHRpZWQgdG8gYSBrZXlmcmFtZS4gKCdwbGFjZWhvbGRlcjogXCJ0aW1lc3RhbXBcIicpIEl0IGRvZXMgbm90LlxuICAgIDM1XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDM2XHQgICAgdmFyIGVudGl0eV9pZCA9IGFyZzBfZW50aXR5X2lkO1xuICAgIDM3XHQgICAgdmFyIGVudHJ5X2RhdGUgPSBhcmcxX2RhdGU7XG4gICAgMzhcdCAgICB2YXIgbW92ZV90b19kYXRlID0gYXJnMl9kYXRlO1xuICAgIDM5XHRcbiAgICA0MFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICA0MVx0ICAgIHZhciBjb21tb25fc2VsZWN0b3JzID0gY29uZmlnLmRlZmluZXMuY29tbW9uLnNlbGVjdG9ycztcbiAgICA0Mlx0ICAgIHZhciBlbnRpdHlfZWwgPSBnZXRFbnRpdHlFbGVtZW50KGVudGl0eV9pZCk7XG4gICAgNDNcdFxuICAgIDQ0XHQgICAgdmFyIGVudGl0eV9vYmogPSBnZXRFbnRpdHkoZW50aXR5X2lkKTtcbiAgICA0NVx0ICAgIHZhciBoaXN0b3J5X2VudHJ5ID0gZ2V0QWJzb2x1dGVIaXN0b3J5RnJhbWUoZW50aXR5X2lkLCBlbnRyeV9kYXRlKTtcbiAgICA0Nlx0ICAgIHZhciBuZXdfdGltZXN0YW1wID0gZ2V0VGltZXN0YW1wKG1vdmVfdG9fZGF0ZSk7XG4gICAgNDdcdCAgICB2YXIgb2xkX3RpbWVzdGFtcCA9IGdldFRpbWVzdGFtcChjb252ZXJ0VGltZXN0YW1wVG9EYXRlKGVudHJ5X2RhdGUpKTtcbiAgICA0OFx0ICAgIHZhciBwb3B1cF9lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5lbnRpdHktdWktcGFuZVtjbGFzc349JyR7ZW50aXR5X2lkfSddYCk7XG4uLi5cbiAgICA4OVx0XG4gICAgOTBcdC8vSW5pdGlhbGlzZSBFbnRpdHkgS2V5ZnJhbWVzIGZyYW1ld29ya1xuICAgIDkxXHR7XG4gICAgOTJcdCAgLypcbiAgICA5M1x0ICAgIGdldEFsbEVudGl0eUtleWZyYW1lcygpIC0gRmV0Y2hlcyBhbGwgZW50aXR5IGtleWZyYW1lcyBhcyBlaXRoZXIgYW4gYXJyYXkgb2Yga2V5cyBvciBvYmplY3RzLlxuICAgIDk0XHQgICAgYXJnMF9vcHRpb25zOiAoT2JqZWN0KVxuICAgIDk1XHQgICAgICByZXR1cm5fa2V5czogKEJvb2xlYW4pIC0gT3B0aW9uYWwuIFdoZXRoZXIgb3Igbm90IHRvIHJldHVybiBhbiBhcnJheSBvZiBrZXlzIGluc3RlYWQgb2Ygb2JqZWN0cy4gRmFsc2UgYnkgZGVmYXVsdC5cbiAgICA5Nlx0XG4gICAgOTdcdCAgICBSZXR1cm5zOiAoQXJyYXk8T2JqZWN0Pi9BcnJheTxTdHJpbmc+KVxuICAgIDk4XHQgICovXG4gICAgOTlcdCAgZnVuY3Rpb24gZ2V0QWxsRW50aXR5S2V5ZnJhbWVzIChhcmcwX29wdGlvbnMpIHtcbiAgIDEwMFx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgIDEwMVx0ICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgIDEwMlx0XG4gICAxMDNcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxMDRcdCAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAxMDVcdCAgICB2YXIgZmxhdHRlbmVkX2VudGl0eV9rZXlmcmFtZXMgPSBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9rZXlmcmFtZXM7XG4gICAxMDZcdCAgICB2YXIgcmV0dXJuX2tleWZyYW1lcyA9IFtdO1xuICAgMTA3XHQgICAgdmFyIHJldHVybl9rZXlzID0gW107XG4gICAxMDhcdFxuICAgMTA5XHQgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzXG4gICAxMTBcdCAgICB2YXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzID0gT2JqZWN0LmtleXMoZmxhdHRlbmVkX2VudGl0eV9rZXlmcmFtZXMpO1xuLi4uXG4gICAzNDJcdFxuICAgMzQzXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAzNDRcdCAgICByZXR1cm4gbWluX29yZGVyO1xuICAgMzQ1XHQgIH1cbiAgIDM0Nlx0XG4gICAzNDdcdCAgLypcbiAgIDM0OFx0ICAgIGdldEVudGl0eUtleWZyYW1lc05hdmlnYXRpb25PYmplY3QoKSAtIEZldGNoZXMgdGhlIG5hdmlnYXRpb24gb2JqZWN0IGZvciBlbnRpdHkga2V5ZnJhbWVzOyB0aGUgaW5pdGlhbCBjb250ZXh0IG1lbnUgZnJvbSBsb3dlc3Qgb3JkZXIuXG4gICAzNDlcdFxuICAgMzUwXHQgICAgUmV0dXJuczogKE9iamVjdClcbiAgIDM1MVx0ICAqL1xuICAgMzUyXHQgIGZ1bmN0aW9uIGdldEVudGl0eUtleWZyYW1lc05hdmlnYXRpb25PYmplY3QgKCkge1xuICAgMzUzXHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMzU0XHQgICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzID0gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzO1xuICAgMzU1XHQgICAgdmFyIGxvd2VzdF9vcmRlciA9IGdldEVudGl0eUtleWZyYW1lc0xvd2VzdE9yZGVyKGZsYXR0ZW5lZF9lbnRpdHlfa2V5ZnJhbWVzKTtcbiAgIDM1Nlx0XG4gICAzNTdcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDM1OFx0ICAgIHJldHVybiBnZXRFbnRpdHlLZXlmcmFtZXNBdE9yZGVyKHsgb3JkZXI6IGxvd2VzdF9vcmRlciB9KVswXTtcbiAgIDM1OVx0ICB9XG4gICAzNjBcdH1cbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9hY3Rpb25zL2VudGl0aWVzL3NpbXBsaWZ5X2FsbF9lbnRpdHlfa2V5ZnJhbWVzLmpzXG4gICAgIDFcdC8vSW5pdGlhbGlzZSBmdW5jdGlvbnNcbiAgICAgMlx0e1xuICAgICAzXHQgIC8qXG4gICAgIDRcdCAgICBzaW1wbGlmeUFsbEVudGl0eUtleWZyYW1lcygpIC0gU2ltcGxpZmllcyBhbGwgZW50aXR5IGtleWZyYW1lIHBhdGhzIHRvIGEgZ2l2ZW4gdG9sZXJhbmNlLlxuICAgICA1XHQgICAgYXJnMF9lbnRpdHlfaWQ6IChTdHJpbmcpIC0gVGhlIGVudGl0eSBJRCB0byBzaW1wbGlmeSBhbGwga2V5ZnJhbWVzIGZvci5cbiAgICAgNlx0ICAgIGFyZzFfdG9sZXJhbmNlOiAoTnVtYmVyKSAtIFRoZSB0b2xlcmFuY2UgdG8gc2ltcGxpZnkgdGhlIGtleWZyYW1lcyB0by5cbiAgICAgN1x0XG4gICAgIDhcdCAgICBSZXR1cm5zOiAoTnVtYmVyKVxuICAgICA5XHQgICovXG4gICAgMTBcdCAgZnVuY3Rpb24gc2ltcGxpZnlBbGxFbnRpdHlLZXlmcmFtZXMgKGFyZzBfZW50aXR5X2lkLCBhcmcxX3RvbGVyYW5jZSkge1xuICAgIDExXHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgIDEyXHQgICAgdmFyIGVudGl0eV9pZCA9IGFyZzBfZW50aXR5X2lkO1xuICAgIDEzXHQgICAgdmFyIHRvbGVyYW5jZSA9IGFyZzFfdG9sZXJhbmNlO1xuICAgIDE0XHRcbiAgICAxNVx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICAxNlx0ICAgIHZhciBlbnRpdHlfb2JqID0gKHR5cGVvZiBlbnRpdHlfaWQgIT0gXCJvYmplY3RcIikgPyBnZXRFbnRpdHkoZW50aXR5X2lkKSA6IGVudGl0eV9pZDtcbi4uLlxuUGF0aDogc3JjL2pzL2ZyYW1ld29yay9vcHRpbWlzYXRpb25fZnJhbWV3b3JrLmpzXG4gICAgIDFcdC8vRGVjbGFyZSBmdW5jdGlvblxuICAgICAyXHR7XG4gICAgIDNcdCAgZnVuY3Rpb24gaW5pdE9wdGltaXNhdGlvbiAoKSB7XG4gICAgIDRcdCAgICAvL0JSVVNIIEFDVElPTlNcbiAgICAgNVx0ICAgIC8vU2V0IC5hbGxfYnJ1c2hfYWN0aW9uczsgLmFsbF9icnVzaF9hY3Rpb25zX2tleXNcbiAgICAgNlx0ICAgIGNvbmZpZy5mbGF0dGVuZWRfYnJ1c2hfYWN0aW9ucyA9IGR1bWJGbGF0dGVuT2JqZWN0KGNvbmZpZy5icnVzaF9hY3Rpb25zKTtcbiAgICAgN1x0XG4gICAgIDhcdCAgICBjb25maWcuYWxsX2JydXNoX2FjdGlvbnMgPSBnZXRBbGxCcnVzaEFjdGlvbnMoKTtcbiAgICAgOVx0ICAgIGNvbmZpZy5hbGxfYnJ1c2hfYWN0aW9uc19rZXlzID0gZ2V0QWxsQnJ1c2hBY3Rpb25zKHsgcmV0dXJuX2tleXM6IHRydWUgfSk7XG4gICAgMTBcdCAgICBjb25maWcuYnJ1c2hfYWN0aW9uc19sb3dlc3Rfb3JkZXIgPSBnZXRCcnVzaEFjdGlvbnNMb3dlc3RPcmRlcigpO1xuICAgIDExXHRcbiAgICAxMlx0ICAgIC8vRU5USVRZIEFDVElPTlNcbiAgICAxM1x0ICAgIC8vU2V0IC5hbGxfZW50aXR5X2FjdGlvbnM7IC5hbGxfZW50aXR5X2FjdGlvbnNfa2V5c1xuICAgIDE0XHQgICAgY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGR1bWJGbGF0dGVuT2JqZWN0KGNvbmZpZy5lbnRpdHlfYWN0aW9ucyk7XG4gICAgMTVcdFxuICAgIDE2XHQgICAgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9ucyA9IGdldEFsbEVudGl0eUFjdGlvbnMoKTtcbiAgICAxN1x0ICAgIGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNfa2V5cyA9IGdldEFsbEVudGl0eUFjdGlvbnMoeyByZXR1cm5fa2V5czogdHJ1ZSB9KTtcbiAgICAxOFx0ICAgIGNvbmZpZy5lbnRpdHlfYWN0aW9uc19sb3dlc3Rfb3JkZXIgPSBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIoKTtcbi4uLlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZTQ1YWIzZTktMDgwMi00NzcyLTgxZjYtYTdlYWFkZjIzMWIwO3Rvb2x1X3ZydHhfMDFMaEd3THI0eDh3M1RhZHBqWWE1c1ZtIjp7InJlcXVlc3RJZCI6ImU0NWFiM2U5LTA4MDItNDc3Mi04MWY2LWE3ZWFhZGYyMzFiMCIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFMaEd3THI0eDh3M1RhZHBqWWE1c1ZtIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcy5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgNjNcdCAgICAgICAgYnRuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYnRuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikucmVwbGFjZShcIiBtaW5pbWlzZS1pY29uXCIsIFwiIHJldmVyc2UtbWluaW1pc2UtaWNvblwiKSkgOlxuICAgIDY0XHQgICAgICAgIGJ0bl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGJ0bl9lbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLnJlcGxhY2UoXCIgcmV2ZXJzZS1taW5pbWlzZS1pY29uXCIsIFwiIG1pbmltaXNlLWljb25cIikpO1xuICAgIDY1XHQgIH1cbiAgICA2Nlx0XG4gICAgNjdcdCAgLyoqXG4gICAgNjhcdCAgICogY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zKCkgLSBDcmVhdGVzIHN0YW5kYXJkIGZyYW1ld29yayBmdW5jdGlvbnMgdG8gcmVkdWNlIGJvaWxlcnBsYXRlIGNvZGUuXG4gICAgNjlcdCAgICogQHBhcmFtIHtPYmplY3R9IGFyZzBfb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGZyYW1ld29yayBmdW5jdGlvbnMuXG4gICAgNzBcdCAgICogIEBwYXJhbSB7U3RyaW5nfSBhcmcwX29wdGlvbnMubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBmcmFtZXdvcmsgKGUuZy4sIFwiZW50aXR5X2FjdGlvbnNcIiwgXCJ2YXJpYWJsZV9hY3Rpb25zXCIpLlxuICAgIDcxXHQgICAqICBAcGFyYW0ge1N0cmluZ30gYXJnMF9vcHRpb25zLmNvbmZpZ0tleSAtIFRoZSBrZXkgaW4gdGhlIGNvbmZpZyBvYmplY3Qgd2hlcmUgdGhlIGRhdGEgaXMgc3RvcmVkLlxuICAgIDcyXHQgICAqICBAcGFyYW0ge1N0cmluZ30gYXJnMF9vcHRpb25zLmZsYXR0ZW5lZEtleSAtIFRoZSBrZXkgaW4gdGhlIGNvbmZpZyBvYmplY3Qgd2hlcmUgdGhlIGZsYXR0ZW5lZCBkYXRhIGlzIHN0b3JlZC5cbiAgICA3M1x0ICAgKiAgQHBhcmFtIHtBcnJheTxTdHJpbmc+fSBbYXJnMF9vcHRpb25zLnJlc2VydmVkS2V5XSAtIE9wdGlvbmFsLiBUaGUga2V5IGluIGNvbW1vbl9kZWZpbmVzIGZvciByZXNlcnZlZCBpdGVtcy5cbiAgICA3NFx0ICAgKiAgQHBhcmFtIHtTdHJpbmd9IFthcmcwX29wdGlvbnMuc2luZ3VsYXJOYW1lXSAtIE9wdGlvbmFsLiBUaGUgc2luZ3VsYXIgbmFtZSB1c2VkIGluIGZ1bmN0aW9uIG5hbWVzIChkZWZhdWx0cyB0byBuYW1lIHdpdGhvdXQgdHJhaWxpbmcgJ3MnKS5cbiAgICA3NVx0ICAgKiAgQHBhcmFtIHtCb29sZWFufSBbYXJnMF9vcHRpb25zLnVzZU1vZGVybkpTRG9jPWZhbHNlXSAtIE9wdGlvbmFsLiBXaGV0aGVyIHRvIHVzZSBtb2Rlcm4gSlNEb2MgY29tbWVudHMgaW5zdGVhZCBvZiB0cmFkaXRpb25hbCBjb21tZW50cy5cbiAgICA3Nlx0ICAgKiAgQHBhcmFtIHtCb29sZWFufSBbYXJnMF9vcHRpb25zLm5hdmlnYXRpb25SZXR1cm5zQXJyYXk9ZmFsc2VdIC0gT3B0aW9uYWwuIFdoZXRoZXIgdGhlIG5hdmlnYXRpb24gb2JqZWN0IGZ1bmN0aW9uIHJldHVybnMgYW4gYXJyYXkgZWxlbWVudCBbMF0gb3IgdGhlIGZ1bGwgb2JqZWN0LlxuICAgIDc3XHQgICAqICBAcGFyYW0ge09iamVjdH0gW2FyZzBfb3B0aW9ucy5hZGRpdGlvbmFsRnVuY3Rpb25zXSAtIE9wdGlvbmFsLiBBZGRpdGlvbmFsIGN1c3RvbSBmdW5jdGlvbnMgc3BlY2lmaWMgdG8gdGhpcyBmcmFtZXdvcmsuXG4gICAgNzhcdCAgICpcbiAgICA3OVx0ICAgKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIGdlbmVyYXRlZCBmcmFtZXdvcmsgZnVuY3Rpb25zLlxuICAgIDgwXHQgICAqL1xuICAgIDgxXHQgIGZ1bmN0aW9uIGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9ucyAoYXJnMF9vcHRpb25zKSB7XG4gICAgODJcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAgODNcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAgODRcdFxuICAgIDg1XHQgICAgLy9WYWxpZGF0ZSByZXF1aXJlZCBvcHRpb25zXG4gICAgODZcdCAgICBpZiAoIW9wdGlvbnMubmFtZSkgdGhyb3cgbmV3IEVycm9yKFwiY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zOiBuYW1lIGlzIHJlcXVpcmVkXCIpO1xuICAgIDg3XHQgICAgaWYgKCFvcHRpb25zLmNvbmZpZ0tleSkgdGhyb3cgbmV3IEVycm9yKFwiY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zOiBjb25maWdLZXkgaXMgcmVxdWlyZWRcIik7XG4gICAgODhcdCAgICBpZiAoIW9wdGlvbnMuZmxhdHRlbmVkS2V5KSB0aHJvdyBuZXcgRXJyb3IoXCJjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnM6IGZsYXR0ZW5lZEtleSBpcyByZXF1aXJlZFwiKTtcbiAgICA4OVx0XG4gICAgOTBcdCAgICAvL1NldCBkZWZhdWx0IG9wdGlvbnNcbiAgICA5MVx0ICAgIHZhciBzaW5ndWxhck5hbWUgPSBvcHRpb25zLnNpbmd1bGFyTmFtZSB8fCBvcHRpb25zLm5hbWUucmVwbGFjZSgvcyQvLCBcIlwiKTtcbiAgICA5Mlx0ICAgIHZhciBjYXBpdGFsaXplZE5hbWUgPSBzaW5ndWxhck5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzaW5ndWxhck5hbWUuc2xpY2UoMSk7XG4gICAgOTNcdCAgICB2YXIgdXNlTW9kZXJuSlNEb2MgPSBvcHRpb25zLnVzZU1vZGVybkpTRG9jIHx8IGZhbHNlO1xuICAgIDk0XHQgICAgdmFyIG5hdmlnYXRpb25SZXR1cm5zQXJyYXkgPSBvcHRpb25zLm5hdmlnYXRpb25SZXR1cm5zQXJyYXkgfHwgZmFsc2U7XG4gICAgOTVcdFxuICAgIDk2XHQgICAgLy9DcmVhdGUgZnVuY3Rpb24gb2JqZWN0IHRvIHJldHVyblxuICAgIDk3XHQgICAgdmFyIGZyYW1ld29ya0Z1bmN0aW9ucyA9IHt9O1xuICAgIDk4XHRcbiAgICA5OVx0ICAgIC8vQ3JlYXRlIGdldEFsbFggZnVuY3Rpb25cbiAgIDEwMFx0ICAgIHZhciBnZXRBbGxGdW5jdGlvbk5hbWUgPSBcImdldEFsbFwiICsgY2FwaXRhbGl6ZWROYW1lICsgXCJzXCI7XG4gICAxMDFcdCAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0QWxsRnVuY3Rpb25OYW1lXSA9IGZ1bmN0aW9uKGFyZzBfb3B0aW9ucykge1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJjZjMzOTZjNS01OGJjLTQyZDAtYjZiMC03ODE0YjMzMTgxNzk7dG9vbHVfdnJ0eF8wMUxXcWpSTWpyRzYzNzJ4aERtZVNMbngiOnsicmVxdWVzdElkIjoiY2YzMzk2YzUtNThiYy00MmQwLWI2YjAtNzgxNGIzMzE4MTc5IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMUxXcWpSTWpyRzYzNzJ4aERtZVNMbngiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDI0NVx0ICAgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAyNDZcdCAgICAgIHJldHVybiAobG93ZXN0X29yZGVyICE9IEluZmluaXR5KSA/IGxvd2VzdF9vcmRlciA6IDE7XG4gICAyNDdcdCAgICB9O1xuICAgMjQ4XHRcbiAgIDI0OVx0ICAgIC8vQ3JlYXRlIGdldFhOYXZpZ2F0aW9uT2JqZWN0IGZ1bmN0aW9uXG4gICAyNTBcdCAgICB2YXIgZ2V0TmF2aWdhdGlvbk9iamVjdEZ1bmN0aW9uTmFtZSA9IFwiZ2V0XCIgKyBjYXBpdGFsaXplZE5hbWUgKyBcInNOYXZpZ2F0aW9uT2JqZWN0XCI7XG4gICAyNTFcdCAgICBmcmFtZXdvcmtGdW5jdGlvbnNbZ2V0TmF2aWdhdGlvbk9iamVjdEZ1bmN0aW9uTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgIDI1Mlx0ICAgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMjUzXHQgICAgICB2YXIgZmxhdHRlbmVkX2l0ZW1zID0gY29uZmlnW29wdGlvbnMuZmxhdHRlbmVkS2V5XTtcbiAgIDI1NFx0ICAgICAgdmFyIGxvd2VzdF9vcmRlciA9IGZyYW1ld29ya0Z1bmN0aW9uc1tnZXRMb3dlc3RPcmRlckZ1bmN0aW9uTmFtZV0oZmxhdHRlbmVkX2l0ZW1zKTtcbiAgIDI1NVx0XG4gICAyNTZcdCAgICAgIC8vUmV0dXJuIHN0YXRlbWVudCAtIGhhbmRsZSBkaWZmZXJlbnQgcmV0dXJuIHR5cGVzIGJhc2VkIG9uIGZyYW1ld29ya1xuICAgMjU3XHQgICAgICB2YXIgcmVzdWx0ID0gZnJhbWV3b3JrRnVuY3Rpb25zW2dldEF0T3JkZXJGdW5jdGlvbk5hbWVdKHtcbiAgIDI1OFx0ICAgICAgICBvcmRlcjogbG93ZXN0X29yZGVyLFxuICAgMjU5XHQgICAgICAgIHJldHVybl9vYmplY3Q6ICFuYXZpZ2F0aW9uUmV0dXJuc0FycmF5XG4gICAyNjBcdCAgICAgIH0pO1xuICAgMjYxXHRcbiAgIDI2Mlx0ICAgICAgcmV0dXJuIG5hdmlnYXRpb25SZXR1cm5zQXJyYXkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gICAyNjNcdCAgICB9O1xuICAgMjY0XHRcbiAgIDI2NVx0ICAgIHJldHVybiBmcmFtZXdvcmtGdW5jdGlvbnM7XG4gICAyNjZcdCAgfVxuICAgMjY3XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYzY3YzcwYWItOGQ2YS00NmRlLWE5ZTMtMDNkYTYwMjZiYWE2O3Rvb2x1X3ZydHhfMDFBR3RhY0dBUWRqRlo1RVRzZ3JlaTlzIjp7InJlcXVlc3RJZCI6ImM2N2M3MGFiLThkNmEtNDZkZS1hOWUzLTAzZGE2MDI2YmFhNiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFBR3RhY0dBUWRqRlo1RVRzZ3JlaTlzIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvanMvaW50ZXJmYWNlL3VpX2ZyYW1ld29yay5qcy5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAyNThcdCAgICAgICAgb3JkZXI6IGxvd2VzdF9vcmRlcixcbiAgIDI1OVx0ICAgICAgICByZXR1cm5fb2JqZWN0OiAhbmF2aWdhdGlvblJldHVybnNBcnJheVxuICAgMjYwXHQgICAgICB9KTtcbiAgIDI2MVx0XG4gICAyNjJcdCAgICAgIHJldHVybiBuYXZpZ2F0aW9uUmV0dXJuc0FycmF5ID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgMjYzXHQgICAgfTtcbiAgIDI2NFx0XG4gICAyNjVcdCAgICAvLyBBZGQgYW55IGFkZGl0aW9uYWwgY3VzdG9tIGZ1bmN0aW9ucyBzcGVjaWZpYyB0byB0aGlzIGZyYW1ld29ya1xuICAgMjY2XHQgICAgaWYgKG9wdGlvbnMuYWRkaXRpb25hbEZ1bmN0aW9ucykge1xuICAgMjY3XHQgICAgICB2YXIgYWRkaXRpb25hbEZ1bmN0aW9uS2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMuYWRkaXRpb25hbEZ1bmN0aW9ucyk7XG4gICAyNjhcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWRkaXRpb25hbEZ1bmN0aW9uS2V5cy5sZW5ndGg7IGkrKykge1xuICAgMjY5XHQgICAgICAgIHZhciBmdW5jdGlvbktleSA9IGFkZGl0aW9uYWxGdW5jdGlvbktleXNbaV07XG4gICAyNzBcdCAgICAgICAgZnJhbWV3b3JrRnVuY3Rpb25zW2Z1bmN0aW9uS2V5XSA9IG9wdGlvbnMuYWRkaXRpb25hbEZ1bmN0aW9uc1tmdW5jdGlvbktleV07XG4gICAyNzFcdCAgICAgIH1cbiAgIDI3Mlx0ICAgIH1cbiAgIDI3M1x0XG4gICAyNzRcdCAgICByZXR1cm4gZnJhbWV3b3JrRnVuY3Rpb25zO1xuICAgMjc1XHQgIH1cbiAgIDI3Nlx0XG4gICAyNzdcdCAgLyoqXG4gICAyNzhcdCAgICogVXNhZ2UgZXhhbXBsZSBmb3IgY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zOlxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJmYmE0Njk2MC1kNWUyLTQ4YzktYjQyNC05ZmJjZWRmYzIwMzc7dG9vbHVfdnJ0eF8wMThGY0RvUkRTaVpqY1NoMmRnMkxkN3YiOnsicmVxdWVzdElkIjoiZmJhNDY5NjAtZDVlMi00OGM5LWI0MjQtOWZiY2VkZmMyMDM3IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMThGY0RvUkRTaVpqY1NoMmRnMkxkN3YiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9qcy9pbnRlcmZhY2UvdWlfZnJhbWV3b3JrLmpzLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDI3M1x0XG4gICAyNzRcdCAgICByZXR1cm4gZnJhbWV3b3JrRnVuY3Rpb25zO1xuICAgMjc1XHQgIH1cbiAgIDI3Nlx0XG4gICAyNzdcdCAgLyoqXG4gICAyNzhcdCAgICogVXNhZ2UgZXhhbXBsZXMgZm9yIGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9uczpcbiAgIDI3OVx0ICAgKlxuICAgMjgwXHQgICAqIC8vIEZvciBlbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanNcbiAgIDI4MVx0ICAgKiB2YXIgZW50aXR5QWN0aW9uc0Z1bmN0aW9ucyA9IGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9ucyh7XG4gICAyODJcdCAgICogICBuYW1lOiBcImVudGl0eV9hY3Rpb25zXCIsXG4gICAyODNcdCAgICogICBjb25maWdLZXk6IFwiZW50aXR5X2FjdGlvbnNcIixcbiAgIDI4NFx0ICAgKiAgIGZsYXR0ZW5lZEtleTogXCJmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNcIixcbiAgIDI4NVx0ICAgKiAgIHJlc2VydmVkS2V5OiBcInJlc2VydmVkX2VudGl0eV9hY3Rpb25zXCJcbiAgIDI4Nlx0ICAgKiB9KTtcbiAgIDI4N1x0ICAgKlxuICAgMjg4XHQgICAqIC8vIFRoZW4gYXNzaWduIHRoZSBmdW5jdGlvbnMgdG8gdGhlIGdsb2JhbCBzY29wZVxuICAgMjg5XHQgICAqIHdpbmRvdy5nZXRBbGxFbnRpdHlBY3Rpb25zID0gZW50aXR5QWN0aW9uc0Z1bmN0aW9ucy5nZXRBbGxFbnRpdHlBY3Rpb25zO1xuICAgMjkwXHQgICAqIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb24gPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbjtcbiAgIDI5MVx0ICAgKiB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXIgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbnNBdE9yZGVyO1xuICAgMjkyXHQgICAqIHdpbmRvdy5nZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbnNMb3dlc3RPcmRlcjtcbiAgIDI5M1x0ICAgKiB3aW5kb3cuZ2V0RW50aXR5QWN0aW9uc05hdmlnYXRpb25PYmplY3QgPSBlbnRpdHlBY3Rpb25zRnVuY3Rpb25zLmdldEVudGl0eUFjdGlvbnNOYXZpZ2F0aW9uT2JqZWN0O1xuICAgMjk0XHQgICAqXG4gICAyOTVcdCAgICogLy8gRm9yIGVudGl0eV9rZXlmcmFtZXNfZnJhbWV3b3JrLmpzIHdpdGggYWRkaXRpb25hbCBmdW5jdGlvbnNcbiAgIDI5Nlx0ICAgKiB2YXIgZW50aXR5S2V5ZnJhbWVzRnVuY3Rpb25zID0gY3JlYXRlRnJhbWV3b3JrRnVuY3Rpb25zKHtcbiAgIDI5N1x0ICAgKiAgIG5hbWU6IFwiZW50aXR5X2tleWZyYW1lc1wiLFxuICAgMjk4XHQgICAqICAgY29uZmlnS2V5OiBcImVudGl0eV9rZXlmcmFtZXNcIixcbiAgIDI5OVx0ICAgKiAgIGZsYXR0ZW5lZEtleTogXCJmbGF0dGVuZWRfZW50aXR5X2tleWZyYW1lc1wiLFxuICAgMzAwXHQgICAqICAgcmVzZXJ2ZWRLZXk6IFwicmVzZXJ2ZWRfZW50aXR5X2tleWZyYW1lc1wiLFxuICAgMzAxXHQgICAqICAgbmF2aWdhdGlvblJldHVybnNBcnJheTogdHJ1ZSxcbiAgIDMwMlx0ICAgKiAgIGFkZGl0aW9uYWxGdW5jdGlvbnM6IHtcbiAgIDMwM1x0ICAgKiAgICAgZGVsZXRlS2V5ZnJhbWU6IGZ1bmN0aW9uKGFyZzBfZW50aXR5X2lkLCBhcmcxX3RpbWVzdGFtcCkge1xuICAgMzA0XHQgICAqICAgICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgIDMwNVx0ICAgKiAgICAgICB2YXIgZW50aXR5X2lkID0gYXJnMF9lbnRpdHlfaWQ7XG4gICAzMDZcdCAgICogICAgICAgdmFyIHRpbWVzdGFtcCA9IGFyZzFfdGltZXN0YW1wO1xuICAgMzA3XHQgICAqXG4gICAzMDhcdCAgICogICAgICAgLy9EZWxldGUga2V5ZnJhbWU7IHVwZGF0ZSBiaW9cbiAgIDMwOVx0ICAgKiAgICAgICBjbG9zZUVudGl0eUtleWZyYW1lQ29udGV4dE1lbnVzKGVudGl0eV9pZCk7XG4gICAzMTBcdCAgICogICAgICAgZGVsZXRlSGlzdG9yeUZyYW1lKGVudGl0eV9pZCwgdGltZXN0YW1wKTtcbiAgIDMxMVx0ICAgKlxuICAgMzEyXHQgICAqICAgICAgIHByaW50RW50aXR5QmlvKGVudGl0eV9pZCk7XG4gICAzMTNcdCAgICogICAgIH0sXG4gICAzMTRcdCAgICogICAgIG1vdmVLZXlmcmFtZTogZnVuY3Rpb24oYXJnMF9lbnRpdHlfaWQsIGFyZzFfZGF0ZSwgYXJnMl9kYXRlKSB7XG4gICAzMTVcdCAgICogICAgICAgLy9JbXBsZW1lbnRhdGlvbiBoZXJlLi4uXG4gICAzMTZcdCAgICogICAgIH1cbiAgIDMxN1x0ICAgKiAgIH1cbiAgIDMxOFx0ICAgKiB9KTtcbiAgIDMxOVx0ICAgKlxuICAgMzIwXHQgICAqIC8vIEZvciB2YXJpYWJsZV9hY3Rpb25zX2ZyYW1ld29yay5qcyB3aXRoIG1vZGVybiBKU0RvY1xuICAgMzIxXHQgICAqIHZhciB2YXJpYWJsZUFjdGlvbnNGdW5jdGlvbnMgPSBjcmVhdGVGcmFtZXdvcmtGdW5jdGlvbnMoe1xuICAgMzIyXHQgICAqICAgbmFtZTogXCJ2YXJpYWJsZV9hY3Rpb25zXCIsXG4gICAzMjNcdCAgICogICBjb25maWdLZXk6IFwidmFyaWFibGVzXCIsXG4gICAzMjRcdCAgICogICBmbGF0dGVuZWRLZXk6IFwiZmxhdHRlbmVkX3ZhcmlhYmxlX2FjdGlvbnNcIixcbiAgIDMyNVx0ICAgKiAgIHJlc2VydmVkS2V5OiBcInJlc2VydmVkX3ZhcmlhYmxlX2FjdGlvbnNcIixcbiAgIDMyNlx0ICAgKiAgIHVzZU1vZGVybkpTRG9jOiB0cnVlLFxuICAgMzI3XHQgICAqICAgbmF2aWdhdGlvblJldHVybnNBcnJheTogdHJ1ZVxuICAgMzI4XHQgICAqIH0pO1xuICAgMzI5XHQgICAqXG4gICAzMzBcdCAgICogLy8gRm9yIGJydXNoX2FjdGlvbnNfZnJhbWV3b3JrLmpzXG4gICAzMzFcdCAgICogdmFyIGJydXNoQWN0aW9uc0Z1bmN0aW9ucyA9IGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9ucyh7XG4gICAzMzJcdCAgICogICBuYW1lOiBcImJydXNoX2FjdGlvbnNcIixcbiAgIDMzM1x0ICAgKiAgIGNvbmZpZ0tleTogXCJicnVzaF9hY3Rpb25zXCIsXG4gICAzMzRcdCAgICogICBmbGF0dGVuZWRLZXk6IFwiZmxhdHRlbmVkX2JydXNoX2FjdGlvbnNcIixcbiAgIDMzNVx0ICAgKiAgIHJlc2VydmVkS2V5OiBcInJlc2VydmVkX2JydXNoX2FjdGlvbnNcIlxuICAgMzM2XHQgICAqIH0pO1xuICAgMzM3XHQgICAqXG4gICAzMzhcdCAgICogLy8gRm9yIGdyb3VwX2FjdGlvbnNfZnJhbWV3b3JrLmpzXG4gICAzMzlcdCAgICogdmFyIGdyb3VwQWN0aW9uc0Z1bmN0aW9ucyA9IGNyZWF0ZUZyYW1ld29ya0Z1bmN0aW9ucyh7XG4gICAzNDBcdCAgICogICBuYW1lOiBcImdyb3VwX2FjdGlvbnNcIixcbiAgIDM0MVx0ICAgKiAgIGNvbmZpZ0tleTogXCJncm91cF9hY3Rpb25zXCIsXG4gICAzNDJcdCAgICogICBmbGF0dGVuZWRLZXk6IFwiZmxhdHRlbmVkX2dyb3VwX2FjdGlvbnNcIixcbiAgIDM0M1x0ICAgKiAgIHJlc2VydmVkS2V5OiBcInJlc2VydmVkX2dyb3VwX2FjdGlvbnNcIixcbiAgIDM0NFx0ICAgKiAgIG5hdmlnYXRpb25SZXR1cm5zQXJyYXk6IHRydWVcbiAgIDM0NVx0ICAgKiB9KTtcbiAgIDM0Nlx0ICAgKi9cbiAgIDM0N1x0fVxuICAgMzQ4XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNGRiOGE2NTYtNDFkMi00MDBmLWFkM2ItNjAxNTY5NWQ2MmM5O3Rvb2x1X3ZydHhfMDFRUXh4V1dVV05jdW5yWXpOV1ZzdDFuIjp7InJlcXVlc3RJZCI6IjRkYjhhNjU2LTQxZDItNDAwZi1hZDNiLTYwMTU2OTVkNjJjOSIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFRUXh4V1dVV05jdW5yWXpOV1ZzdDFuIiwicGhhc2UiOjYsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBub3QgZm91bmQ6IHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzLiBEaWQgeW91IG1lYW4gb25lIG9mIHRoZXNlPyBzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qcyIsImlzRXJyb3IiOnRydWUsInJlcXVlc3RJZCI6IiJ9fSwiY2EyZTcxMzctODljOS00M2JiLTljMzctYTJhZmE4ZDU3OTRjO3Rvb2x1X3ZydHhfMDFBM3lmNUdwN1dMa01aa25oTVJwVkZrIjp7InJlcXVlc3RJZCI6ImNhMmU3MTM3LTg5YzktNDNiYi05YzM3LWEyYWZhOGQ1Nzk0YyIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFBM3lmNUdwN1dMa01aa25oTVJwVkZrIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG4gICAgICAgIDxyZXR1cm4tY29kZT5cbiAgICAgICAgMFxuICAgICAgICA8L3JldHVybi1jb2RlPlxuICAgICAgICA8c3Rkb3V0PlxuICAgICAgICBcdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbSC8vSW5pdGlhbGlzZSBFbnRpdHkgQWN0aW9ucyBmcmFtZXdvcmtcbntcbiAgLypcbiAgICBnZXRBbGxFbnRpdHlBY3Rpb25zKCkgLSBGZXRjaGVzIGFsbCBlbnRpdHkgYWN0aW9ucyBhcyBlaXRoZXIgYW4gYXJyYXkgb2Yga2V5cyBvciBvYmplY3RzLlxuICAgIGFyZzBfb3B0aW9uczogKE9iamVjdClcbiAgICAgIHJldHVybl9rZXlzOiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0Llx1MDAxYls4OzFIICAgIFJldHVybnM6IChBcnJheTxPYmplY3Q+L0FycmF5PFN0cmluZz4pXG4gICovXG4gIGZ1bmN0aW9uIGdldEFsbEVudGl0eUFjdGlvbnMgKGFyZzBfb3B0aW9ucykge1xuICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XHUwMDFiWzE0OzFIICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnM7XG4gICAgdmFyIHJldHVybl9hY3Rpb25zID0gW107XG4gICAgdmFyIHJldHVybl9rZXlzID0gW107XHUwMDFiWzIwOzFIICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNcblx1MDAxYl0wO0M6XFxXSU5ET1dTXFxTeXN0ZW0zMlxcV2luZG93c1Bvd2VyU2hlbGxcXHYxLjBcXHBvd2Vyc2hlbGwuZXhlXHUwMDA3XHUwMDFiWz8yNWhcbiAgICAgICAgPC9zdGRvdXQ+XG4gICAgICAgIDxzdGRlcnI+XG4gICAgICAgIFxuICAgICAgICA8L3N0ZGVycj4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJiOTc3MGVhOS00MDdiLTQwYmEtYjkyYi1jOWMxZWQ5ZWQyZjI7dG9vbHVfdnJ0eF8wMUxqZU01cmZIUVU2a1ZaZVdvS2hDRWgiOnsicmVxdWVzdElkIjoiYjk3NzBlYTktNDA3Yi00MGJhLWI5MmItYzljMWVkOWVkMmYyIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMUxqZU01cmZIUVU2a1ZaZVdvS2hDRWgiLCJwaGFzZSI6NiwicmVzdWx0Ijp7InRleHQiOiJGYWlsZWQgdG8gZWRpdCB0aGUgZmlsZSBzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qcy4gU2VlIGJlbG93IGZvciBkZXRhaWxzLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5ObyByZXBsYWNlbWVudCB3YXMgcGVyZm9ybWVkLCBvbGRTdHIgZGlkIG5vdCBhcHBlYXIgdmVyYmF0aW0gaW4gc3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanMuXG5UaGUgY29udGVudCBpbiB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbiAgICAgMVx0Ly9Jbml0aWFsaXNlIEVudGl0eSBBY3Rpb25zIGZyYW1ld29ya1xuICAgICAyXHR7XG4gICAgIDNcdCAgLypcbiAgICAgNFx0ICAgIGdldEFsbEVudGl0eUFjdGlvbnMoKSAtIEZldGNoZXMgYWxsIGVudGl0eSBhY3Rpb25zIGFzIGVpdGhlciBhbiBhcnJheSBvZiBrZXlzIG9yIG9iamVjdHMuXG4gICAgIDVcdCAgICBhcmcwX29wdGlvbnM6IChPYmplY3QpXG4gICAgIDZcdCAgICAgIHJldHVybl9rZXlzOiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0LlxuICAgICA3XHRcbiAgICAgOFx0ICAgIFJldHVybnM6IChBcnJheTxPYmplY3Q+L0FycmF5PFN0cmluZz4pXG4gICAgIDlcdCAgKi9cbiAgICAxMFx0ICBmdW5jdGlvbiBnZXRBbGxFbnRpdHlBY3Rpb25zIChhcmcwX29wdGlvbnMpIHtcbiAgICAxMVx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICAxMlx0ICAgIHZhciBvcHRpb25zID0gKGFyZzBfb3B0aW9ucykgPyBhcmcwX29wdGlvbnMgOiB7fTtcbiAgICAxM1x0XG4gICAgMTRcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgMTVcdCAgICB2YXIgY29tbW9uX2RlZmluZXMgPSBjb25maWcuZGVmaW5lcy5jb21tb247XG4gICAgMTZcdCAgICB2YXIgZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucztcbiAgICAxN1x0ICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xuICAgIDE4XHQgICAgdmFyIHJldHVybl9rZXlzID0gW107XG4gICAgMTlcdFxuICAgIDIwXHQgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1xuICAgIDIxXHQgICAgdmFyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMpO1xuICAgIDIyXHRcbiAgICAyM1x0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgICAyNFx0ICAgICAgaWYgKCFjb21tb25fZGVmaW5lcy5yZXNlcnZlZF9lbnRpdHlfYWN0aW9ucy5pbmNsdWRlcyhhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldKSkge1xuICAgIDI1XHQgICAgICAgIHJldHVybl9hY3Rpb25zLnB1c2goZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV1dKTtcbiAgICAyNlx0ICAgICAgICByZXR1cm5fa2V5cy5wdXNoKGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV0pO1xuICAgIDI3XHQgICAgICB9XG4gICAgMjhcdFxuICAgIDI5XHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAgMzBcdCAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9hY3Rpb25zKSA/IHJldHVybl9hY3Rpb25zIDogcmV0dXJuX2tleXM7XG4gICAgMzFcdCAgfVxuICAgIDMyXHRcbiAgICAzM1x0ICAvKlxuICAgIDM0XHQgICAgZ2V0RW50aXR5QWN0aW9uKCkgLSBGZXRjaGVzIGFuIGVudGl0eSBhY3Rpb24uXG4gICAgMzVcdCAgICBhcmcwX25hbWU6IChTdHJpbmcpIC0gVGhlIG5hbWUvSUQgb2YgdGhlIGVudGl0eSBhY3Rpb24gY2F0ZWdvcnkuXG4gICAgMzZcdCAgICBhcmcxX29wdGlvbnM6IChPYmplY3QpXG4gICAgMzdcdCAgICAgIHJldHVybl9rZXk6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGtleS4gRmFsc2UgYnkgZGVmYXVsdC5cbiAgICAzOFx0XG4gICAgMzlcdCAgICBSZXR1cm5zOiAoT2JqZWN0L1N0cmluZylcbiAgICA0MFx0ICAqL1xuICAgIDQxXHQgIGZ1bmN0aW9uIGdldEVudGl0eUFjdGlvbiAoYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcbiAgICA0Mlx0ICAgIC8vQ29udmVydCBmcm9tIHBhcmFtZXRlcnNcbiAgICA0M1x0ICAgIHZhciBuYW1lID0gYXJnMF9uYW1lO1xuICAgIDQ0XHQgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuICAgIDQ1XHRcbiAgICA0Nlx0ICAgIC8vR3VhcmQgY2xhdXNlIGZvciBvYmplY3RzOyBkaXJlY3Qga2V5c1xuICAgIDQ3XHQgICAgaWYgKHR5cGVvZiBuYW1lID09IFwib2JqZWN0XCIpIHJldHVybiBuYW1lO1xuICAgIDQ4XHQgICAgaWYgKGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbbmFtZV0pIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW25hbWVdIDogbmFtZTtcbiAgICA0OVx0XG4gICAgNTBcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAgNTFcdCAgICB2YXIgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW2ZhbHNlLCBcIlwiXTsgLy9bZW50aXR5X2FjdGlvbnNfZXhpc3RzLCBlbnRpdHlfYWN0aW9uc19rZXldO1xuICAgIDUyXHQgICAgdmFyIHNlYXJjaF9uYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICA1M1x0XG4gICAgNTRcdCAgICAvL0lEIHNlYXJjaCAtIHNvZnQgc2VhcmNoIDFzdCwgaGFyZCBzZWFyY2ggMm5kXG4gICAgNTVcdCAgICB7XG4gICAgNTZcdCAgICAgIC8vSXRlcmF0ZSBvdmVyIGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNcbiAgICA1N1x0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgNThcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9uc1tpXTtcbiAgICA1OVx0XG4gICAgNjBcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLmlkLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuICAgIDYxXHQgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAgNjJcdCAgICAgIH1cbiAgICA2M1x0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgNjRcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9uc1tpXTtcbiAgICA2NVx0XG4gICAgNjZcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLmlkLnRvTG93ZXJDYXNlKCkgPT0gc2VhcmNoX25hbWUpXG4gICAgNjdcdCAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgbG9jYWxfdmFsdWUua2V5XTtcbiAgICA2OFx0ICAgICAgfVxuICAgIDY5XHQgICAgfVxuICAgIDcwXHRcbiAgICA3MVx0ICAgIC8vTmFtZSBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuICAgIDcyXHQgICAge1xuICAgIDczXHQgICAgICAvL0l0ZXJhdGUgb3ZlciBjb25maWcuYWxsX2VudGl0eV9hY3Rpb25zXG4gICAgNzRcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDc1XHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNbaV07XG4gICAgNzZcdFxuICAgIDc3XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgIDc4XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAgNzlcdCAgICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBsb2NhbF92YWx1ZS5rZXldO1xuICAgIDgwXHQgICAgICB9XG4gICAgODFcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIDgyXHQgICAgICAgIHZhciBsb2NhbF92YWx1ZSA9IGNvbmZpZy5hbGxfZW50aXR5X2FjdGlvbnNbaV07XG4gICAgODNcdFxuICAgIDg0XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgIDg1XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbiAgICA4Nlx0ICAgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGxvY2FsX3ZhbHVlLmtleV07XG4gICAgODdcdCAgICAgIH1cbiAgICA4OFx0ICAgIH1cbiAgICA4OVx0XG4gICAgOTBcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgICA5MVx0ICAgIGlmIChlbnRpdHlfYWN0aW9uc19leGlzdHNbMF0pXG4gICAgOTJcdCAgICAgIHJldHVybiAoIW9wdGlvbnMucmV0dXJuX2tleSkgPyBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2VudGl0eV9hY3Rpb25zX2V4aXN0c1sxXV0gOiBlbnRpdHlfYWN0aW9uc19leGlzdHNbMV07XG4gICAgOTNcdCAgfVxuICAgIDk0XHRcbiAgICA5NVx0ICAvKlxuICAgIDk2XHQgICAgZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXIoKSAtIEZldGNoZXMgYWxsIGVudGl0eSBhY3Rpb25zIGJlbG9uZ2luZyB0byBhIGdpdmVuIC5vcmRlci5cbiAgICA5N1x0ICAgIGFyZzBfb3B0aW9uczogKE9iamVjdClcbiAgICA5OFx0ICAgICAgb3JkZXI6IChOdW1iZXIpIC0gT3B0aW9uYWwuIFRoZSBjdXJyZW50IG9yZGVyIHRvIGZldGNoIGFsbCByZWxldmFudCBhY3Rpb25zIGF0LiAxIGJ5IGRlZmF1bHQuXG4gICAgOTlcdCAgICAgIHJldHVybl9rZXlzOiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0LlxuICAgMTAwXHQgICAgICByZXR1cm5fb2JqZWN0OiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciB0byByZXR1cm4gdGhlIGFycmF5IGFzIGFuIG9iamVjdCBvciBub3QuIEZhbHNlIGJ5IGRlZmF1bHQuXG4gICAxMDFcdFxuICAgMTAyXHQgICAgUmV0dXJuczogKEFycmF5PE9iamVjdD4vQXJyYXk8U3RyaW5nPi9PYmplY3QpXG4gICAxMDNcdCAgKi9cbiAgIDEwNFx0ICBmdW5jdGlvbiBnZXRFbnRpdHlBY3Rpb25zQXRPcmRlciAoYXJnMF9vcHRpb25zKSB7XG4gICAxMDVcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAxMDZcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcwX29wdGlvbnMpID8gYXJnMF9vcHRpb25zIDoge307XG4gICAxMDdcdFxuICAgMTA4XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMTA5XHQgICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnM7XG4gICAxMTBcdCAgICB2YXIgb3JkZXIgPSAob3B0aW9ucy5vcmRlciAhPSB1bmRlZmluZWQpID8gb3B0aW9ucy5vcmRlciA6IDE7XG4gICAxMTFcdCAgICB2YXIgcmV0dXJuX2FjdGlvbnMgPSBbXTtcbiAgIDExMlx0ICAgIHZhciByZXR1cm5fb2JqID0ge307XG4gICAxMTNcdCAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgIDExNFx0XG4gICAxMTVcdCAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zXG4gICAxMTZcdCAgICB2YXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IE9iamVjdC5rZXlzKGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyk7XG4gICAxMTdcdFxuICAgMTE4XHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxMTlcdCAgICAgIHZhciBsb2NhbF9hY3Rpb24gPSBmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1tpXV07XG4gICAxMjBcdFxuICAgMTIxXHQgICAgICBpZiAobG9jYWxfYWN0aW9uLm9yZGVyID09IG9wdGlvbnMub3JkZXIpIHtcbiAgIDEyMlx0ICAgICAgICByZXR1cm5fYWN0aW9ucy5wdXNoKGxvY2FsX2FjdGlvbik7XG4gICAxMjNcdCAgICAgICAgcmV0dXJuX2tleXMucHVzaChhbGxfZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2ldKTtcbiAgIDEyNFx0ICAgICAgfVxuICAgMTI1XHQgICAgfVxuICAgMTI2XHRcbiAgIDEyN1x0ICAgIC8vb3B0aW9ucy5yZXR1cm5fb2JqZWN0IGhhbmRsZXJcbiAgIDEyOFx0ICAgIGlmIChvcHRpb25zLnJldHVybl9vYmplY3QpIHtcbiAgIDEyOVx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXR1cm5fYWN0aW9ucy5sZW5ndGg7IGkrKylcbiAgIDEzMFx0ICAgICAgICByZXR1cm5fb2JqW3JldHVybl9rZXlzW2ldXSA9IHJldHVybl9hY3Rpb25zW2ldO1xuICAgMTMxXHQgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDEzMlx0ICAgICAgcmV0dXJuIHJldHVybl9vYmo7XG4gICAxMzNcdCAgICB9XG4gICAxMzRcdFxuICAgMTM1XHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAxMzZcdCAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gcmV0dXJuX2FjdGlvbnMgOiByZXR1cm5fa2V5cztcbiAgIDEzN1x0ICB9XG4gICAxMzhcdFxuICAgMTM5XHQgIC8qXG4gICAxNDBcdCAgICBnZXRFbnRpdHlBY3Rpb25zQ2F0ZWdvcnkoKSAtIEZldGNoZXMgYW4gZW50aXR5IGFjdGlvbnMgY2F0ZWdvcnkgb2JqZWN0L2tleS5cbiAgIDE0MVx0ICAgIGFyZzBfbmFtZTogKFN0cmluZykgLSBUaGUgbmFtZS9JRCBvZiB0aGUgZW50aXR5IGFjdGlvbiBjYXRlZ29yeS5cbiAgIDE0Mlx0ICAgIGFyZzFfb3B0aW9uczogKE9iamVjdClcbiAgIDE0M1x0ICAgICAgcmV0dXJuX2tleTogKEJvb2xlYW4pIC0gT3B0aW9uYWwuIFdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUga2V5LiBGYWxzZSBieSBkZWZhdWx0LlxuICAgMTQ0XHRcbiAgIDE0NVx0ICAgIFJldHVybnM6IChPYmplY3QvU3RyaW5nKVxuICAgMTQ2XHQgICovXG4gICAxNDdcdCAgZnVuY3Rpb24gZ2V0RW50aXR5QWN0aW9uc0NhdGVnb3J5IChhcmcwX25hbWUsIGFyZzFfb3B0aW9ucykge1xuICAgMTQ4XHQgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuICAgMTQ5XHQgICAgdmFyIG5hbWUgPSBhcmcwX25hbWU7XG4gICAxNTBcdCAgICB2YXIgb3B0aW9ucyA9IChhcmcxX29wdGlvbnMpID8gYXJnMV9vcHRpb25zIDoge307XG4gICAxNTFcdFxuICAgMTUyXHQgICAgLy9HdWFyZCBjbGF1c2UgZm9yIG9iamVjdHM7IGRpcmVjdCBrZXlzXG4gICAxNTNcdCAgICBpZiAodHlwZW9mIG5hbWUgPT0gXCJvYmplY3RcIikgcmV0dXJuIG5hbWU7XG4gICAxNTRcdCAgICBpZiAoY29uZmlnLmVudGl0eV9hY3Rpb25zW25hbWVdKSByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9hY3Rpb25zW25hbWVdIDogbmFtZTtcbiAgIDE1NVx0XG4gICAxNTZcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAxNTdcdCAgICB2YXIgYWxsX2VudGl0eV9hY3Rpb25zID0gT2JqZWN0LmtleXMoY29uZmlnLmVudGl0eV9hY3Rpb25zKTtcbiAgIDE1OFx0ICAgIHZhciBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbZmFsc2UsIFwiXCJdOyAvL1tlbnRpdHlfYWN0aW9uc19leGlzdHMsIGVudGl0eV9hY3Rpb25zX2tleV07XG4gICAxNTlcdCAgICB2YXIgc2VhcmNoX25hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgMTYwXHRcbiAgIDE2MVx0ICAgIC8vSUQgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDE2Mlx0ICAgIHtcbiAgIDE2M1x0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2VudGl0eV9hY3Rpb25zXG4gICAxNjRcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgMTY1XHQgICAgICAgIGlmIChhbGxfZW50aXR5X2FjdGlvbnNbaV0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxNjZcdCAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcbiAgIDE2N1x0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspXG4gICAxNjhcdCAgICAgICAgaWYgKGFsbF9lbnRpdHlfYWN0aW9uc1tpXS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMTY5XHQgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcbiAgIDE3MFx0ICAgIH1cbiAgIDE3MVx0XG4gICAxNzJcdCAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbiAgIDE3M1x0ICAgIHtcbiAgIDE3NFx0ICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2VudGl0eV9hY3Rpb25zXG4gICAxNzVcdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAxNzZcdCAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmVudGl0eV9hY3Rpb25zW2FsbF9lbnRpdHlfYWN0aW9uc1tpXV07XG4gICAxNzdcdFxuICAgMTc4XHQgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuICAgMTc5XHQgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hfbmFtZSkpXG4gICAxODBcdCAgICAgICAgICAgIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFt0cnVlLCBhbGxfZW50aXR5X2tleWZyYW1lc1tpXV07XG4gICAxODFcdCAgICAgIH1cbiAgIDE4Mlx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgIDE4M1x0ICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuZW50aXR5X2FjdGlvbnNbYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcbiAgIDE4NFx0XG4gICAxODVcdCAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUpXG4gICAxODZcdCAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNlYXJjaF9uYW1lKVxuICAgMTg3XHQgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuICAgMTg4XHQgICAgICB9XG4gICAxODlcdCAgICB9XG4gICAxOTBcdFxuICAgMTkxXHQgICAgLy9SZXR1cm4gc3RhdGVtZW50XG4gICAxOTJcdCAgICBpZiAoZW50aXR5X2FjdGlvbnNfZXhpc3RzWzBdKVxuICAgMTkzXHQgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9hY3Rpb25zW2VudGl0eV9hY3Rpb25zX2V4aXN0c1sxXV0gOiBlbnRpdHlfYWN0aW9uc19leGlzdHNbMV07XG4gICAxOTRcdCAgfVxuICAgMTk1XHRcbiAgIDE5Nlx0ICAvKlxuICAgMTk3XHQgICAgZ2V0RW50aXR5QWN0aW9uSW5wdXQoKSAtIEZldGNoZXMgdGhlIGlucHV0IG9iamVjdCBvZiBhIGdpdmVuIGVudGl0eSBhY3Rpb24gd2l0aGluIGNvbmZpZyAuaW50ZXJmYWNlLlxuICAgMTk4XHQgICAgYXJnMF9hY3Rpb25faWQ6IChTdHJpbmcpIC0gVGhlIGFjdGlvbiBJRCB0byBzZWFyY2ggZm9yLlxuICAgMTk5XHQgICAgYXJnMV9pbnB1dF9pZDogKFN0cmluZykgLSBUaGUgaW5wdXQgSUQgdG8gc2VhcmNoIGZvciBpbiB0ZXJtcyBvZiAuaWQgb3IgLmlucHV0IGtleS5cbiAgIDIwMFx0XG4gICAyMDFcdCAgICBSZXR1cm5zOiAoT2JqZWN0KVxuICAgMjAyXHQgICovXG4gICAyMDNcdCAgZnVuY3Rpb24gZ2V0RW50aXR5QWN0aW9uSW5wdXQgKGFyZzBfYWN0aW9uX2lkLCBhcmcxX2lucHV0X2lkKSB7XG4gICAyMDRcdCAgICAvL0NvbnZlcnQgZnJvbSBwYXJhbWV0ZXJzXG4gICAyMDVcdCAgICB2YXIgYWN0aW9uX2lkID0gYXJnMF9hY3Rpb25faWQ7XG4gICAyMDZcdCAgICB2YXIgaW5wdXRfaWQgPSBhcmcxX2lucHV0X2lkO1xuICAgMjA3XHRcbiAgIDIwOFx0ICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbiAgIDIwOVx0ICAgIHZhciBlbnRpdHlfYWN0aW9uID0gZ2V0RW50aXR5QWN0aW9uKGtleWZyYW1lX2lkKTtcbiAgIDIxMFx0XG4gICAyMTFcdCAgICBpZiAoZW50aXR5X2FjdGlvbilcbiAgIDIxMlx0ICAgICAgLy9JdGVyYXRlIG92ZXIgLmludGVyZmFjZSBpZiBpdCBleGlzdHNcbiAgIDIxM1x0ICAgICAgaWYgKGVudGl0eV9hY3Rpb24uaW50ZXJmYWNlKSB7XG4gICAyMTRcdCAgICAgICAgLy9HdWFyZCBjbGF1c2UgaWYgY2l0aW5nIGRpcmVjdCBrZXlcbiAgIDIxNVx0ICAgICAgICBpZiAoZW50aXR5X2FjdGlvbi5pbnRlcmZhY2VbaW5wdXRfaWRdKSByZXR1cm4gZW50aXR5X2FjdGlvbi5pbnRlcmZhY2VbaW5wdXRfaWRdO1xuICAgMjE2XHRcbiAgIDIxN1x0ICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfaW5wdXRzXG4gICAyMThcdCAgICAgICAgdmFyIGFsbF9pbnB1dHMgPSBPYmplY3Qua2V5cyhlbnRpdHlfYWN0aW9uLmludGVyZmFjZSk7XG4gICAyMTlcdFxuICAgMjIwXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2lucHV0cy5sZW5ndGg7IGkrKykge1xuICAgMjIxXHQgICAgICAgICAgdmFyIGxvY2FsX2lucHV0ID0gZW50aXR5X2FjdGlvbi5pbnRlcmZhY2VbYWxsX2lucHV0c1tpXV07XG4gICAyMjJcdFxuICAgMjIzXHQgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGxvY2FsX2lucHV0KSAmJiB0eXBlb2YgbG9jYWxfaW5wdXQgPT0gXCJvYmplY3RcIilcbiAgIDIyNFx0ICAgICAgICAgICAgaWYgKGxvY2FsX2lucHV0LmlkID09IGlucHV0X2lkKVxuICAgMjI1XHQgICAgICAgICAgICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMjI2XHQgICAgICAgICAgICAgIHJldHVybiBsb2NhbF9pbnB1dDtcbiAgIDIyN1x0ICAgICAgICB9XG4gICAyMjhcdCAgICAgIH1cbiAgIDIyOVx0ICB9XG4gICAyMzBcdFxuICAgMjMxXHQgIC8qXG4gICAyMzJcdCAgICBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIoKSAtIEZldGNoZXMgdGhlIGxvd2VzdCAub3JkZXIgZnJvbSBhbGwgY29uZmlnLmVudGl0eV9hY3Rpb25zLlxuICAgMjMzXHRcbiAgIDIzNFx0ICAgIFJldHVybnM6IChOdW1iZXIpXG4gICAyMzVcdCAgKi9cbiAgIDIzNlx0ICBmdW5jdGlvbiBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIgKCkge1xuICAgMjM3XHQgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuICAgMjM4XHQgICAgdmFyIGZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucyA9IGNvbmZpZy5mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnM7XG4gICAyMzlcdCAgICB2YXIgbWluX29yZGVyID0gSW5maW5pdHk7XG4gICAyNDBcdFxuICAgMjQxXHQgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9uc1xuICAgMjQyXHQgICAgdmFyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMpO1xuICAgMjQzXHRcbiAgIDI0NFx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2ZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgMjQ1XHQgICAgICB2YXIgbG9jYWxfYWN0aW9uID0gZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zW2FsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNbaV1dO1xuICAgMjQ2XHRcbiAgIDI0N1x0ICAgICAgaWYgKGxvY2FsX2FjdGlvbi5vcmRlciAhPSB1bmRlZmluZWQpXG4gICAyNDhcdCAgICAgICAgbWluX29yZGVyID0gTWF0aC5taW4obWluX29yZGVyLCBsb2NhbF9hY3Rpb24ub3JkZXIpO1xuICAgMjQ5XHQgICAgfVxuICAgMjUwXHRcbiAgIDI1MVx0ICAgIC8vUmV0dXJuIHN0YXRlbWVudFxuICAgMjUyXHQgICAgcmV0dXJuIG1pbl9vcmRlcjtcbiAgIDI1M1x0ICB9XG4gICAyNTRcdFxuICAgMjU1XHQgIC8qXG4gICAyNTZcdCAgICBnZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCgpIC0gRmV0Y2hlcyB0aGUgbmF2aWdhdGlvbiBvYmplY3QgZm9yIGVudGl0eSBhY3Rpb25zOyB0aGUgaW5pdGlhbCBjb250ZXh0IG1lbnUgZnJvbSB0aGUgbG93ZXN0IG9yZGVyLlxuICAgMjU3XHRcbiAgIDI1OFx0ICAgIFJldHVybnM6IChPYmplY3QpXG4gICAyNTlcdCAgKi9cbiAgIDI2MFx0ICBmdW5jdGlvbiBnZXRFbnRpdHlBY3Rpb25zTmF2aWdhdGlvbk9iamVjdCAoKSB7XG4gICAyNjFcdCAgICAvL0RlY2xhcmUgbG9jYWwgaW5zdGFuY2UgdmFyaWFibGVzXG4gICAyNjJcdCAgICB2YXIgZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zID0gY29uZmlnLmZsYXR0ZW5lZF9lbnRpdHlfYWN0aW9ucztcbiAgIDI2M1x0ICAgIHZhciBsb3dlc3Rfb3JkZXIgPSBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIoZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zKTtcbiAgIDI2NFx0XG4gICAyNjVcdCAgICAvL1JldHVybiBzdGF0ZW1lbnRcbiAgIDI2Nlx0ICAgIHJldHVybiBnZXRFbnRpdHlBY3Rpb25zQXRPcmRlcih7IG9yZGVyOiBsb3dlc3Rfb3JkZXIsIHJldHVybl9vYmplY3Q6IHRydWUgfSk7XG4gICAyNjdcdCAgfVxuICAgMjY4XHR9XG4gICAyNjlcdFxuXG5EaWZmIGJldHdlZW4gb2xkU3RyIGFuZCB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi0tLSBvbGRTdHJcbisrKyByZWdpb25Db250ZW50XG5AQCAtOTMsMTEgKzkzLDExIEBAXG4gICB9XG4gXG4gICAvKlxuLSAgICBnZXRFbnRpdHlBY3Rpb25zQXRPcmRlcigpIC0gRmV0Y2hlcyBhbGwgZW50aXR5IGFjdGlvbnMgYXQgYSBzcGVjaWZpYyBvcmRlci5cbisgICAgZ2V0RW50aXR5QWN0aW9uc0F0T3JkZXIoKSAtIEZldGNoZXMgYWxsIGVudGl0eSBhY3Rpb25zIGJlbG9uZ2luZyB0byBhIGdpdmVuIC5vcmRlci5cbiAgICAgYXJnMF9vcHRpb25zOiAoT2JqZWN0KVxuLSAgICAgIG9yZGVyOiAoTnVtYmVyKSAtIE9wdGlvbmFsLiBUaGUgb3JkZXIgdG8gZmV0Y2ggZW50aXR5IGFjdGlvbnMgYXQuIDEgYnkgZGVmYXVsdC5cbi0gICAgICByZXR1cm5fa2V5OiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIGFuIGFycmF5IG9mIGtleXMgaW5zdGVhZCBvZiBvYmplY3RzLiBGYWxzZSBieSBkZWZhdWx0LlxuLSAgICAgIHJldHVybl9vYmplY3Q6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gb2JqZWN0IGluc3RlYWQgb2YgYW4gYXJyYXkuIEZhbHNlIGJ5IGRlZmF1bHQuXG4rICAgICAgb3JkZXI6IChOdW1iZXIpIC0gT3B0aW9uYWwuIFRoZSBjdXJyZW50IG9yZGVyIHRvIGZldGNoIGFsbCByZWxldmFudCBhY3Rpb25zIGF0LiAxIGJ5IGRlZmF1bHQuXG4rICAgICAgcmV0dXJuX2tleXM6IChCb29sZWFuKSAtIE9wdGlvbmFsLiBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gYW4gYXJyYXkgb2Yga2V5cyBpbnN0ZWFkIG9mIG9iamVjdHMuIEZhbHNlIGJ5IGRlZmF1bHQuXG4rICAgICAgcmV0dXJuX29iamVjdDogKEJvb2xlYW4pIC0gT3B0aW9uYWwuIFdoZXRoZXIgdG8gcmV0dXJuIHRoZSBhcnJheSBhcyBhbiBvYmplY3Qgb3Igbm90LiBGYWxzZSBieSBkZWZhdWx0LlxuIFxuICAgICBSZXR1cm5zOiAoQXJyYXk8T2JqZWN0Pi9BcnJheTxTdHJpbmc+L09iamVjdClcbiAgICovXG5AQCAtMTA5LDggKzEwOSw4IEBAXG4gICAgIHZhciBmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBjb25maWcuZmxhdHRlbmVkX2VudGl0eV9hY3Rpb25zO1xuICAgICB2YXIgb3JkZXIgPSAob3B0aW9ucy5vcmRlciAhPSB1bmRlZmluZWQpID8gb3B0aW9ucy5vcmRlciA6IDE7XG4gICAgIHZhciByZXR1cm5fYWN0aW9ucyA9IFtdO1xuLSAgICB2YXIgcmV0dXJuX2tleXMgPSBbXTtcbiAgICAgdmFyIHJldHVybl9vYmogPSB7fTtcbisgICAgdmFyIHJldHVybl9rZXlzID0gW107XG4gXG4gICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnNcbiAgICAgdmFyIGFsbF9mbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMgPSBPYmplY3Qua2V5cyhmbGF0dGVuZWRfZW50aXR5X2FjdGlvbnMpO1xuQEAgLTEzNyw2ICsxMzcsOTggQEBcbiAgIH1cbiBcbiAgIC8qXG4rICAgIGdldEVudGl0eUFjdGlvbnNDYXRlZ29yeSgpIC0gRmV0Y2hlcyBhbiBlbnRpdHkgYWN0aW9ucyBjYXRlZ29yeSBvYmplY3Qva2V5LlxuKyAgICBhcmcwX25hbWU6IChTdHJpbmcpIC0gVGhlIG5hbWUvSUQgb2YgdGhlIGVudGl0eSBhY3Rpb24gY2F0ZWdvcnkuXG4rICAgIGFyZzFfb3B0aW9uczogKE9iamVjdClcbisgICAgICByZXR1cm5fa2V5OiAoQm9vbGVhbikgLSBPcHRpb25hbC4gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBrZXkuIEZhbHNlIGJ5IGRlZmF1bHQuXG4rXG4rICAgIFJldHVybnM6IChPYmplY3QvU3RyaW5nKVxuKyAgKi9cbisgIGZ1bmN0aW9uIGdldEVudGl0eUFjdGlvbnNDYXRlZ29yeSAoYXJnMF9uYW1lLCBhcmcxX29wdGlvbnMpIHtcbisgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuKyAgICB2YXIgbmFtZSA9IGFyZzBfbmFtZTtcbisgICAgdmFyIG9wdGlvbnMgPSAoYXJnMV9vcHRpb25zKSA/IGFyZzFfb3B0aW9ucyA6IHt9O1xuK1xuKyAgICAvL0d1YXJkIGNsYXVzZSBmb3Igb2JqZWN0czsgZGlyZWN0IGtleXNcbisgICAgaWYgKHR5cGVvZiBuYW1lID09IFwib2JqZWN0XCIpIHJldHVybiBuYW1lO1xuKyAgICBpZiAoY29uZmlnLmVudGl0eV9hY3Rpb25zW25hbWVdKSByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9hY3Rpb25zW25hbWVdIDogbmFtZTtcbitcbisgICAgLy9EZWNsYXJlIGxvY2FsIGluc3RhbmNlIHZhcmlhYmxlc1xuKyAgICB2YXIgYWxsX2VudGl0eV9hY3Rpb25zID0gT2JqZWN0LmtleXMoY29uZmlnLmVudGl0eV9hY3Rpb25zKTtcbisgICAgdmFyIGVudGl0eV9hY3Rpb25zX2V4aXN0cyA9IFtmYWxzZSwgXCJcIl07IC8vW2VudGl0eV9hY3Rpb25zX2V4aXN0cywgZW50aXR5X2FjdGlvbnNfa2V5XTtcbisgICAgdmFyIHNlYXJjaF9uYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbitcbisgICAgLy9JRCBzZWFyY2ggLSBzb2Z0IHNlYXJjaCAxc3QsIGhhcmQgc2VhcmNoIDJuZFxuKyAgICB7XG4rICAgICAgLy9JdGVyYXRlIG92ZXIgYWxsX2VudGl0eV9hY3Rpb25zXG4rICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxfZW50aXR5X2FjdGlvbnMubGVuZ3RoOyBpKyspXG4rICAgICAgICBpZiAoYWxsX2VudGl0eV9hY3Rpb25zW2ldLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoX25hbWUpKVxuKyAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcbisgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKylcbisgICAgICAgIGlmIChhbGxfZW50aXR5X2FjdGlvbnNbaV0udG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbisgICAgICAgICAgZW50aXR5X2FjdGlvbnNfZXhpc3RzID0gW3RydWUsIGFsbF9lbnRpdHlfa2V5ZnJhbWVzW2ldXTtcbisgICAgfVxuK1xuKyAgICAvL05hbWUgc2VhcmNoIC0gc29mdCBzZWFyY2ggMXN0LCBoYXJkIHNlYXJjaCAybmRcbisgICAge1xuKyAgICAgIC8vSXRlcmF0ZSBvdmVyIGFsbF9lbnRpdHlfYWN0aW9uc1xuKyAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2VudGl0eV9hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4rICAgICAgICB2YXIgbG9jYWxfdmFsdWUgPSBjb25maWcuZW50aXR5X2FjdGlvbnNbYWxsX2VudGl0eV9hY3Rpb25zW2ldXTtcbitcbisgICAgICAgIGlmIChsb2NhbF92YWx1ZS5uYW1lKVxuKyAgICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaF9uYW1lKSlcbisgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuKyAgICAgIH1cbisgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbF9lbnRpdHlfYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuKyAgICAgICAgdmFyIGxvY2FsX3ZhbHVlID0gY29uZmlnLmVudGl0eV9hY3Rpb25zW2FsbF9lbnRpdHlfYWN0aW9uc1tpXV07XG4rXG4rICAgICAgICBpZiAobG9jYWxfdmFsdWUubmFtZSlcbisgICAgICAgICAgaWYgKGxvY2FsX3ZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBzZWFyY2hfbmFtZSlcbisgICAgICAgICAgICBlbnRpdHlfYWN0aW9uc19leGlzdHMgPSBbdHJ1ZSwgYWxsX2VudGl0eV9rZXlmcmFtZXNbaV1dO1xuKyAgICAgIH1cbisgICAgfVxuK1xuKyAgICAvL1JldHVybiBzdGF0ZW1lbnRcbisgICAgaWYgKGVudGl0eV9hY3Rpb25zX2V4aXN0c1swXSlcbisgICAgICByZXR1cm4gKCFvcHRpb25zLnJldHVybl9rZXkpID8gY29uZmlnLmVudGl0eV9hY3Rpb25zW2VudGl0eV9hY3Rpb25zX2V4aXN0c1sxXV0gOiBlbnRpdHlfYWN0aW9uc19leGlzdHNbMV07XG4rICB9XG4rXG4rICAvKlxuKyAgICBnZXRFbnRpdHlBY3Rpb25JbnB1dCgpIC0gRmV0Y2hlcyB0aGUgaW5wdXQgb2JqZWN0IG9mIGEgZ2l2ZW4gZW50aXR5IGFjdGlvbiB3aXRoaW4gY29uZmlnIC5pbnRlcmZhY2UuXG4rICAgIGFyZzBfYWN0aW9uX2lkOiAoU3RyaW5nKSAtIFRoZSBhY3Rpb24gSUQgdG8gc2VhcmNoIGZvci5cbisgICAgYXJnMV9pbnB1dF9pZDogKFN0cmluZykgLSBUaGUgaW5wdXQgSUQgdG8gc2VhcmNoIGZvciBpbiB0ZXJtcyBvZiAuaWQgb3IgLmlucHV0IGtleS5cbitcbisgICAgUmV0dXJuczogKE9iamVjdClcbisgICovXG4rICBmdW5jdGlvbiBnZXRFbnRpdHlBY3Rpb25JbnB1dCAoYXJnMF9hY3Rpb25faWQsIGFyZzFfaW5wdXRfaWQpIHtcbisgICAgLy9Db252ZXJ0IGZyb20gcGFyYW1ldGVyc1xuKyAgICB2YXIgYWN0aW9uX2lkID0gYXJnMF9hY3Rpb25faWQ7XG4rICAgIHZhciBpbnB1dF9pZCA9IGFyZzFfaW5wdXRfaWQ7XG4rXG4rICAgIC8vRGVjbGFyZSBsb2NhbCBpbnN0YW5jZSB2YXJpYWJsZXNcbisgICAgdmFyIGVudGl0eV9hY3Rpb24gPSBnZXRFbnRpdHlBY3Rpb24oa2V5ZnJhbWVfaWQpO1xuK1xuKyAgICBpZiAoZW50aXR5X2FjdGlvbilcbisgICAgICAvL0l0ZXJhdGUgb3ZlciAuaW50ZXJmYWNlIGlmIGl0IGV4aXN0c1xuKyAgICAgIGlmIChlbnRpdHlfYWN0aW9uLmludGVyZmFjZSkge1xuKyAgICAgICAgLy9HdWFyZCBjbGF1c2UgaWYgY2l0aW5nIGRpcmVjdCBrZXlcbisgICAgICAgIGlmIChlbnRpdHlfYWN0aW9uLmludGVyZmFjZVtpbnB1dF9pZF0pIHJldHVybiBlbnRpdHlfYWN0aW9uLmludGVyZmFjZVtpbnB1dF9pZF07XG4rXG4rICAgICAgICAvL0l0ZXJhdGUgb3ZlciBhbGxfaW5wdXRzXG4rICAgICAgICB2YXIgYWxsX2lucHV0cyA9IE9iamVjdC5rZXlzKGVudGl0eV9hY3Rpb24uaW50ZXJmYWNlKTtcbitcbisgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsX2lucHV0cy5sZW5ndGg7IGkrKykge1xuKyAgICAgICAgICB2YXIgbG9jYWxfaW5wdXQgPSBlbnRpdHlfYWN0aW9uLmludGVyZmFjZVthbGxfaW5wdXRzW2ldXTtcbitcbisgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGxvY2FsX2lucHV0KSAmJiB0eXBlb2YgbG9jYWxfaW5wdXQgPT0gXCJvYmplY3RcIilcbisgICAgICAgICAgICBpZiAobG9jYWxfaW5wdXQuaWQgPT0gaW5wdXRfaWQpXG4rICAgICAgICAgICAgICAvL1JldHVybiBzdGF0ZW1lbnRcbisgICAgICAgICAgICAgIHJldHVybiBsb2NhbF9pbnB1dDtcbisgICAgICAgIH1cbisgICAgICB9XG4rICB9XG4rXG4rICAvKlxuICAgICBnZXRFbnRpdHlBY3Rpb25zTG93ZXN0T3JkZXIoKSAtIEZldGNoZXMgdGhlIGxvd2VzdCAub3JkZXIgZnJvbSBhbGwgY29uZmlnLmVudGl0eV9hY3Rpb25zLlxuIFxuICAgICBSZXR1cm5zOiAoTnVtYmVyKVxuXG5cbkZpeCBmYWlsZWQgc3RyX3JlcGxhY2UgZW50cmllcyBhY2NvcmRpbmdseSBhbmQgdHJ5IGFnYWluLlxuIiwiaXNFcnJvciI6dHJ1ZSwicmVxdWVzdElkIjoiIn19LCI0MjMzM2MyYS1mN2MyLTRkNTItYTA0MC1hMGJiMjY1ODQxNDI7dG9vbHVfdnJ0eF8wMTI4NUVqWXRtRFpWQjNkMkp0S2JRQlUiOnsicmVxdWVzdElkIjoiNDIzMzNjMmEtZjdjMi00ZDUyLWEwNDAtYTBiYjI2NTg0MTQyIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTI4NUVqWXRtRFpWQjNkMkp0S2JRQlUiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbjxyZXR1cm4tY29kZT5cbjBcbjwvcmV0dXJuLWNvZGU+XG48c3Rkb3V0PlxuXHUwMDFiWz85MDAxaFx1MDAxYls/MTAwNGhcdTAwMWJbPzI1bFx1MDAxYlsySlx1MDAxYlttXHUwMDFiW0hcdTAwMWJdMDtDOlxcV0lORE9XU1xcU3lzdGVtMzJcXFdpbmRvd3NQb3dlclNoZWxsXFx2MS4wXFxwb3dlcnNoZWxsLmV4ZVx1MDAwN1x1MDAxYls/MjVoXG48L3N0ZG91dD5cbjxzdGRlcnI+XG5cbjwvc3RkZXJyPiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjAyOTkxMjc3LWM3NWItNGRlMy05Y2I3LWY2MTkxODFmNDcxNjt0b29sdV92cnR4XzAxWDdpcEhoUW8yV25XNkJ2ZFJpRWlUSyI6eyJyZXF1ZXN0SWQiOiIwMjk5MTI3Ny1jNzViLTRkZTMtOWNiNy1mNjE5MTgxZjQ3MTYiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxWDdpcEhoUW8yV25XNkJ2ZFJpRWlUSyIsInBoYXNlIjo2LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgYWxyZWFkeSBleGlzdHM6IEQ6XFxQcm9qZWN0IDE3MDYgLSBOYWlzc2FuY2UgRWxlY3Ryb25cXHNyY1xcanNcXGZyYW1ld29ya1xcZW50aXRpZXNcXGVudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qcyIsImlzRXJyb3IiOnRydWUsInJlcXVlc3RJZCI6IiJ9fSwiODZiODIxY2YtYzJhMS00ZDM4LWFiNjUtMzcwN2FiOWRmNjMyO3Rvb2x1X3ZydHhfMDFMMmUxQWFvQWlCdUh2NXZkMjRXZXlBIjp7InJlcXVlc3RJZCI6Ijg2YjgyMWNmLWMyYTEtNGQzOC1hYjY1LTM3MDdhYjlkZjYzMiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFMMmUxQWFvQWlCdUh2NXZkMjRXZXlBIiwicGhhc2UiOjYsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBub3QgZm91bmQ6IHNyYy9qcy9mcmFtZXdvcmsvZW50aXRpZXMvZW50aXR5X2FjdGlvbnNfZnJhbWV3b3JrLmpzLiBEaWQgeW91IG1lYW4gb25lIG9mIHRoZXNlPyBzcmMvanMvZnJhbWV3b3JrL2VudGl0aWVzL2VudGl0eV9hY3Rpb25zX2ZyYW1ld29yay5qcyIsImlzRXJyb3IiOnRydWUsInJlcXVlc3RJZCI6IiJ9fSwiMDYyMzViNTktNjJlOC00M2VkLWEzODktZGQ3MTI2NjNlZjlmO3Rvb2x1X3ZydHhfMDFBREdIeEVVMUZqR0FqV24xbXh4YlF4Ijp7InJlcXVlc3RJZCI6IjA2MjM1YjU5LTYyZTgtNDNlZC1hMzg5LWRkNzEyNjYzZWY5ZiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFBREdIeEVVMUZqR0FqV24xbXh4YlF4IiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG48cmV0dXJuLWNvZGU+XG4wXG48L3JldHVybi1jb2RlPlxuPHN0ZG91dD5cblx1MDAxYls/OTAwMWhcdTAwMWJbPzEwMDRoXHUwMDFiWz8yNWxcdTAwMWJbMkpcdTAwMWJbbVx1MDAxYltIXHUwMDFiXTA7QzpcXFdJTkRPV1NcXFN5c3RlbTMyXFxXaW5kb3dzUG93ZXJTaGVsbFxcdjEuMFxccG93ZXJzaGVsbC5leGVcdTAwMDdcdTAwMWJbPzI1aFxuPC9zdGRvdXQ+XG48c3RkZXJyPlxuXG48L3N0ZGVycj4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI2MDU2NjM0Yy05YTExLTQ3ZjctOGFhNS04NGRiNWFlYzZlNTc7dG9vbHVfdnJ0eF8wMTk2OVJTZjVxVVhKSjk1V2NiQVFrTGkiOnsicmVxdWVzdElkIjoiNjA1NjYzNGMtOWExMS00N2Y3LThhYTUtODRkYjVhZWM2ZTU3IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTk2OVJTZjVxVVhKSjk1V2NiQVFrTGkiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkLiAgU2F2ZWQgZmlsZSB7c3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfYWN0aW9uc19mcmFtZXdvcmsuanN9IiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOGYwMTI5NDEtODQ4NC00MWU0LTgzZTItZThiZDI0MWQ3N2VmO3Rvb2x1X3ZydHhfMDFXc0pOTk1QblAzbVk0dEhkd0NFNTdQIjp7InJlcXVlc3RJZCI6IjhmMDEyOTQxLTg0ODQtNDFlNC04M2UyLWU4YmQyNDFkNzdlZiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFXc0pOTk1QblAzbVk0dEhkd0NFNTdQIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG48cmV0dXJuLWNvZGU+XG4wXG48L3JldHVybi1jb2RlPlxuPHN0ZG91dD5cblx1MDAxYls/OTAwMWhcdTAwMWJbPzEwMDRoXHUwMDFiWz8yNWxcdTAwMWJbMkpcdTAwMWJbbVx1MDAxYltIXHUwMDFiXTA7QzpcXFdJTkRPV1NcXFN5c3RlbTMyXFxXaW5kb3dzUG93ZXJTaGVsbFxcdjEuMFxccG93ZXJzaGVsbC5leGVcdTAwMDdcdTAwMWJbPzI1aFxuPC9zdGRvdXQ+XG48c3RkZXJyPlxuXG48L3N0ZGVycj4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI0M2M3YzRkZi1kZWQ1LTQ1MmUtYjAxZC03Y2FiZjU1ZWNmNDQ7dG9vbHVfdnJ0eF8wMTFQNjVlb1EyVHJGNDEyMmlrNVo5TXYiOnsicmVxdWVzdElkIjoiNDNjN2M0ZGYtZGVkNS00NTJlLWIwMWQtN2NhYmY1NWVjZjQ0IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTFQNjVlb1EyVHJGNDEyMmlrNVo5TXYiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkLiAgU2F2ZWQgZmlsZSB7c3JjL2pzL2ZyYW1ld29yay92YXJpYWJsZXMvdmFyaWFibGVfYWN0aW9uc19mcmFtZXdvcmsuanN9IiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNTIwNjc2ZjgtYWUzMi00MmY3LTgxY2MtN2NkODk4ZDM1M2QzO3Rvb2x1X3ZydHhfMDFEOFFuWlBFd0VpWEFFZ2JpRUwyV0ZLIjp7InJlcXVlc3RJZCI6IjUyMDY3NmY4LWFlMzItNDJmNy04MWNjLTdjZDg5OGQzNTNkMyIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFEOFFuWlBFd0VpWEFFZ2JpRUwyV0ZLIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG48cmV0dXJuLWNvZGU+XG4wXG48L3JldHVybi1jb2RlPlxuPHN0ZG91dD5cblx1MDAxYls/OTAwMWhcdTAwMWJbPzEwMDRoXHUwMDFiWz8yNWxcdTAwMWJbMkpcdTAwMWJbbVx1MDAxYltIXHUwMDFiXTA7QzpcXFdJTkRPV1NcXFN5c3RlbTMyXFxXaW5kb3dzUG93ZXJTaGVsbFxcdjEuMFxccG93ZXJzaGVsbC5leGVcdTAwMDdcdTAwMWJbPzI1aFxuPC9zdGRvdXQ+XG48c3RkZXJyPlxuXG48L3N0ZGVycj4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI5MjcwY2ViMi1kMmEzLTRjYWEtYmU0Yi1mYzQ4MGZlN2MxMzU7dG9vbHVfdnJ0eF8wMTJGNk45NHRHaTRWQTU1SzFRS0FxTWgiOnsicmVxdWVzdElkIjoiOTI3MGNlYjItZDJhMy00Y2FhLWJlNGItZmM0ODBmZTdjMTM1IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTJGNk45NHRHaTRWQTU1SzFRS0FxTWgiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkLiAgU2F2ZWQgZmlsZSB7c3JjL2pzL2ZyYW1ld29yay9lbnRpdGllcy9lbnRpdHlfa2V5ZnJhbWVzX2ZyYW1ld29yay5qc30iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIxMGZhNDg3Mi04NmRhLTQyMWYtOTY4Zi1hMzFhNmZkZTNlMjY7dG9vbHVfdnJ0eF8wMUpNVWRRbXJTZ2RFcVNTUHEzS01DcEQiOnsicmVxdWVzdElkIjoiMTBmYTQ4NzItODZkYS00MjFmLTk2OGYtYTMxYTZmZGUzZTI2IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMUpNVWRRbXJTZ2RFcVNTUHEzS01DcEQiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbjxyZXR1cm4tY29kZT5cbjBcbjwvcmV0dXJuLWNvZGU+XG48c3Rkb3V0PlxuXHUwMDFiWz85MDAxaFx1MDAxYls/MTAwNGhcdTAwMWJbPzI1bFx1MDAxYlsySlx1MDAxYlttXHUwMDFiW0hcdTAwMWJdMDtDOlxcV0lORE9XU1xcU3lzdGVtMzJcXFdpbmRvd3NQb3dlclNoZWxsXFx2MS4wXFxwb3dlcnNoZWxsLmV4ZVx1MDAwN1x1MDAxYls/MjVoXG48L3N0ZG91dD5cbjxzdGRlcnI+XG5cbjwvc3RkZXJyPiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImIxNjNlNmZkLTkzNzAtNGZkMi05YzU2LWU5ZmFhZmQ5Njc5ODt0b29sdV92cnR4XzAxMWY5eWZTV1UxY2RGVUw3ZW1kM3ZBMSI6eyJyZXF1ZXN0SWQiOiJiMTYzZTZmZC05MzcwLTRmZDItOWM1Ni1lOWZhYWZkOTY3OTgiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxMWY5eWZTV1UxY2RGVUw3ZW1kM3ZBMSIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQuICBTYXZlZCBmaWxlIHtzcmMvanMvZnJhbWV3b3JrL2JydXNoL2JydXNoX2FjdGlvbnNfZnJhbWV3b3JrLmpzfSIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjZiYzAwMzA1LWEzMDQtNDNjYi1iYmViLTJkMzZkNTMwYzg1Nzt0b29sdV92cnR4XzAxNVhNOVF5NTdVR2VMMjJUQzUxQVRGOCI6eyJyZXF1ZXN0SWQiOiI2YmMwMDMwNS1hMzA0LTQzY2ItYmJlYi0yZDM2ZDUzMGM4NTciLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxNVhNOVF5NTdVR2VMMjJUQzUxQVRGOCIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUgYXJlIHRoZSByZXN1bHRzIGZyb20gZXhlY3V0aW5nIHRoZSBjb21tYW5kLlxuPHJldHVybi1jb2RlPlxuMFxuPC9yZXR1cm4tY29kZT5cbjxzdGRvdXQ+XG5cdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbSFx1MDAxYl0wO0M6XFxXSU5ET1dTXFxTeXN0ZW0zMlxcV2luZG93c1Bvd2VyU2hlbGxcXHYxLjBcXHBvd2Vyc2hlbGwuZXhlXHUwMDA3XHUwMDFiWz8yNWhcbjwvc3Rkb3V0PlxuPHN0ZGVycj5cblxuPC9zdGRlcnI+IiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYjlkYzkyOTQtZWYyOC00OWQ2LWE3YjktMDlmNTVhNjU5OGYzO3Rvb2x1X3ZydHhfMDFDekx1NHVOVjdWWGtpWmtDQVRIRVh0Ijp7InJlcXVlc3RJZCI6ImI5ZGM5Mjk0LWVmMjgtNDlkNi1hN2I5LTA5ZjU1YTY1OThmMyIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFDekx1NHVOVjdWWGtpWmtDQVRIRVh0IiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBzYXZlZC4gIFNhdmVkIGZpbGUge3NyYy9qcy9mcmFtZXdvcmsvZ3JvdXBzL2dyb3VwX2FjdGlvbnNfZnJhbWV3b3JrLmpzfSIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX19LCJkcmFmdEV4Y2hhbmdlIjp7InJlcXVlc3RfbWVzc2FnZSI6IiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgifV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdGF0dXMiOiJkcmFmdCJ9LCJyZXF1ZXN0SWRzIjpbXSwiaXNQaW5uZWQiOmZhbHNlLCJpc1NoYXJlYWJsZSI6dHJ1ZSwiZXh0cmFEYXRhIjp7ImlzQWdlbnRDb252ZXJzYXRpb24iOnRydWUsImhhc0RpcnR5RWRpdHMiOnRydWV9LCJwZXJzb25hVHlwZSI6MCwicm9vdFRhc2tVdWlkIjoiMmFlMDljMTMtODQ4Zi00ZTIwLWI0YjMtNmZjNjcwNWFiZDAwIn19LCJhZ2VudEV4ZWN1dGlvbk1vZGUiOiJtYW51YWwiLCJpc1BhbmVsQ29sbGFwc2VkIjp0cnVlLCJzb3J0Q29udmVyc2F0aW9uc0J5IjoibGFzdE1lc3NhZ2VUaW1lc3RhbXAifQ==" />
      </map>
    </option>
  </component>
</project>